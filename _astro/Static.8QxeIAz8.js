import{j as Ee}from"./jsx-runtime.CBLT1fQu.js";import{g as Dt,r as K,a as Lx,R as F}from"./index.D0ji8eZr.js";import{r as fo,a as sn,b as Sr,c as zd,d as zx,e as qx,f as on,g as qd,h as js,i as oC,j as Ux,k as Is,l as uC,m as ir,n as $s,o as Ms,p as cC,q as Wx,s as Ud,t as Wd,u as Vx,v as lC,S as fC,w as dC}from"./swiper-react.D_gZyo1_.js";import{c as pC}from"./vanilla.DtBHub2h.js";import{R as hC}from"./index.DMe0c9uX.js";import{P as vC}from"./pagination.DotPdGsl.js";/* empty css                       */import{L as ru}from"./dialog.ArLihyQX.js";import"./index.DfNPF2sN.js";var Ti=typeof navigator<"u"&&navigator.userAgent.includes("Mac OS X"),Rf=(e,t)=>!e||e.nodeName===t?e:Rf(e.parentElement,t),mC=/^(?:\w+:)?\/\/(\S+)$/,gC=/mailto:([^?\\]+)/,yC=/^localhost[\d:?]*(?:[^\d:?]\S*)?$/,bC=/^[^\s.]+\.\S{2,}$/,Vd=e=>{if(typeof e!="string")return!1;const t=mC.exec(e),r=gC.exec(e),n=t||r;if(!n)return!1;const a=n[1];if(!a)return!1;try{new URL(e)}catch{return!1}return yC.test(a)||bC.test(a)},Hx=(e,{allowedSchemes:t,permitInvalid:r=!1})=>{if(!e)return null;if(e.startsWith("/")||e.startsWith("#"))return e;let n=null;try{n=new URL(e)}catch{return r?e:null}return t&&!t.includes(n.protocol.slice(0,-1))?null:n.href},xC=e=>e===void 0,wC=e=>e===null,EC=e=>xC(e)||wC(e),Ve=e=>!EC(e);function V(e,t){return(...r)=>e(t,...r)}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function lh(e){return Object.prototype.toString.call(e)==="[object Object]"}function Et(e){var t,r;return lh(e)===!1?!1:(t=e.constructor,t===void 0?!0:(r=t.prototype,!(lh(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}var Kx=Symbol.for("immer-nothing"),fh=Symbol.for("immer-draftable"),Ut=Symbol.for("immer-state");function pr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ca=Object.getPrototypeOf;function kn(e){return!!e&&!!e[Ut]}function Fn(e){return e?Gx(e)||Array.isArray(e)||!!e[fh]||!!e.constructor?.[fh]||ho(e)||vo(e):!1}var DC=Object.prototype.constructor.toString();function Gx(e){if(!e||typeof e!="object")return!1;const t=ca(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===DC}function _i(e,t){po(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function po(e){const t=e[Ut];return t?t.type_:Array.isArray(e)?1:ho(e)?2:vo(e)?3:0}function jf(e,t){return po(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Yx(e,t,r){const n=po(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function CC(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ho(e){return e instanceof Map}function vo(e){return e instanceof Set}function pn(e){return e.copy_||e.base_}function If(e,t){if(ho(e))return new Map(e);if(vo(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Gx(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ut];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(ca(e),n)}else{const n=ca(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Hd(e,t=!1){return mo(e)||kn(e)||!Fn(e)||(po(e)>1&&(e.set=e.add=e.clear=e.delete=PC),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Hd(n,!0))),e}function PC(){pr(2)}function mo(e){return Object.isFrozen(e)}var OC={};function Tn(e){const t=OC[e];return t||pr(0,e),t}var ss;function Jx(){return ss}function AC(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dh(e,t){t&&(Tn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $f(e){Mf(e),e.drafts_.forEach(SC),e.drafts_=null}function Mf(e){e===ss&&(ss=e.parent_)}function ph(e){return ss=AC(ss,e)}function SC(e){const t=e[Ut];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function hh(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ut].modified_&&($f(t),pr(4)),Fn(e)&&(e=Ni(t,e),t.parent_||Ri(t,e)),t.patches_&&Tn("Patches").generateReplacementPatches_(r[Ut].base_,e,t.patches_,t.inversePatches_)):e=Ni(t,r,[]),$f(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Kx?e:void 0}function Ni(e,t,r){if(mo(t))return t;const n=t[Ut];if(!n)return _i(t,(a,s)=>vh(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ri(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),_i(s,(o,u)=>vh(e,n,a,o,u,r,i)),Ri(e,a,!1),r&&e.patches_&&Tn("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function vh(e,t,r,n,a,s,i){if(kn(a)){const o=s&&t&&t.type_!==3&&!jf(t.assigned_,n)?s.concat(n):void 0,u=Ni(e,a,o);if(Yx(r,n,u),kn(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Fn(a)&&!mo(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ni(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ri(e,a)}}function Ri(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Hd(t,r)}function BC(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Jx(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Kd;r&&(a=[n],s=is);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var Kd={get(e,t){if(t===Ut)return e;const r=pn(e);if(!jf(r,t))return kC(e,r,t);const n=r[t];return e.finalized_||!Fn(n)?n:n===nu(e.base_,t)?(au(e),e.copy_[t]=zf(n,e)):n},has(e,t){return t in pn(e)},ownKeys(e){return Reflect.ownKeys(pn(e))},set(e,t,r){const n=Zx(pn(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=nu(pn(e),t),s=a?.[Ut];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(CC(r,a)&&(r!==void 0||jf(e.base_,t)))return!0;au(e),Lf(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nu(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,au(e),Lf(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=pn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){pr(11)},getPrototypeOf(e){return ca(e.base_)},setPrototypeOf(){pr(12)}},is={};_i(Kd,(e,t)=>{is[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});is.deleteProperty=function(e,t){return is.set.call(this,e,t,void 0)};is.set=function(e,t,r){return Kd.set.call(this,e[0],t,r,e[0])};function nu(e,t){const r=e[Ut];return(r?pn(r):e)[t]}function kC(e,t,r){const n=Zx(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function Zx(e,t){if(!(t in e))return;let r=ca(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ca(r)}}function Lf(e){e.modified_||(e.modified_=!0,e.parent_&&Lf(e.parent_))}function au(e){e.copy_||(e.copy_=If(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var FC=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,n,a)=>{if(typeof r=="function"&&typeof n!="function"){const i=n;n=r;const o=this;return function(c=i,...l){return o.produce(c,f=>n.call(this,f,...l))}}typeof n!="function"&&pr(6),a!==void 0&&typeof a!="function"&&pr(7);let s;if(Fn(r)){const i=ph(this),o=zf(r,void 0);let u=!0;try{s=n(o),u=!1}finally{u?$f(i):Mf(i)}return dh(i,a),hh(s,i)}else if(!r||typeof r!="object"){if(s=n(r),s===void 0&&(s=r),s===Kx&&(s=void 0),this.autoFreeze_&&Hd(s,!0),a){const i=[],o=[];Tn("Patches").generateReplacementPatches_(r,s,i,o),a(i,o)}return s}else pr(1,r)},this.produceWithPatches=(r,n)=>{if(typeof r=="function")return(o,...u)=>this.produceWithPatches(o,c=>r(c,...u));let a,s;return[this.produce(r,n,(o,u)=>{a=o,s=u}),a,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Fn(t)||pr(8),kn(t)&&(t=TC(t));const r=ph(this),n=zf(t,void 0);return n[Ut].isManual_=!0,Mf(r),n}finishDraft(t,r){const n=t&&t[Ut];(!n||!n.isManual_)&&pr(9);const{scope_:a}=n;return dh(a,r),hh(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Tn("Patches").applyPatches_;return kn(t)?a(t,r):this.produce(t,s=>a(s,r))}};function zf(e,t){const r=ho(e)?Tn("MapSet").proxyMap_(e,t):vo(e)?Tn("MapSet").proxySet_(e,t):BC(e,t);return(t?t.scope_:Jx()).drafts_.push(r),r}function TC(e){return kn(e)||pr(10,e),Xx(e)}function Xx(e){if(!Fn(e)||mo(e))return e;const t=e[Ut];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=If(e,t.scope_.immer_.useStrictShallowCopy_)}else r=If(e,!0);return _i(r,(n,a)=>{Yx(r,n,Xx(a))}),t&&(t.finalized_=!1),r}var Wt=new FC,Gd=Wt.produce;Wt.produceWithPatches.bind(Wt);Wt.setAutoFreeze.bind(Wt);Wt.setUseStrictShallowCopy.bind(Wt);Wt.applyPatches.bind(Wt);var mh=Wt.createDraft.bind(Wt),gh=Wt.finishDraft.bind(Wt),_C={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var a=N.transform(r,t,{affinity:n});e.current=a,a==null&&e.unref()}}},NC={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var a=De.transform(r,t,{affinity:n});e.current=a,a==null&&e.unref()}}},RC={transform(e,t){var{current:r,affinity:n}=e;if(r!=null){var a=H.transform(r,t,{affinity:n});e.current=a,a==null&&e.unref()}}},ji=new WeakMap,Ii=new WeakMap,Ya=new WeakMap,Qx=new WeakMap,yh=new WeakMap,bh=new WeakMap,xh=new WeakMap,N={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=N.levels(e,t);return r?n=n.slice(1):n=n.slice(0,-1),n},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var a=e[n],s=t[n];if(a!==s)break;r.push(a)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),s=e[r],i=t[r];return N.equals(n,a)&&s>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),a=t.slice(0,r);return N.equals(n,a)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),s=e[r],i=t[r];return N.equals(n,a)&&s<i},equals(e,t){return e.length===t.length&&e.every((r,n)=>r===t[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return N.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&N.compare(e,t)===0},isBefore(e,t){return N.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&N.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&N.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&N.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&N.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1),a=e[e.length-1],s=t[t.length-1];return a!==s&&N.equals(r,n)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return r&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!N.isAncestor(t,e)&&!N.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:a="forward"}=r;if(e.length===0)return n;switch(t.type){case"insert_node":{var{path:s}=t;(N.equals(s,n)||N.endsBefore(s,n)||N.isAncestor(s,n))&&(n[s.length-1]+=1);break}case"remove_node":{var{path:i}=t;if(N.equals(i,n)||N.isAncestor(i,n))return null;N.endsBefore(i,n)&&(n[i.length-1]-=1);break}case"merge_node":{var{path:o,position:u}=t;N.equals(o,n)||N.endsBefore(o,n)?n[o.length-1]-=1:N.isAncestor(o,n)&&(n[o.length-1]-=1,n[o.length]+=u);break}case"split_node":{var{path:c,position:l}=t;if(N.equals(c,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else N.endsBefore(c,n)?n[c.length-1]+=1:N.isAncestor(c,n)&&e[c.length]>=l&&(n[c.length-1]+=1,n[c.length]-=l);break}case"move_node":{var{path:f,newPath:d}=t;if(N.equals(f,d))return n;if(N.isAncestor(f,n)||N.equals(f,n)){var v=d.slice();return N.endsBefore(f,d)&&f.length<d.length&&(v[f.length-1]-=1),v.concat(n.slice(f.length))}else N.isSibling(f,d)&&(N.isAncestor(d,n)||N.equals(d,n))?N.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:N.endsBefore(d,n)||N.equals(d,n)||N.isAncestor(d,n)?(N.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):N.endsBefore(f,n)&&(N.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1);break}}return n}};function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function jC(e,t){if(os(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(os(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IC(e){var t=jC(e,"string");return os(t)==="symbol"?t:String(t)}function _t(e,t,r){return t=IC(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wh(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var $C=(e,t,r)=>{switch(r.type){case"insert_node":{var{path:n,node:a}=r,s=te.parent(e,n),i=n[n.length-1];if(i>s.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(s.children.splice(i,0,a),t)for(var[o,u]of H.points(t))t[u]=De.transform(o,r);break}case"insert_text":{var{path:c,offset:l,text:f}=r;if(f.length===0)break;var d=te.leaf(e,c),v=d.text.slice(0,l),h=d.text.slice(l);if(d.text=v+f+h,t)for(var[g,x]of H.points(t))t[x]=De.transform(g,r);break}case"merge_node":{var{path:y}=r,p=te.get(e,y),w=N.previous(y),C=te.get(e,w),P=te.parent(e,y),_=y[y.length-1];if(ce.isText(p)&&ce.isText(C))C.text+=p.text;else if(!ce.isText(p)&&!ce.isText(C))C.children.push(...p.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(y,"] to nodes of different interfaces: ").concat(wt.stringify(p)," ").concat(wt.stringify(C)));if(P.children.splice(_,1),t)for(var[R,E]of H.points(t))t[E]=De.transform(R,r);break}case"move_node":{var{path:A,newPath:S}=r;if(N.isAncestor(A,S))throw new Error("Cannot move a path [".concat(A,"] to new path [").concat(S,"] because the destination is inside itself."));var B=te.get(e,A),k=te.parent(e,A),T=A[A.length-1];k.children.splice(T,1);var j=N.transform(A,r),L=te.get(e,N.parent(j)),J=j[j.length-1];if(L.children.splice(J,0,B),t)for(var[I,Y]of H.points(t))t[Y]=De.transform(I,r);break}case"remove_node":{var{path:W}=r,Z=W[W.length-1],ie=te.parent(e,W);if(ie.children.splice(Z,1),t)for(var[le,oe]of H.points(t)){var me=De.transform(le,r);if(t!=null&&me!=null)t[oe]=me;else{var ue=void 0,ye=void 0;for(var[be,Te]of te.texts(e))if(N.compare(Te,W)===-1)ue=[be,Te];else{ye=[be,Te];break}var $=!1;ue&&ye&&(N.equals(ye[1],W)?$=!N.hasPrevious(ye[1]):$=N.common(ue[1],W).length<N.common(ye[1],W).length),ue&&!$?(le.path=ue[1],le.offset=ue[0].text.length):ye?(le.path=ye[1],le.offset=0):t=null}}break}case"remove_text":{var{path:z,offset:M,text:q}=r;if(q.length===0)break;var se=te.leaf(e,z),ne=se.text.slice(0,M),m=se.text.slice(M+q.length);if(se.text=ne+m,t)for(var[D,O]of H.points(t))t[O]=De.transform(D,r);break}case"set_node":{var{path:G,properties:he,newProperties:Ce}=r;if(G.length===0)throw new Error("Cannot set properties on the root node!");var _e=te.get(e,G);for(var Pe in Ce){if(Pe==="children"||Pe==="text")throw new Error('Cannot set the "'.concat(Pe,'" property of nodes!'));var qe=Ce[Pe];qe==null?delete _e[Pe]:_e[Pe]=qe}for(var Nt in he)Ce.hasOwnProperty(Nt)||delete _e[Nt];break}case"set_selection":{var{newProperties:He}=r;if(He==null)t=He;else{if(t==null){if(!H.isRange(He))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(wt.stringify(He)," when there is no current selection."));t=ja({},He)}for(var Bt in He){var Rt=He[Bt];if(Rt==null){if(Bt==="anchor"||Bt==="focus")throw new Error('Cannot remove the "'.concat(Bt,'" selection property'));delete t[Bt]}else t[Bt]=Rt}}break}case"split_node":{var{path:Ne,position:Ke,properties:ur}=r;if(Ne.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ne,"] because the root node cannot be split."));var tr=te.get(e,Ne),cn=te.parent(e,Ne),$t=Ne[Ne.length-1],jt;if(ce.isText(tr)){var tu=tr.text.slice(0,Ke),Ra=tr.text.slice(Ke);tr.text=tu,jt=ja(ja({},ur),{},{text:Ra})}else{var Js=tr.children.slice(0,Ke),aC=tr.children.slice(Ke);tr.children=Js,jt=ja(ja({},ur),{},{children:aC})}if(cn.children.splice($t+1,0,jt),t)for(var[sC,iC]of H.points(t))t[iC]=De.transform(sC,r);break}}return t},MC={transform(e,t){e.children=mh(e.children);var r=e.selection&&mh(e.selection);try{r=$C(e,r,t)}finally{e.children=gh(e.children),r?e.selection=kn(r)?gh(r):r:e.selection=null}}},LC={insertNodes(e,t,r){e.insertNodes(t,r)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,r){e.setNodes(t,r)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,r){e.unsetNodes(t,r)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,r){e.wrapNodes(t,r)}},zC={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,r){e.setPoint(t,r)},setSelection(e,t){e.setSelection(t)}},e0=(e,t)=>{for(var r in e){var n=e[r],a=t[r];if(Et(n)&&Et(a)){if(!e0(n,a))return!1}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var s=0;s<n.length;s++)if(n[s]!==a[s])return!1}else if(n!==a)return!1}for(var i in t)if(e[i]===void 0&&t[i]!==void 0)return!1;return!0};function qC(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Mr(e,t){if(e==null)return{};var r=qC(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var UC=["anchor","focus"];function Eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eh(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var H={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:a}=e;return H.isBackward(e)===r?[n,a]:[a,n]},end(e){var[,t]=H.edges(e);return t},equals(e,t){return De.equals(e.anchor,t.anchor)&&De.equals(e.focus,t.focus)},surrounds(e,t){var r=H.intersection(e,t);return r?H.equals(r,t):!1},includes(e,t){if(H.isRange(t)){if(H.includes(e,t.anchor)||H.includes(e,t.focus))return!0;var[r,n]=H.edges(e),[a,s]=H.edges(t);return De.isBefore(r,a)&&De.isAfter(n,s)}var[i,o]=H.edges(e),u=!1,c=!1;return De.isPoint(t)?(u=De.compare(t,i)>=0,c=De.compare(t,o)<=0):(u=N.compare(t,i.path)>=0,c=N.compare(t,o.path)<=0),u&&c},intersection(e,t){var r=Mr(e,UC),[n,a]=H.edges(e),[s,i]=H.edges(t),o=De.isBefore(n,s)?s:n,u=De.isBefore(a,i)?a:i;return De.isBefore(u,o)?null:WC({anchor:o,focus:u},r)},isBackward(e){var{anchor:t,focus:r}=e;return De.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return De.equals(t,r)},isExpanded(e){return!H.isCollapsed(e)},isForward(e){return!H.isBackward(e)},isRange(e){return Et(e)&&De.isPoint(e.anchor)&&De.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=H.edges(e);return t},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Gd(e,n=>{if(n===null)return null;var{affinity:a="inward"}=r,s,i;if(a==="inward"){var o=H.isCollapsed(n);H.isForward(n)?(s="forward",i=o?s:"backward"):(s="backward",i=o?s:"forward")}else a==="outward"?H.isForward(n)?(s="backward",i="forward"):(s="forward",i="backward"):(s=a,i=a);var u=De.transform(n.anchor,t,{affinity:s}),c=De.transform(n.focus,t,{affinity:i});if(!u||!c)return null;n.anchor=u,n.focus=c})}},Dh=e=>Et(e)&&te.isNodeList(e.children)&&!b.isEditor(e),pe={isAncestor(e){return Et(e)&&te.isNodeList(e.children)},isElement:Dh,isElementList(e){return Array.isArray(e)&&e.every(t=>pe.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Dh(t)&&t[n]===r},matches(e,t){for(var r in t)if(r!=="children"&&e[r]!==t[r])return!1;return!0}},VC=["children"],HC=["text"],Ch=new WeakMap,te={ancestor(e,t){var r=te.get(e,t);if(ce.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(wt.stringify(r)));return r},ancestors(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of N.ancestors(t,r)){var a=te.ancestor(e,n),s=[a,n];yield s}}()},child(e,t){if(ce.isText(e))throw new Error("Cannot get the child of a text node: ".concat(wt.stringify(e)));var r=e.children[t];if(r==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(wt.stringify(e)));return r},children(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,a=te.ancestor(e,t),{children:s}=a,i=n?s.length-1:0;n?i>=0:i<s.length;){var o=te.child(a,i),u=t.concat(i);yield[o,u],i=n?i-1:i+1}}()},common(e,t,r){var n=N.common(t,r),a=te.get(e,n);return[a,n]},descendant(e,t){var r=te.get(e,t);if(b.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(wt.stringify(r)));return r},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of te.nodes(e,t))n.length!==0&&(yield[r,n])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of te.nodes(e,t))pe.isElement(r)&&(yield[r,n])}()},extractProps(e){if(pe.isAncestor(e)){var t=Mr(e,VC);return t}else{var t=Mr(e,HC);return t}},first(e,t){for(var r=t.slice(),n=te.get(e,r);n&&!(ce.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(ce.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(wt.stringify(e)));var r=Gd({children:e.children},n=>{var[a,s]=H.edges(t),i=te.nodes(n,{reverse:!0,pass:d=>{var[,v]=d;return!H.includes(t,v)}});for(var[,o]of i){if(!H.includes(t,o)){var u=te.parent(n,o),c=o[o.length-1];u.children.splice(c,1)}if(N.equals(o,s.path)){var l=te.leaf(n,o);l.text=l.text.slice(0,s.offset)}if(N.equals(o,a.path)){var f=te.leaf(n,o);f.text=f.text.slice(a.offset)}}b.isEditor(n)&&(n.selection=null)});return r.children},get(e,t){var r=te.getIf(e,t);if(r===void 0)throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(wt.stringify(e)));return r},getIf(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(ce.isText(r)||!r.children[a])return;r=r.children[a]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(ce.isText(r)||!r.children[a])return!1;r=r.children[a]}return!0},isNode(e){return ce.isText(e)||pe.isElement(e)||b.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=Ch.get(e);if(t!==void 0)return t;var r=e.every(n=>te.isNode(n));return Ch.set(e,r),r},last(e,t){for(var r=t.slice(),n=te.get(e,r);n&&!(ce.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],r.push(a)}return[n,r]},leaf(e,t){var r=te.get(e,t);if(!ce.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(wt.stringify(r)));return r},levels(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of N.levels(t,r)){var a=te.get(e,n);yield[a,n]}}()},matches(e,t){return pe.isElement(e)&&pe.isElementProps(t)&&pe.matches(e,t)||ce.isText(e)&&ce.isTextProps(t)&&ce.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=t,{from:a=[],to:s}=t,i=new Set,o=[],u=e;!(s&&(n?N.isBefore(o,s):N.isAfter(o,s)));){if(i.has(u)||(yield[u,o]),!i.has(u)&&!ce.isText(u)&&u.children.length!==0&&(r==null||r([u,o])===!1)){i.add(u);var c=n?u.children.length-1:0;N.isAncestor(o,a)&&(c=a[o.length]),o=o.concat(c),u=te.get(e,o);continue}if(o.length===0)break;if(!n){var l=N.next(o);if(te.has(e,l)){o=l,u=te.get(e,o);continue}}if(n&&o[o.length-1]!==0){var f=N.previous(o);o=f,u=te.get(e,o);continue}o=N.parent(o),u=te.get(e,o),i.add(u)}}()},parent(e,t){var r=N.parent(t),n=te.get(e,r);if(ce.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string(e){return ce.isText(e)?e.text:e.children.map(te.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of te.nodes(e,t))ce.isText(r)&&(yield[r,n])}()}};function Ph(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ph(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ph(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var na={isNodeOperation(e){return na.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Et(e))return!1;switch(e.type){case"insert_node":return N.isPath(e.path)&&te.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&N.isPath(e.path);case"merge_node":return typeof e.position=="number"&&N.isPath(e.path)&&Et(e.properties);case"move_node":return N.isPath(e.path)&&N.isPath(e.newPath);case"remove_node":return N.isPath(e.path)&&te.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&N.isPath(e.path);case"set_node":return N.isPath(e.path)&&Et(e.properties)&&Et(e.newProperties);case"set_selection":return e.properties===null&&H.isRange(e.newProperties)||e.newProperties===null&&H.isRange(e.properties)||Et(e.properties)&&Et(e.newProperties);case"split_node":return N.isPath(e.path)&&typeof e.position=="number"&&Et(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>na.isOperation(t))},isSelectionOperation(e){return na.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return na.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return rt(rt({},e),{},{type:"remove_node"});case"insert_text":return rt(rt({},e),{},{type:"remove_text"});case"merge_node":return rt(rt({},e),{},{type:"split_node",path:N.previous(e.path)});case"move_node":{var{newPath:t,path:r}=e;if(N.equals(t,r))return e;if(N.isSibling(r,t))return rt(rt({},e),{},{path:t,newPath:r});var n=N.transform(r,e),a=N.transform(N.next(r),e);return rt(rt({},e),{},{path:n,newPath:a})}case"remove_node":return rt(rt({},e),{},{type:"insert_node"});case"remove_text":return rt(rt({},e),{},{type:"insert_text"});case"set_node":{var{properties:s,newProperties:i}=e;return rt(rt({},e),{},{properties:i,newProperties:s})}case"set_selection":{var{properties:o,newProperties:u}=e;return o==null?rt(rt({},e),{},{properties:u,newProperties:null}):u==null?rt(rt({},e),{},{properties:null,newProperties:o}):rt(rt({},e),{},{properties:u,newProperties:o})}case"split_node":return rt(rt({},e),{},{type:"merge_node",path:N.next(e.path)})}}},Oh=new WeakMap,t0=e=>{var t=Oh.get(e);if(t!==void 0)return t;if(!Et(e))return!1;var r=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||Et(e.marks))&&(e.selection===null||H.isRange(e.selection))&&te.isNodeList(e.children)&&na.isOperationList(e.operations);return Oh.set(e,r),r},b={above(e,t){return e.above(t)},addMark(e,t,r){e.addMark(t,r)},after(e,t,r){return e.after(t,r)},before(e,t,r){return e.before(t,r)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,r){e.insertFragment(t,r)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,r){return e.isEdge(t,r)},isEditor(e){return t0(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,r){return e.isEnd(t,r)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,r){return e.isStart(t,r)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,r){return e.leaf(t,r)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,r){return e.node(t,r)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,r){return e.parent(t,r)},path(e,t,r){return e.path(t,r)},pathRef(e,t,r){return e.pathRef(t,r)},pathRefs(e){return e.pathRefs()},point(e,t,r){return e.point(t,r)},pointRef(e,t,r){return e.pointRef(t,r)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,r){return e.range(t,r)},rangeRef(e,t,r){return e.rangeRef(t,r)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,r){return e.string(t,r)},unhangRange(e,t,r){return e.unhangRange(t,r)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,r)=>e.shouldMergeNodesRemovePrevNode(t,r)},KC={isLocation(e){return N.isPath(e)||De.isPoint(e)||H.isRange(e)}},r0={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(N.isPath)}};function Ah(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ah(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ah(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var De={compare(e,t){var r=N.compare(e.path,t.path);return r===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter(e,t){return De.compare(e,t)===1},isBefore(e,t){return De.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&N.equals(e.path,t.path)},isPoint(e){return Et(e)&&typeof e.offset=="number"&&N.isPath(e.path)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Gd(e,n=>{if(n===null)return null;var{affinity:a="forward"}=r,{path:s,offset:i}=n;switch(t.type){case"insert_node":case"move_node":{n.path=N.transform(s,t,r);break}case"insert_text":{N.equals(t.path,s)&&(t.offset<i||t.offset===i&&a==="forward")&&(n.offset+=t.text.length);break}case"merge_node":{N.equals(t.path,s)&&(n.offset+=t.position),n.path=N.transform(s,t,r);break}case"remove_text":{N.equals(t.path,s)&&t.offset<=i&&(n.offset-=Math.min(i-t.offset,t.text.length));break}case"remove_node":{if(N.equals(t.path,s)||N.isAncestor(t.path,s))return null;n.path=N.transform(s,t,r);break}case"split_node":{if(N.equals(t.path,s)){if(t.position===i&&a==null)return null;(t.position<i||t.position===i&&a==="forward")&&(n.offset-=t.position,n.path=N.transform(s,t,Sh(Sh({},r),{},{affinity:"forward"})))}else n.path=N.transform(s,t,r);break}}})}},Bh=void 0,wt={setScrubber(e){Bh=e},stringify(e){return JSON.stringify(e,Bh)}},GC=["text"],YC=["anchor","focus","merge"];function kh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kh(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ce={equals(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function a(s){var i=Mr(s,GC);return i}return e0(n?a(e):e,n?a(t):t)},isText(e){return Et(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>ce.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var r in t)if(r!=="text"&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[{leaf:kr({},e)}];for(var n of t){var{anchor:a,focus:s,merge:i}=n,o=Mr(n,YC),[u,c]=H.edges(n),l=[],f=0,d=u.offset,v=c.offset,h=i??Object.assign;for(var{leaf:g}of r){var{length:x}=g.text,y=f;if(f+=x,d<=y&&f<=v){h(g,o),l.push({leaf:g});continue}if(d!==v&&(d===f||v===y)||d>f||v<y||v===y&&y!==0){l.push({leaf:g});continue}var p=g,w=void 0,C=void 0;if(v<f){var P=v-y;C={leaf:kr(kr({},p),{},{text:p.text.slice(P)})},p=kr(kr({},p),{},{text:p.text.slice(0,P)})}if(d>y){var _=d-y;w={leaf:kr(kr({},p),{},{text:p.text.slice(0,_)})},p=kr(kr({},p),{},{text:p.text.slice(_)})}h(p,o),w&&l.push(w),l.push({leaf:p}),C&&l.push(C)}r=l}if(r.length>1){var R=0;for(var[E,A]of r.entries()){var S=R,B=S+A.leaf.text.length,k={start:S,end:B};E===0&&(k.isFirst=!0),E===r.length-1&&(k.isLast=!0),A.position=k,R=B}}return r}},Yd=e=>e.selection?e.selection:e.children.length>0?b.end(e,[]):[0],Ea=(e,t)=>{var[r]=b.node(e,t);return n=>n===r},Jd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!r,a=r?tP(t):t,s=xe.None,i=xe.None,o=0,u=null,c=null;for(var l of a){var f=l.codePointAt(0);if(!f)break;var d=pP(l,f);if([s,i]=n?[i,d]:[d,s],aa(s,xe.ZWJ)&&aa(i,xe.ExtPict)&&(n?u=Fh(t.substring(0,o)):u=Fh(t.substring(0,t.length-o)),!u)||aa(s,xe.RI)&&aa(i,xe.RI)&&(c!==null?c=!c:n?c=!0:c=yP(t.substring(0,t.length-o)),!c)||s!==xe.None&&i!==xe.None&&vP(s,i))break;o+=l.length}return o||1},JC=/\s/,ZC=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,XC=/['\u2018\u2019]/,QC=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,a=!1;t.length>0;){var s=Jd(t,r),[i,o]=Zd(t,s,r);if(eP(i,o,r))a=!0,n+=s;else if(!a)n+=s;else break;t=o}return n},Zd=(e,t,r)=>{if(r){var n=e.length-t;return[e.slice(n,e.length),e.slice(0,n)]}return[e.slice(0,t),e.slice(t)]},eP=function e(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(JC.test(t))return!1;if(XC.test(t)){var a=Jd(r,n),[s,i]=Zd(r,a,n);if(e(s,i,n))return!0}return!ZC.test(t)},tP=function*(t){for(var r=t.length-1,n=0;n<t.length;n++){var a=t.charAt(r-n);if(nP(a.charCodeAt(0))){var s=t.charAt(r-n-1);if(rP(s.charCodeAt(0))){yield s+a,n++;continue}}yield a}},rP=e=>e>=55296&&e<=56319,nP=e=>e>=56320&&e<=57343,xe;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(xe||(xe={}));var aP=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,sP=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,iP=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,oP=/^[\u1100-\u115F\uA960-\uA97C]$/,uP=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,cP=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,lP=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,fP=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,dP=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,pP=(e,t)=>{var r=xe.Any;return e.search(aP)!==-1&&(r|=xe.Extend),t===8205&&(r|=xe.ZWJ),t>=127462&&t<=127487&&(r|=xe.RI),e.search(sP)!==-1&&(r|=xe.Prepend),e.search(iP)!==-1&&(r|=xe.SpacingMark),e.search(oP)!==-1&&(r|=xe.L),e.search(uP)!==-1&&(r|=xe.V),e.search(cP)!==-1&&(r|=xe.T),e.search(lP)!==-1&&(r|=xe.LV),e.search(fP)!==-1&&(r|=xe.LVT),e.search(dP)!==-1&&(r|=xe.ExtPict),r};function aa(e,t){return(e&t)!==0}var hP=[[xe.L,xe.L|xe.V|xe.LV|xe.LVT],[xe.LV|xe.V,xe.V|xe.T],[xe.LVT|xe.T,xe.T],[xe.Any,xe.Extend|xe.ZWJ],[xe.Any,xe.SpacingMark],[xe.Prepend,xe.Any],[xe.ZWJ,xe.ExtPict],[xe.RI,xe.RI]];function vP(e,t){return hP.findIndex(r=>aa(e,r[0])&&aa(t,r[1]))===-1}var mP=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Fh=e=>e.search(mP)!==-1,gP=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,yP=e=>{var t=e.match(gP);if(t===null)return!1;var r=t[0].length/2;return r%2===1},bP={delete(e,t){e.delete(t)},insertFragment(e,t,r){e.insertFragment(t,r)},insertText(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};b.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:a=Yd(e)}=r;if(N.isPath(a)&&(a=b.range(e,a)),H.isRange(a))if(H.isCollapsed(a))a=a.anchor;else{var s=H.end(a);if(!n&&b.void(e,{at:s}))return;var i=H.start(a),o=b.pointRef(e,i),u=b.pointRef(e,s);X.delete(e,{at:a,voids:n});var c=o.unref(),l=u.unref();a=c||l,X.setSelection(e,{anchor:a,focus:a})}if(!(!n&&b.void(e,{at:a})||b.elementReadOnly(e,{at:a}))){var{path:f,offset:d}=a;t.length>0&&e.apply({type:"insert_text",path:f,offset:d,text:t})}})}};function Th(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Th(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Th(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var X=Zs(Zs(Zs(Zs({},MC),LC),zC),bP),vi=new WeakMap,xP=e=>vi.get(e)||!1,wP=(e,t,r)=>{var n=vi.get(e)||!1;vi.set(e,!0);try{t(),r()}finally{vi.set(e,n)}};function n0(e,t,r){var n=ji.get(e)||[],a=Ii.get(e)||new Set,s,i,o=f=>{if(f){var d=f.join(",");i.has(d)||(i.add(d),s.push(f))}};if(r){s=[],i=new Set;for(var u of n){var c=r(u);o(c)}}else s=n,i=a;for(var l of t)o(l);ji.set(e,s),Ii.set(e,i)}var a0=(e,t)=>{for(var r of b.pathRefs(e))_C.transform(r,t);for(var n of b.pointRefs(e))NC.transform(n,t);for(var a of b.rangeRefs(e))RC.transform(a,t);if(!xP(e)){var s=N.operationCanTransformPath(t)?i=>N.transform(i,t):void 0;n0(e,e.getDirtyPaths(t),s)}X.transform(e,t),e.operations.push(t),b.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),Ya.get(e)||(Ya.set(e,!0),Promise.resolve().then(()=>{Ya.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},s0=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=t;return N.levels(r)}case"insert_node":{var{node:n,path:a}=t,s=N.levels(a),i=ce.isText(n)?[]:Array.from(te.nodes(n),S=>{var[,B]=S;return a.concat(B)});return[...s,...i]}case"merge_node":{var{path:o}=t,u=N.ancestors(o),c=N.previous(o);return[...u,c]}case"move_node":{var{path:l,newPath:f}=t;if(N.equals(l,f))return[];var d=[],v=[];for(var h of N.ancestors(l)){var g=N.transform(h,t);d.push(g)}for(var x of N.ancestors(f)){var y=N.transform(x,t);v.push(y)}var p=v[v.length-1],w=f[f.length-1],C=p.concat(w);return[...d,...v,C]}case"remove_node":{var{path:P}=t,_=N.ancestors(P);return[..._]}case"split_node":{var{path:R}=t,E=N.levels(R),A=N.next(R);return[...E,A]}default:return[]}},i0=e=>{var{selection:t}=e;return t?te.fragment(e,t):[]},o0=(e,t)=>{var[r,n]=t;if(!ce.isText(r)){if(pe.isElement(r)&&r.children.length===0){var a={text:""};X.insertNodes(e,a,{at:n.concat(0),voids:!0});return}for(var s=b.isEditor(r)?!1:pe.isElement(r)&&(e.isInline(r)||r.children.length===0||ce.isText(r.children[0])||e.isInline(r.children[0])),i=0,o=0;o<r.children.length;o++,i++){var u=te.get(e,n);if(!ce.isText(u)){var c=u.children[i],l=u.children[i-1],f=o===r.children.length-1,d=ce.isText(c)||pe.isElement(c)&&e.isInline(c);if(d!==s)d?X.removeNodes(e,{at:n.concat(i),voids:!0}):X.unwrapNodes(e,{at:n.concat(i),voids:!0}),i--;else if(pe.isElement(c)){if(e.isInline(c)){if(l==null||!ce.isText(l)){var v={text:""};X.insertNodes(e,v,{at:n.concat(i),voids:!0}),i++}else if(f){var h={text:""};X.insertNodes(e,h,{at:n.concat(i+1),voids:!0}),i++}}}else{if(!ce.isText(c)&&!("children"in c)){var g=c;g.children=[]}l!=null&&ce.isText(l)&&(ce.equals(c,l,{loose:!0})?(X.mergeNodes(e,{at:n.concat(i),voids:!0}),i--):l.text===""?(X.removeNodes(e,{at:n.concat(i-1),voids:!0}),i--):c.text===""&&(X.removeNodes(e,{at:n.concat(i),voids:!0}),i--))}}}}},u0=(e,t)=>{var{iteration:r,initialDirtyPathsLength:n}=t,a=n*42;if(r>a)throw new Error("Could not completely normalize the editor after ".concat(a," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},c0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:a="lowest",at:s=t.selection,match:i}=r;if(s){var o=b.path(t,s),u=a==="lowest";for(var[c,l]of b.levels(t,{at:o,voids:n,match:i,reverse:u}))if(!ce.isText(c)){if(H.isRange(s)){if(N.isAncestor(l,s.anchor.path)&&N.isAncestor(l,s.focus.path))return[c,l]}else if(!N.equals(o,l))return[c,l]}}};function _h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_h(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_h(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var l0=(e,t,r)=>{var{selection:n}=e;if(n){var a=(f,d)=>{if(!ce.isText(f))return!1;var[v,h]=b.parent(e,d);return!e.isVoid(v)||e.markableVoid(v)},s=H.isExpanded(n),i=!1;if(!s){var[o,u]=b.node(e,n);if(o&&a(o,u)){var[c]=b.parent(e,u);i=c&&e.markableVoid(c)}}if(s||i)X.setNodes(e,{[t]:r},{match:a,split:!0,voids:!0});else{var l=Nh(Nh({},b.marks(e)||{}),{},{[t]:r});e.marks=l,Ya.get(e)||e.onChange()}}};function Rh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rh(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var f0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=b.point(t,r,{edge:"end"}),s=b.end(t,[]),i={anchor:a,focus:s},{distance:o=1}=n,u=0,c;for(var l of b.positions(t,jh(jh({},n),{},{at:i}))){if(u>o)break;u!==0&&(c=l),u++}return c};function Ih(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ih(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ih(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var qf=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=b.start(t,[]),s=b.point(t,r,{edge:"start"}),i={anchor:a,focus:s},{distance:o=1}=n,u=0,c;for(var l of b.positions(t,$h($h({},n),{},{at:i,reverse:!0}))){if(u>o)break;u!==0&&(c=l),u++}return c},d0=(e,t)=>{var{selection:r}=e;r&&H.isCollapsed(r)&&X.delete(e,{unit:t,reverse:!0})},p0=(e,t)=>{var{selection:r}=e;r&&H.isCollapsed(r)&&X.delete(e,{unit:t})},h0=function(t){var{direction:r="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=t;n&&H.isExpanded(n)&&X.delete(t,{reverse:r==="backward"})},v0=(e,t)=>[b.start(e,t),b.end(e,t)];function Mh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mh(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var m0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b.above(t,Lh(Lh({},r),{},{match:n=>pe.isElement(n)&&b.isElementReadOnly(t,n)}))},Uf=(e,t)=>b.point(e,t,{edge:"end"}),g0=(e,t)=>{var r=b.path(e,t,{edge:"start"});return b.node(e,r)},y0=(e,t)=>{var r=b.range(e,t);return te.fragment(e,r)};function zh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zh(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var b0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b.above(t,qh(qh({},r),{},{match:n=>pe.isElement(n)&&b.isVoid(t,n)}))},x0=(e,t)=>t.children.some(r=>pe.isElement(r)&&b.isBlock(e,r)),w0=(e,t)=>t.children.some(r=>ce.isText(r)||b.isInline(e,r)),E0=(e,t)=>te.has(e,t),D0=(e,t)=>t.children.every(r=>ce.isText(r)),C0=e=>{X.splitNodes(e,{always:!0})},EP=(e,t,r)=>{X.insertNodes(e,t,r)},DP=e=>{X.splitNodes(e,{always:!0})};function Uh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uh(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var PP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a,marks:s}=t;if(a){if(s){var i=CP({text:r},s);X.insertNodes(t,i,{at:n.at,voids:n.voids})}else X.insertText(t,r,n);t.marks=null}},P0=(e,t)=>!e.isInline(t),O0=(e,t,r)=>b.isStart(e,t,r)||b.isEnd(e,t,r),La=(e,t)=>{var{children:r}=t,[n]=r;return r.length===0||r.length===1&&ce.isText(n)&&n.text===""&&!e.isVoid(t)},A0=(e,t,r)=>{var n=b.end(e,r);return De.equals(t,n)},S0=e=>{var t=Qx.get(e);return t===void 0?!0:t},B0=(e,t,r)=>{if(t.offset!==0)return!1;var n=b.start(e,r);return De.equals(t,n)},k0=(e,t)=>{var r=b.path(e,t,{edge:"end"});return b.node(e,r)},F0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=b.path(t,r,n),s=te.leaf(t,a);return[s,a]};function T0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=e.selection,reverse:n=!1,voids:a=!1}=t,{match:s}=t;if(s==null&&(s=()=>!0),!!r){var i=[],o=b.path(e,r);for(var[u,c]of te.levels(e,o))if(s(u,c)&&(i.push([u,c]),!a&&pe.isElement(u)&&b.isVoid(e,u)))break;n&&i.reverse(),yield*i}}()}var OP=["text"],AP=["text"],_0=function(t){var{marks:r,selection:n}=t;if(!n)return null;var{anchor:a,focus:s}=n;if(r)return r;if(H.isExpanded(n)){var i=H.isBackward(n);i&&([s,a]=[a,s]);var o=b.isEnd(t,a,a.path);if(o){var u=b.after(t,a);u&&(a=u)}var[c]=b.nodes(t,{match:ce.isText,at:{anchor:a,focus:s}});if(c){var[l]=c,f=Mr(l,OP);return f}else return{}}var{path:d}=a,[v]=b.leaf(t,d);if(a.offset===0){var h=b.previous(t,{at:d,match:ce.isText}),g=b.above(t,{match:P=>pe.isElement(P)&&b.isVoid(t,P)&&t.markableVoid(P)});if(!g){var x=b.above(t,{match:P=>pe.isElement(P)&&b.isBlock(t,P)});if(h&&x){var[y,p]=h,[,w]=x;N.isAncestor(w,p)&&(v=y)}}}var C=Mr(v,AP);return C},SP=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=r,{match:s,at:i=t.selection}=r;if(i){var o=b.after(t,i,{voids:a});if(o){var[,u]=b.last(t,[]),c=[o.path,u];if(N.isPath(i)&&i.length===0)throw new Error("Cannot get the next node from the root node!");if(s==null)if(N.isPath(i)){var[l]=b.parent(t,i);s=d=>l.children.includes(d)}else s=()=>!0;var[f]=b.nodes(t,{at:c,match:s,mode:n,voids:a});return f}}},N0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=b.path(t,r,n),s=te.get(t,a);return[s,a]};function BP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=e.selection,mode:n="all",universal:a=!1,reverse:s=!1,voids:i=!1,pass:o,ignoreNonSelectable:u=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!r){var l,f;if(r0.isSpan(r))l=r[0],f=r[1];else{var d=b.path(e,r,{edge:"start"}),v=b.path(e,r,{edge:"end"});l=s?v:d,f=s?d:v}var h=te.nodes(e,{reverse:s,from:l,to:f,pass:P=>{var[_,R]=P;return o&&o([_,R])?!0:pe.isElement(_)?!!(!i&&(b.isVoid(e,_)||b.isElementReadOnly(e,_))||u&&!b.isSelectable(e,_)):!1}}),g=[],x;for(var[y,p]of h)if(!(u&&pe.isElement(y)&&!b.isSelectable(e,y))){var w=x&&N.compare(p,x[1])===0;if(!(n==="highest"&&w)){if(!c(y,p)){if(a&&!w&&ce.isText(y))return;continue}if(n==="lowest"&&w){x=[y,p];continue}var C=n==="lowest"?x:[y,p];C&&(a?g.push(C):yield C),x=[y,p]}}n==="lowest"&&x&&(a?g.push(x):yield x),a&&(yield*g)}}()}var R0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:a}=r,s=l=>ji.get(l)||[],i=l=>Ii.get(l)||new Set,o=l=>{var f=s(l).pop(),d=f.join(",");return i(l).delete(d),f};if(b.isNormalizing(t)){if(n){var u=Array.from(te.nodes(t),l=>{var[,f]=l;return f}),c=new Set(u.map(l=>l.join(",")));ji.set(t,u),Ii.set(t,c)}s(t).length!==0&&b.withoutNormalizing(t,()=>{for(var l of s(t))if(te.has(t,l)){var f=b.node(t,l),[d,v]=f;pe.isElement(d)&&d.children.length===0&&t.normalizeNode(f,{operation:a})}for(var h=s(t),g=h.length,x=0;h.length!==0;){if(!t.shouldNormalize({dirtyPaths:h,iteration:x,initialDirtyPathsLength:g,operation:a}))return;var y=o(t);if(te.has(t,y)){var p=b.node(t,y);t.normalizeNode(p,{operation:a})}x++,h=s(t)}})}},j0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=b.path(t,r,n),s=N.parent(a),i=b.node(t,s);return i},I0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,s={current:r,affinity:a,unref(){var{current:o}=s,u=b.pathRefs(t);return u.delete(s),s.current=null,o}},i=b.pathRefs(t);return i.add(s),s},$0=e=>{var t=yh.get(e);return t||(t=new Set,yh.set(e,t)),t},M0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:a,edge:s}=n;if(N.isPath(r)){if(s==="start"){var[,i]=te.first(t,r);r=i}else if(s==="end"){var[,o]=te.last(t,r);r=o}}return H.isRange(r)&&(s==="start"?r=H.start(r):s==="end"?r=H.end(r):r=N.common(r.anchor.path,r.focus.path)),De.isPoint(r)&&(r=r.path),a!=null&&(r=r.slice(0,a)),r},L0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,s={current:r,affinity:a,unref(){var{current:o}=s,u=b.pointRefs(t);return u.delete(s),s.current=null,o}},i=b.pointRefs(t);return i.add(s),s},z0=e=>{var t=bh.get(e);return t||(t=new Set,bh.set(e,t)),t},q0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:a="start"}=n;if(N.isPath(r)){var s;if(a==="end"){var[,i]=te.last(t,r);s=i}else{var[,o]=te.first(t,r);s=o}var u=te.get(t,s);if(!ce.isText(u))throw new Error("Cannot get the ".concat(a," point in the node at path [").concat(r,"] because it has no ").concat(a," text node."));return{path:s,offset:a==="end"?u.text.length:0}}if(H.isRange(r)){var[c,l]=H.edges(r);return a==="start"?c:l}return r};function U0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=e.selection,unit:n="offset",reverse:a=!1,voids:s=!1,ignoreNonSelectable:i=!1}=t;if(!r)return;var o=b.range(e,r),[u,c]=H.edges(o),l=a?c:u,f=!1,d="",v=0,h=0,g=0;for(var[x,y]of b.nodes(e,{at:r,reverse:a,voids:s,ignoreNonSelectable:i})){if(pe.isElement(x)){if(!s&&(e.isVoid(x)||e.isElementReadOnly(x))){yield b.start(e,y);continue}if(e.isInline(x))continue;if(b.hasInlines(e,x)){var p=N.isAncestor(y,c.path)?c:b.end(e,y),w=N.isAncestor(y,u.path)?u:b.start(e,y);d=b.string(e,{anchor:w,focus:p},{voids:s}),f=!0}}if(ce.isText(x)){var C=N.equals(y,l.path);for(C?(h=a?l.offset:x.text.length-l.offset,g=l.offset):(h=x.text.length,g=a?h:0),(C||f||n==="offset")&&(yield{path:y,offset:g},f=!1);;){if(v===0){if(d==="")break;v=P(d,n,a),d=Zd(d,v,a)[1]}if(g=a?g-v:g+v,h=h-v,h<0){v=-h;break}v=0,yield{path:y,offset:g}}}}function P(_,R,E){return R==="character"?Jd(_,E):R==="word"?QC(_,E):R==="line"||R==="block"?_.length:1}}()}var kP=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=r,{match:s,at:i=t.selection}=r;if(i){var o=b.before(t,i,{voids:a});if(o){var[,u]=b.first(t,[]),c=[o.path,u];if(N.isPath(i)&&i.length===0)throw new Error("Cannot get the previous node from the root node!");if(s==null)if(N.isPath(i)){var[l]=b.parent(t,i);s=d=>l.children.includes(d)}else s=()=>!0;var[f]=b.nodes(t,{reverse:!0,at:c,match:s,mode:n,voids:a});return f}}},W0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,s={current:r,affinity:a,unref(){var{current:o}=s,u=b.rangeRefs(t);return u.delete(s),s.current=null,o}},i=b.rangeRefs(t);return i.add(s),s},V0=e=>{var t=xh.get(e);return t||(t=new Set,xh.set(e,t)),t},H0=(e,t,r)=>{if(H.isRange(t)&&!r)return t;var n=b.start(e,t),a=b.end(e,r||t);return{anchor:n,focus:a}};function Wh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wh(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var K0=(e,t)=>{var{selection:r}=e;if(r){var n=(l,f)=>{if(!ce.isText(l))return!1;var[d,v]=b.parent(e,f);return!e.isVoid(d)||e.markableVoid(d)},a=H.isExpanded(r),s=!1;if(!a){var[i,o]=b.node(e,r);if(i&&n(i,o)){var[u]=b.parent(e,o);s=u&&e.markableVoid(u)}}if(a||s)X.unsetNodes(e,t,{match:n,split:!0,voids:!0});else{var c=FP({},b.marks(e)||{});delete c[t],e.marks=c,Ya.get(e)||e.onChange()}}},G0=(e,t)=>{Qx.set(e,t)},Wf=(e,t)=>b.point(e,t,{edge:"start"}),Y0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,s=b.range(t,r),[i,o]=H.edges(s),u="";for(var[c,l]of b.nodes(t,{at:s,match:ce.isText,voids:a})){var f=c.text;N.equals(l,o.path)&&(f=f.slice(0,o.offset)),N.equals(l,i.path)&&(f=f.slice(i.offset)),u+=f}return u},J0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,[s,i]=H.edges(r);if(s.offset!==0||i.offset!==0||H.isCollapsed(r)||N.hasPrevious(i.path))return r;var o=b.above(t,{at:i,match:h=>pe.isElement(h)&&b.isBlock(t,h),voids:a}),u=o?o[1]:[],c=b.start(t,s),l={anchor:c,focus:i},f=!0;for(var[d,v]of b.nodes(t,{at:l,match:ce.isText,reverse:!0,voids:a})){if(f){f=!1;continue}if(d.text!==""||N.isBefore(v,u)){i={path:v,offset:d.text.length};break}}return{anchor:s,focus:i}},Z0=(e,t)=>{var r=b.isNormalizing(e);b.setNormalizing(e,!1);try{t()}finally{b.setNormalizing(e,r)}b.normalize(e)},TP=(e,t,r)=>{var[n,a]=t;return pe.isElement(n)&&b.isEmpty(e,n)||ce.isText(n)&&n.text===""&&a[a.length-1]!==0},_P=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b.withoutNormalizing(t,()=>{var n,a,{reverse:s=!1,unit:i="character",distance:o=1,voids:u=!1}=r,{at:c=t.selection,hanging:l=!1}=r;if(c){var f=!1;if(H.isRange(c)&&H.isCollapsed(c)&&(f=!0,c=c.anchor),De.isPoint(c)){var d=b.void(t,{at:c,mode:"highest"});if(!u&&d){var[,v]=d;c=v}else{var h={unit:i,distance:o},g=s?b.before(t,c,h)||b.start(t,[]):b.after(t,c,h)||b.end(t,[]);c={anchor:c,focus:g},l=!0}}if(N.isPath(c)){X.removeNodes(t,{at:c,voids:u});return}if(!H.isCollapsed(c)){if(!l){var[,x]=H.edges(c),y=b.end(t,[]);De.equals(x,y)||(c=b.unhangRange(t,c,{voids:u}))}var[p,w]=H.edges(c),C=b.above(t,{match:ne=>pe.isElement(ne)&&b.isBlock(t,ne),at:p,voids:u}),P=b.above(t,{match:ne=>pe.isElement(ne)&&b.isBlock(t,ne),at:w,voids:u}),_=C&&P&&!N.equals(C[1],P[1]),R=N.equals(p.path,w.path),E=u?null:(n=b.void(t,{at:p,mode:"highest"}))!==null&&n!==void 0?n:b.elementReadOnly(t,{at:p,mode:"highest"}),A=u?null:(a=b.void(t,{at:w,mode:"highest"}))!==null&&a!==void 0?a:b.elementReadOnly(t,{at:w,mode:"highest"});if(E){var S=b.before(t,p);S&&C&&N.isAncestor(C[1],S.path)&&(p=S)}if(A){var B=b.after(t,w);B&&P&&N.isAncestor(P[1],B.path)&&(w=B)}var k=[],T;for(var j of b.nodes(t,{at:c,voids:u})){var[L,J]=j;T&&N.compare(J,T)===0||(!u&&pe.isElement(L)&&(b.isVoid(t,L)||b.isElementReadOnly(t,L))||!N.isCommon(J,p.path)&&!N.isCommon(J,w.path))&&(k.push(j),T=J)}var I=Array.from(k,ne=>{var[,m]=ne;return b.pathRef(t,m)}),Y=b.pointRef(t,p),W=b.pointRef(t,w),Z="";if(!R&&!E){var ie=Y.current,[le]=b.leaf(t,ie),{path:oe}=ie,{offset:me}=p,ue=le.text.slice(me);ue.length>0&&(t.apply({type:"remove_text",path:oe,offset:me,text:ue}),Z=ue)}if(I.reverse().map(ne=>ne.unref()).filter(ne=>ne!==null).forEach(ne=>X.removeNodes(t,{at:ne,voids:u})),!A){var ye=W.current,[be]=b.leaf(t,ye),{path:Te}=ye,$=R?p.offset:0,z=be.text.slice($,w.offset);z.length>0&&(t.apply({type:"remove_text",path:Te,offset:$,text:z}),Z=z)}!R&&_&&W.current&&Y.current&&X.mergeNodes(t,{at:W.current,hanging:!0,voids:u}),f&&s&&i==="character"&&Z.length>1&&Z.match(/[\u0E00-\u0E7F]+/)&&X.insertText(t,Z.slice(0,Z.length-o));var M=Y.unref(),q=W.unref(),se=s?M||q:q||M;r.at==null&&se&&X.select(t,se)}}})},X0=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};b.withoutNormalizing(t,()=>{var{hanging:a=!1,voids:s=!1}=n,{at:i=Yd(t),batchDirty:o=!0}=n;if(r.length){if(H.isRange(i))if(a||(i=b.unhangRange(t,i,{voids:s})),H.isCollapsed(i))i=i.anchor;else{var[,u]=H.edges(i);if(!s&&b.void(t,{at:u}))return;var c=b.pointRef(t,u);X.delete(t,{at:i}),i=c.unref()}else N.isPath(i)&&(i=b.start(t,i));if(!(!s&&b.void(t,{at:i}))){var l=b.above(t,{at:i,match:ue=>pe.isElement(ue)&&b.isInline(t,ue),mode:"highest",voids:s});if(l){var[,f]=l;if(b.isEnd(t,i,f)){var d=b.after(t,f);i=d}else if(b.isStart(t,i,f)){var v=b.before(t,f);i=v}}var h=b.above(t,{match:ue=>pe.isElement(ue)&&b.isBlock(t,ue),at:i,voids:s}),[,g]=h,x=b.isStart(t,i,g),y=b.isEnd(t,i,g),p=x&&y,w=!x||x&&y,C=!y,[,P]=te.first({children:r},[]),[,_]=te.last({children:r},[]),R=[],E=ue=>{var[ye,be]=ue,Te=be.length===0;return Te?!1:p?!0:!(w&&N.isAncestor(be,P)&&pe.isElement(ye)&&!t.isVoid(ye)&&!t.isInline(ye)||C&&N.isAncestor(be,_)&&pe.isElement(ye)&&!t.isVoid(ye)&&!t.isInline(ye))};for(var A of te.nodes({children:r},{pass:E}))E(A)&&R.push(A);var S=[],B=[],k=[],T=!0,j=!1;for(var[L]of R)pe.isElement(L)&&!t.isInline(L)?(T=!1,j=!0,B.push(L)):T?S.push(L):k.push(L);var[J]=b.nodes(t,{at:i,match:ue=>ce.isText(ue)||b.isInline(t,ue),mode:"highest",voids:s}),[,I]=J,Y=b.isStart(t,i,I),W=b.isEnd(t,i,I),Z=b.pathRef(t,y&&!k.length?N.next(g):g),ie=b.pathRef(t,W?N.next(I):I);X.splitNodes(t,{at:i,match:ue=>j?pe.isElement(ue)&&b.isBlock(t,ue):ce.isText(ue)||b.isInline(t,ue),mode:j?"lowest":"highest",always:j&&(!x||S.length>0)&&(!y||k.length>0),voids:s});var le=b.pathRef(t,!Y||Y&&W?N.next(I):I);if(X.insertNodes(t,S,{at:le.current,match:ue=>ce.isText(ue)||b.isInline(t,ue),mode:"highest",voids:s,batchDirty:o}),p&&!S.length&&B.length&&!k.length&&X.delete(t,{at:g,voids:s}),X.insertNodes(t,B,{at:Z.current,match:ue=>pe.isElement(ue)&&b.isBlock(t,ue),mode:"lowest",voids:s,batchDirty:o}),X.insertNodes(t,k,{at:ie.current,match:ue=>ce.isText(ue)||b.isInline(t,ue),mode:"highest",voids:s,batchDirty:o}),!n.at){var oe;if(k.length>0&&ie.current?oe=N.previous(ie.current):B.length>0&&Z.current?oe=N.previous(Z.current):le.current&&(oe=N.previous(le.current)),oe){var me=b.end(t,oe);X.select(t,me)}}le.unref(),Z.unref(),ie.unref()}}})},Q0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=r,{selection:a}=t;if(a){if(n==="anchor")X.select(t,a.anchor);else if(n==="focus")X.select(t,a.focus);else if(n==="start"){var[s]=H.edges(a);X.select(t,s)}else if(n==="end"){var[,i]=H.edges(a);X.select(t,i)}}else return},ew=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},tw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=t,{distance:a=1,unit:s="character",reverse:i=!1}=r,{edge:o=null}=r;if(n){o==="start"&&(o=H.isBackward(n)?"focus":"anchor"),o==="end"&&(o=H.isBackward(n)?"anchor":"focus");var{anchor:u,focus:c}=n,l={distance:a,unit:s,ignoreNonSelectable:!0},f={};if(o==null||o==="anchor"){var d=i?b.before(t,u,l):b.after(t,u,l);d&&(f.anchor=d)}if(o==null||o==="focus"){var v=i?b.before(t,c,l):b.after(t,c,l);v&&(f.focus=v)}X.setSelection(t,f)}},mi=(e,t)=>{var{selection:r}=e;if(t=b.range(e,t),r){X.setSelection(e,t);return}if(!H.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(wt.stringify(t)));e.apply({type:"set_selection",properties:r,newProperties:t})};function Vh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vh(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var rw=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a}=t,{edge:s="both"}=n;if(a){s==="start"&&(s=H.isBackward(a)?"focus":"anchor"),s==="end"&&(s=H.isBackward(a)?"anchor":"focus");var{anchor:i,focus:o}=a,u=s==="anchor"?i:o;X.setSelection(t,{[s==="anchor"?"anchor":"focus"]:Hh(Hh({},u),r)})}},nw=(e,t)=>{var{selection:r}=e,n={},a={};if(r){for(var s in t)(s==="anchor"&&t.anchor!=null&&!De.equals(t.anchor,r.anchor)||s==="focus"&&t.focus!=null&&!De.equals(t.focus,r.focus)||s!=="anchor"&&s!=="focus"&&t[s]!==r[s])&&(n[s]=r[s],a[s]=t[s]);Object.keys(n).length>0&&e.apply({type:"set_selection",properties:n,newProperties:a})}},aw=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};b.withoutNormalizing(t,()=>{var{hanging:a=!1,voids:s=!1,mode:i="lowest",batchDirty:o=!0}=n,{at:u,match:c,select:l}=n;if(te.isNode(r)&&(r=[r]),r.length!==0){var[f]=r;if(u||(u=Yd(t),l!==!1&&(l=!0)),l==null&&(l=!1),H.isRange(u))if(a||(u=b.unhangRange(t,u,{voids:s})),H.isCollapsed(u))u=u.anchor;else{var[,d]=H.edges(u),v=b.pointRef(t,d);X.delete(t,{at:u}),u=v.unref()}if(De.isPoint(u)){c==null&&(ce.isText(f)?c=S=>ce.isText(S):t.isInline(f)?c=S=>ce.isText(S)||b.isInline(t,S):c=S=>pe.isElement(S)&&b.isBlock(t,S));var[h]=b.nodes(t,{at:u.path,match:c,mode:i,voids:s});if(h){var[,g]=h,x=b.pathRef(t,g),y=b.isEnd(t,u,g);X.splitNodes(t,{at:u,match:c,mode:i,voids:s});var p=x.unref();u=y?N.next(p):p}else return}var w=N.parent(u),C=u[u.length-1];if(!(!s&&b.void(t,{at:w}))){if(o){var P=[],_=N.levels(w);wP(t,()=>{var S=function(){var T=w.concat(C);C++;var j={type:"insert_node",path:T,node:B};t.apply(j),u=N.next(u),P.push(j),ce.isText(B)?_.push(T):_.push(...Array.from(te.nodes(B),L=>{var[,J]=L;return T.concat(J)}))};for(var B of r)S()},()=>{n0(t,_,S=>{var B=S;for(var k of P)if(N.operationCanTransformPath(k)&&(B=N.transform(B,k),!B))return null;return B})})}else for(var R of r){var E=w.concat(C);C++,t.apply({type:"insert_node",path:E,node:R}),u=N.next(u)}if(u=N.previous(u),l){var A=b.end(t,u);A&&X.select(t,A)}}}})},sw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b.withoutNormalizing(t,()=>{var{at:n=t.selection,mode:a="lowest",voids:s=!1}=r,{match:i}=r;if(i==null&&(i=N.isPath(n)?Ea(t,n):C=>pe.isElement(C)&&b.isBlock(t,C)),!!n){var o=b.nodes(t,{at:n,match:i,mode:a,voids:s}),u=Array.from(o,C=>{var[,P]=C;return b.pathRef(t,P)});for(var c of u){var l=c.unref();if(l.length<2)throw new Error("Cannot lift node at a path [".concat(l,"] because it has a depth of less than `2`."));var f=b.node(t,N.parent(l)),[d,v]=f,h=l[l.length-1],{length:g}=d.children;if(g===1){var x=N.next(v);X.moveNodes(t,{at:l,to:x,voids:s}),X.removeNodes(t,{at:v,voids:s})}else if(h===0)X.moveNodes(t,{at:l,to:v,voids:s});else if(h===g-1){var y=N.next(v);X.moveNodes(t,{at:l,to:y,voids:s})}else{var p=N.next(l),w=N.next(v);X.splitNodes(t,{at:p,voids:s}),X.moveNodes(t,{at:l,to:w,voids:s})}}}})},NP=["text"],RP=["children"],iw=(e,t)=>{if(pe.isElement(t)){var r=t;return b.isVoid(e,t)?!0:r.children.length===1?iw(e,r.children[0]):!1}else return!b.isEditor(t)},jP=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b.withoutNormalizing(t,()=>{var{match:n,at:a=t.selection}=r,{hanging:s=!1,voids:i=!1,mode:o="lowest"}=r;if(a){if(n==null)if(N.isPath(a)){var[u]=b.parent(t,a);n=S=>u.children.includes(S)}else n=S=>pe.isElement(S)&&b.isBlock(t,S);if(!s&&H.isRange(a)&&(a=b.unhangRange(t,a,{voids:i})),H.isRange(a))if(H.isCollapsed(a))a=a.anchor;else{var[,c]=H.edges(a),l=b.pointRef(t,c);X.delete(t,{at:a}),a=l.unref(),r.at==null&&X.select(t,a)}var[f]=b.nodes(t,{at:a,match:n,voids:i,mode:o}),d=b.previous(t,{at:a,match:n,voids:i,mode:o});if(!(!f||!d)){var[v,h]=f,[g,x]=d;if(!(h.length===0||x.length===0)){var y=N.next(x),p=N.common(h,x),w=N.isSibling(h,x),C=Array.from(b.levels(t,{at:h}),S=>{var[B]=S;return B}).slice(p.length).slice(0,-1),P=b.above(t,{at:h,mode:"highest",match:S=>C.includes(S)&&iw(t,S)}),_=P&&b.pathRef(t,P[1]),R,E;if(ce.isText(v)&&ce.isText(g)){var A=Mr(v,NP);E=g.text.length,R=A}else if(pe.isElement(v)&&pe.isElement(g)){var A=Mr(v,RP);E=g.children.length,R=A}else throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(wt.stringify(v)," ").concat(wt.stringify(g)));w||X.moveNodes(t,{at:h,to:y,voids:i}),_&&X.removeNodes(t,{at:_.current,voids:i}),b.shouldMergeNodesRemovePrevNode(t,d,f)?X.removeNodes(t,{at:x,voids:i}):t.apply({type:"merge_node",path:y,position:E,properties:R}),_&&_.unref()}}}})},Vf=(e,t)=>{b.withoutNormalizing(e,()=>{var{to:r,at:n=e.selection,mode:a="lowest",voids:s=!1}=t,{match:i}=t;if(n){i==null&&(i=N.isPath(n)?Ea(e,n):v=>pe.isElement(v)&&b.isBlock(e,v));var o=b.pathRef(e,r),u=b.nodes(e,{at:n,match:i,mode:a,voids:s}),c=Array.from(u,v=>{var[,h]=v;return b.pathRef(e,h)});for(var l of c){var f=l.unref(),d=o.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:d}),o.current&&N.isSibling(d,f)&&N.isAfter(d,f)&&(o.current=N.next(o.current))}o.unref()}})},ow=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b.withoutNormalizing(t,()=>{var{hanging:n=!1,voids:a=!1,mode:s="lowest"}=r,{at:i=t.selection,match:o}=r;if(i){o==null&&(o=N.isPath(i)?Ea(t,i):v=>pe.isElement(v)&&b.isBlock(t,v)),!n&&H.isRange(i)&&(i=b.unhangRange(t,i,{voids:a}));var u=b.nodes(t,{at:i,match:o,mode:s,voids:a}),c=Array.from(u,v=>{var[,h]=v;return b.pathRef(t,h)});for(var l of c){var f=l.unref();if(f){var[d]=b.node(t,f);t.apply({type:"remove_node",path:f,node:d})}}}})},Hf=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};b.withoutNormalizing(t,()=>{var{match:a,at:s=t.selection,compare:i,merge:o}=n,{hanging:u=!1,mode:c="lowest",split:l=!1,voids:f=!1}=n;if(s){if(a==null&&(a=N.isPath(s)?Ea(t,s):E=>pe.isElement(E)&&b.isBlock(t,E)),!u&&H.isRange(s)&&(s=b.unhangRange(t,s,{voids:f})),l&&H.isRange(s)){if(H.isCollapsed(s)&&b.leaf(t,s.anchor)[0].text.length>0)return;var d=b.rangeRef(t,s,{affinity:"inward"}),[v,h]=H.edges(s),g=c==="lowest"?"lowest":"highest",x=b.isEnd(t,h,h.path);X.splitNodes(t,{at:h,match:a,mode:g,voids:f,always:!x});var y=b.isStart(t,v,v.path);X.splitNodes(t,{at:v,match:a,mode:g,voids:f,always:!y}),s=d.unref(),n.at==null&&X.select(t,s)}i||(i=(E,A)=>E!==A);for(var[p,w]of b.nodes(t,{at:s,match:a,mode:c,voids:f})){var C={},P={};if(w.length!==0){var _=!1;for(var R in r)R==="children"||R==="text"||i(r[R],p[R])&&(_=!0,p.hasOwnProperty(R)&&(C[R]=p[R]),o?r[R]!=null&&(P[R]=o(p[R],r[R])):r[R]!=null&&(P[R]=r[R]));_&&t.apply({type:"set_node",path:w,properties:C,newProperties:P})}}}})},IP=(e,t)=>{if(H.isCollapsed(t))return t.anchor;var[,r]=H.edges(t),n=b.pointRef(e,r);return X.delete(e,{at:t}),n.unref()},uw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b.withoutNormalizing(t,()=>{var{mode:n="lowest",voids:a=!1}=r,{match:s,at:i=t.selection,height:o=0,always:u=!1}=r;if(s==null&&(s=W=>pe.isElement(W)&&b.isBlock(t,W)),H.isRange(i)&&(i=IP(t,i)),N.isPath(i)){var c=i,l=b.point(t,c),[f]=b.parent(t,c);s=W=>W===f,o=l.path.length-c.length+1,i=l,u=!0}if(i){var d=b.pointRef(t,i,{affinity:"backward"}),v;try{var[h]=b.nodes(t,{at:i,match:s,mode:n,voids:a});if(!h)return;var g=b.void(t,{at:i,mode:"highest"}),x=0;if(!a&&g){var[y,p]=g;if(pe.isElement(y)&&t.isInline(y)){var w=b.after(t,p);if(!w){var C={text:""},P=N.next(p);X.insertNodes(t,C,{at:P,voids:a}),w=b.point(t,P)}i=w,u=!0}var _=i.path.length-p.length;o=_+1,u=!0}v=b.pointRef(t,i);var R=i.path.length-o,[,E]=h,A=i.path.slice(0,R),S=o===0?i.offset:i.path[R]+x;for(var[B,k]of b.levels(t,{at:A,reverse:!0,voids:a})){var T=!1;if(k.length<E.length||k.length===0||!a&&pe.isElement(B)&&b.isVoid(t,B))break;var j=d.current,L=b.isEnd(t,j,k);if(u||!d||!b.isEdge(t,j,k)){T=!0;var J=te.extractProps(B);t.apply({type:"split_node",path:k,position:S,properties:J})}S=k[k.length-1]+(T||L?1:0)}if(r.at==null){var I=v.current||b.end(t,[]);X.select(t,I)}}finally{var Y;d.unref(),(Y=v)===null||Y===void 0||Y.unref()}}})},cw=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var a={};for(var s of r)a[s]=null;X.setNodes(t,a,n)},lw=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};b.withoutNormalizing(t,()=>{var{mode:n="lowest",split:a=!1,voids:s=!1}=r,{at:i=t.selection,match:o}=r;if(i){o==null&&(o=N.isPath(i)?Ea(t,i):v=>pe.isElement(v)&&b.isBlock(t,v)),N.isPath(i)&&(i=b.range(t,i));var u=H.isRange(i)?b.rangeRef(t,i):null,c=b.nodes(t,{at:i,match:o,mode:n,voids:s}),l=Array.from(c,v=>{var[,h]=v;return b.pathRef(t,h)}).reverse(),f=function(){var h=d.unref(),[g]=b.node(t,h),x=b.range(t,h);a&&u&&(x=H.intersection(u.current,x)),X.liftNodes(t,{at:x,match:y=>pe.isAncestor(g)&&g.children.includes(y),voids:s})};for(var d of l)f();u&&u.unref()}})};function Kh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kh(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kh(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Kf=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};b.withoutNormalizing(t,()=>{var{mode:a="lowest",split:s=!1,voids:i=!1}=n,{match:o,at:u=t.selection}=n;if(u){if(o==null&&(N.isPath(u)?o=Ea(t,u):t.isInline(r)?o=x=>pe.isElement(x)&&b.isInline(t,x)||ce.isText(x):o=x=>pe.isElement(x)&&b.isBlock(t,x)),s&&H.isRange(u)){var[c,l]=H.edges(u),f=b.rangeRef(t,u,{affinity:"inward"});X.splitNodes(t,{at:l,match:o,voids:i}),X.splitNodes(t,{at:c,match:o,voids:i}),u=f.unref(),n.at==null&&X.select(t,u)}var d=Array.from(b.nodes(t,{at:u,match:t.isInline(r)?x=>pe.isElement(x)&&b.isBlock(t,x):x=>b.isEditor(x),mode:"lowest",voids:i})),v=function(){var y=H.isRange(u)?H.intersection(u,b.range(t,g)):u;if(!y)return 0;var p=Array.from(b.nodes(t,{at:y,match:o,mode:a,voids:i}));if(p.length>0){var[w]=p,C=p[p.length-1],[,P]=w,[,_]=C;if(P.length===0&&_.length===0)return 0;var R=N.equals(P,_)?N.parent(P):N.common(P,_),E=b.range(t,P,_),A=b.node(t,R),[S]=A,B=R.length+1,k=N.next(_.slice(0,B)),T=Gh(Gh({},r),{},{children:[]});X.insertNodes(t,T,{at:k,voids:i}),X.moveNodes(t,{at:E,match:j=>pe.isAncestor(S)&&S.children.includes(j),to:k.concat(0),voids:i})}},h;for(var[,g]of d)h=v()}})},fw=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return a0(e,...n)},addMark:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return l0(e,...n)},deleteBackward:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return d0(e,...n)},deleteForward:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return p0(e,...n)},deleteFragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return h0(e,...n)},getFragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return i0(e,...n)},insertBreak:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return C0(e,...n)},insertSoftBreak:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return DP(e,...n)},insertFragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return X0(e,...n)},insertNode:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return EP(e,...n)},insertText:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return PP(e,...n)},normalizeNode:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return o0(e,...n)},removeMark:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return K0(e,...n)},getDirtyPaths:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return s0(e,...n)},shouldNormalize:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return u0(e,...n)},above:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return c0(e,...n)},after:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return f0(e,...n)},before:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return qf(e,...n)},collapse:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Q0(e,...n)},delete:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return _P(e,...n)},deselect:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ew(e,...n)},edges:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return v0(e,...n)},elementReadOnly:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return m0(e,...n)},end:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Uf(e,...n)},first:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return g0(e,...n)},fragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return y0(e,...n)},getMarks:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return _0(e,...n)},hasBlocks:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return x0(e,...n)},hasInlines:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return w0(e,...n)},hasPath:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return E0(e,...n)},hasTexts:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return D0(e,...n)},insertNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return aw(e,...n)},isBlock:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return P0(e,...n)},isEdge:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return O0(e,...n)},isEmpty:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return La(e,...n)},isEnd:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return A0(e,...n)},isNormalizing:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return S0(e,...n)},isStart:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return B0(e,...n)},last:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return k0(e,...n)},leaf:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return F0(e,...n)},levels:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return T0(e,...n)},liftNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return sw(e,...n)},mergeNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return jP(e,...n)},move:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return tw(e,...n)},moveNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Vf(e,...n)},next:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return SP(e,...n)},node:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return N0(e,...n)},nodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return BP(e,...n)},normalize:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return R0(e,...n)},parent:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return j0(e,...n)},path:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return M0(e,...n)},pathRef:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return I0(e,...n)},pathRefs:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return $0(e,...n)},point:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return q0(e,...n)},pointRef:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return L0(e,...n)},pointRefs:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return z0(e,...n)},positions:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return U0(e,...n)},previous:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return kP(e,...n)},range:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return H0(e,...n)},rangeRef:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return W0(e,...n)},rangeRefs:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return V0(e,...n)},removeNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ow(e,...n)},select:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return mi(e,...n)},setNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Hf(e,...n)},setNormalizing:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return G0(e,...n)},setPoint:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return rw(e,...n)},setSelection:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return nw(e,...n)},splitNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return uw(e,...n)},start:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Wf(e,...n)},string:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Y0(e,...n)},unhangRange:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return J0(e,...n)},unsetNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return cw(e,...n)},unwrapNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return lw(e,...n)},void:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return b0(e,...n)},withoutNormalizing:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Z0(e,...n)},wrapNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Kf(e,...n)},shouldMergeNodesRemovePrevNode:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return TP(e,...n)}};return e},cr={},Yh;function $P(){if(Yh)return cr;Yh=1,Object.defineProperty(cr,"__esModule",{value:!0});for(var e=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),t={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},r={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:e?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},n={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)n["f"+a]=111+a;function s(d,v,h){v&&!("byKey"in v)&&(h=v,v=null),Array.isArray(d)||(d=[d]);var g=d.map(function(p){return u(p,v)}),x=function(w){return g.some(function(C){return c(C,w)})},y=h==null?x:x(h);return y}function i(d,v){return s(d,v)}function o(d,v){return s(d,{byKey:!0},v)}function u(d,v){var h=v&&v.byKey,g={};d=d.replace("++","+add");var x=d.split("+"),y=x.length;for(var p in t)g[t[p]]=!1;var w=!0,C=!1,P=void 0;try{for(var _=x[Symbol.iterator](),R;!(w=(R=_.next()).done);w=!0){var E=R.value,A=E.endsWith("?")&&E.length>1;A&&(E=E.slice(0,-1));var S=f(E),B=t[S];if(E.length>1&&!B&&!r[E]&&!n[S])throw new TypeError('Unknown modifier: "'+E+'"');(y===1||!B)&&(h?g.key=S:g.which=l(E)),B&&(g[B]=A?null:!0)}}catch(k){C=!0,P=k}finally{try{!w&&_.return&&_.return()}finally{if(C)throw P}}return g}function c(d,v){for(var h in d){var g=d[h],x=void 0;if(g!=null&&(h==="key"&&v.key!=null?x=v.key.toLowerCase():h==="which"?x=g===91&&v.which===93?91:v.which:x=v[h],!(x==null&&g===!1)&&x!==g))return!1}return!0}function l(d){d=f(d);var v=n[d]||d.toUpperCase().charCodeAt(0);return v}function f(d){return d=d.toLowerCase(),d=r[d]||d,d}return cr.default=s,cr.isHotkey=s,cr.isCodeHotkey=i,cr.isKeyHotkey=o,cr.parseHotkey=u,cr.compareHotkey=c,cr.toKeyCode=l,cr.toKeyName=f,cr}var Rr=$P(),dw=globalThis.Node,MP=globalThis.Text,Xd=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,LP=e=>tn(e)&&e.nodeType===8,sr=e=>tn(e)&&e.nodeType===1,tn=e=>{var t=Xd(e);return!!t&&e instanceof t.Node},Gf=e=>{var t=e&&e.anchorNode&&Xd(e.anchorNode);return!!t&&e instanceof t.Selection},pw=e=>tn(e)&&e.nodeType===3,zP=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,qP=e=>{var[t,r]=e;if(sr(t)&&t.childNodes.length){var n=r===t.childNodes.length,a=n?r-1:r;for([t,a]=hw(t,a,n?"backward":"forward"),n=a<r;sr(t)&&t.childNodes.length;){var s=n?t.childNodes.length-1:0;t=WP(t,s,n?"backward":"forward")}r=n&&t.textContent!=null?t.textContent.length:0}return[t,r]},UP=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},hw=(e,t,r)=>{for(var{childNodes:n}=e,a=n[t],s=t,i=!1,o=!1;(LP(a)||sr(a)&&a.childNodes.length===0||sr(a)&&a.getAttribute("contenteditable")==="false")&&!(i&&o);){if(s>=n.length){i=!0,s=t-1,r="backward";continue}if(s<0){o=!0,s=t+1,r="forward";continue}a=n[s],t=s,s+=r==="forward"?1:-1}return[a,t]},WP=(e,t,r)=>{var[n]=hw(e,t,r);return n},vw=e=>{var t="";if(pw(e)&&e.nodeValue)return e.nodeValue;if(sr(e)){for(var r of Array.from(e.childNodes))t+=vw(r);var n=getComputedStyle(e).getPropertyValue("display");(n==="block"||n==="list"||e.tagName==="BR")&&(t+=`
`)}return t},VP=/data-slate-fragment="(.+?)"/m,HP=e=>{var t=e.getData("text/html"),[,r]=t.match(VP)||[];return r},Ja=e=>e.getSelection!=null?e.getSelection():document.getSelection(),Qd=(e,t,r)=>{var{target:n}=t;if(sr(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:a}=de.getWindow(e);if(a.contains(n))return de.hasDOMNode(e,n,{editable:!0});var s=r.find(i=>{var{addedNodes:o,removedNodes:u}=i;for(var c of o)if(c===n||c.contains(n))return!0;for(var l of u)if(l===n||l.contains(n))return!0});return!s||s===t?!1:Qd(e,s,r)},KP=()=>{for(var e=document.activeElement;(t=e)!==null&&t!==void 0&&t.shadowRoot&&(r=e.shadowRoot)!==null&&r!==void 0&&r.activeElement;){var t,r,n;e=(n=e)===null||n===void 0||(n=n.shadowRoot)===null||n===void 0?void 0:n.activeElement}return e},Jh=(e,t)=>!!(e.compareDocumentPosition(t)&dw.DOCUMENT_POSITION_PRECEDING),GP=(e,t)=>!!(e.compareDocumentPosition(t)&dw.DOCUMENT_POSITION_FOLLOWING),su,iu,YP=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Zh=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Tt=typeof navigator<"u"&&/Android/.test(navigator.userAgent),Jr=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),hn=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),JP=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),mw=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),ZP=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),XP=Tt&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),QP=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),eO=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),tO=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),gi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&/Version\/(\d+)/.test(navigator.userAgent)&&((su=navigator.userAgent.match(/Version\/(\d+)/))!==null&&su!==void 0&&su[1]&&parseInt((iu=navigator.userAgent.match(/Version\/(\d+)/))===null||iu===void 0?void 0:iu[1],10)<17);var Wr=(!ZP||!XP)&&!JP&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function";function us(e){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function rO(e,t){if(us(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(us(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nO(e){var t=rO(e,"string");return us(t)==="symbol"?t:String(t)}function ep(e,t,r){return t=nO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aO=0;let gw=class{constructor(){ep(this,"id",void 0),this.id="".concat(aO++)}};var ia=new WeakMap,sa=new WeakMap,Za=new WeakMap,yw=new WeakMap,yi=new WeakMap,Yf=new WeakMap,cs=new WeakMap,An=new WeakMap,$i=new WeakMap,go=new WeakMap,Jf=new WeakMap,Zr=new WeakMap,Dn=new WeakMap,Xa=new WeakMap,Zf=new WeakMap,tp=new WeakMap,yr=new WeakMap,Nr=new WeakMap,It=new WeakMap,Kr=new WeakMap,Gr=new WeakMap,bw=new WeakMap,la=Symbol("placeholder"),xw=Symbol("mark-placeholder"),de={androidPendingDiffs:e=>It.get(e),androidScheduleFlush:e=>{var t;(t=tp.get(e))===null||t===void 0||t()},blur:e=>{var t=de.toDOMNode(e,e),r=de.findDocumentOrShadowRoot(e);Zr.set(e,!1),r.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,r=de.findDocumentOrShadowRoot(e),n=Ja(r);n&&n.rangeCount>0&&n.removeAllRanges(),t&&X.deselect(e)},findDocumentOrShadowRoot:e=>{var t=de.toDOMNode(e,e),r=t.getRootNode();return r instanceof Document||r instanceof ShadowRoot?r:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:r,clientY:n,target:a}=t;if(r==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var s=de.toSlateNode(e,t.target),i=de.findPath(e,s);if(pe.isElement(s)&&b.isVoid(e,s)){var o=a.getBoundingClientRect(),u=e.isInline(s)?r-o.left<o.left+o.width-r:n-o.top<o.top+o.height-n,c=b.point(e,i,{edge:u?"start":"end"}),l=u?b.before(e,c):b.after(e,c);if(l){var f=b.range(e,l);return f}}var d,{document:v}=de.getWindow(e);if(v.caretRangeFromPoint)d=v.caretRangeFromPoint(r,n);else{var h=v.caretPositionFromPoint(r,n);h&&(d=v.createRange(),d.setStart(h.offsetNode,h.offset),d.setEnd(h.offsetNode,h.offset))}if(!d)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=de.toSlateRange(e,d,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var r=$i.get(t);return r||(r=new gw,$i.set(t,r)),r},findPath:(e,t)=>{for(var r=[],n=t;;){var a=Za.get(n);if(a==null){if(b.isEditor(n))return r;break}var s=sa.get(n);if(s==null)break;r.unshift(s),n=a}throw new Error("Unable to find the path for Slate node: ".concat(wt.stringify(t)))},focus:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Zr.get(t)){if(r.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{de.focus(t,{retries:r.retries-1})},10);return}var n=de.toDOMNode(t,t),a=de.findDocumentOrShadowRoot(t);if(a.activeElement!==n){if(t.selection&&a instanceof Document){var s=Ja(a),i=de.toDOMRange(t,t.selection);s?.removeAllRanges(),s?.addRange(i)}t.selection||X.select(t,b.start(t,[])),Zr.set(t,!0),n.focus({preventScroll:!0})}}},getWindow:e=>{var t=yw.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:a=!1}=n,s=de.toDOMNode(t,t),i;try{i=sr(r)?r:r.parentElement}catch(o){if(o instanceof Error&&!o.message.includes('Permission denied to access property "nodeType"'))throw o}return i?i.closest("[data-slate-editor]")===s&&(!a||i.isContentEditable?!0:typeof i.isContentEditable=="boolean"&&i.closest('[contenteditable="false"]')===s||!!i.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>tn(t)&&de.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:r,focus:n}=t;return b.hasPath(e,r.path)&&b.hasPath(e,n.path)},hasSelectableTarget:(e,t)=>de.hasEditableTarget(e,t)||de.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>tn(t)&&de.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!Dn.get(e),isFocused:e=>!!Zr.get(e),isReadOnly:e=>!!Jf.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(Jf.get(e))return!1;var r=de.hasTarget(e,t)&&de.toSlateNode(e,t);return pe.isElement(r)&&b.isVoid(e,r)},setFragmentData:(e,t,r)=>e.setFragmentData(t,r),toDOMNode:(e,t)=>{var r=go.get(e),n=b.isEditor(t)?yi.get(e):r?.get(de.findKey(e,t));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(wt.stringify(t)));return n},toDOMPoint:(e,t)=>{var[r]=b.node(e,t.path),n=de.toDOMNode(e,r),a;b.void(e,{at:t})&&(t={path:t.path,offset:0});for(var s="[data-slate-string], [data-slate-zero-width]",i=Array.from(n.querySelectorAll(s)),o=0,u=0;u<i.length;u++){var c=i[u],l=c.childNodes[0];if(!(l==null||l.textContent==null)){var{length:f}=l.textContent,d=c.getAttribute("data-slate-length"),v=d==null?f:parseInt(d,10),h=o+v,g=i[u+1];if(t.offset===h&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var x,y=g.childNodes[0];a=[y instanceof MP?y:g,(x=g.textContent)!==null&&x!==void 0&&x.startsWith("\uFEFF")?1:0];break}if(t.offset<=h){var p=Math.min(f,Math.max(0,t.offset-o));a=[l,p];break}o=h}}if(!a)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(wt.stringify(t)));return a},toDOMRange:(e,t)=>{var{anchor:r,focus:n}=t,a=H.isBackward(t),s=de.toDOMPoint(e,r),i=H.isCollapsed(t)?s:de.toDOMPoint(e,n),o=de.getWindow(e),u=o.document.createRange(),[c,l]=a?i:s,[f,d]=a?s:i,v=sr(c)?c:c.parentElement,h=!!v.getAttribute("data-slate-zero-width"),g=sr(f)?f:f.parentElement,x=!!g.getAttribute("data-slate-zero-width");return u.setStart(c,h?1:l),u.setEnd(f,x?1:d),u},toSlateNode:(e,t)=>{var r=sr(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?cs.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(e,t,r)=>{var{exactMatch:n,suppressThrow:a,searchDirection:s="backward"}=r,[i,o]=n?t:qP(t),u=i.parentNode,c=null,l=0;if(u){var f,d,v=de.toDOMNode(e,e),h=u.closest('[data-slate-void="true"]'),g=h&&v.contains(h)?h:null,x=u.closest('[contenteditable="false"]'),y=x&&v.contains(x)?x:null,p=u.closest("[data-slate-leaf]"),w=null;if(p){if(c=p.closest('[data-slate-node="text"]'),c){var C=de.getWindow(e),P=C.document.createRange();P.setStart(c,0),P.setEnd(i,o);var _=P.cloneContents(),R=[...Array.prototype.slice.call(_.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(_.querySelectorAll("[contenteditable=false]"))];R.forEach(oe=>{if(Tt&&!n&&oe.hasAttribute("data-slate-zero-width")&&oe.textContent.length>0&&oe.textContext!=="\uFEFF"){oe.textContent.startsWith("\uFEFF")&&(oe.textContent=oe.textContent.slice(1));return}oe.parentNode.removeChild(oe)}),l=_.textContent.length,w=c}}else if(g){for(var E=g.querySelectorAll("[data-slate-leaf]"),A=0;A<E.length;A++){var S=E[A];if(de.hasDOMNode(e,S)){p=S;break}}p?(c=p.closest('[data-slate-node="text"]'),w=p,l=w.textContent.length,w.querySelectorAll("[data-slate-zero-width]").forEach(oe=>{l-=oe.textContent.length})):l=1}else if(y){var B=oe=>oe?oe.querySelectorAll("[data-slate-leaf]:not(:scope [data-slate-editor] [data-slate-leaf])"):[],k=y.closest('[data-slate-node="element"]');if(s==="forward"){var T,j=[...B(k),...B(k?.nextElementSibling)];p=(T=j.find(oe=>GP(y,oe)))!==null&&T!==void 0?T:null}else{var L,J=[...B(k?.previousElementSibling),...B(k)];p=(L=J.findLast(oe=>Jh(y,oe)))!==null&&L!==void 0?L:null}p&&(c=p.closest('[data-slate-node="text"]'),w=p,s==="forward"?l=0:(l=w.textContent.length,w.querySelectorAll("[data-slate-zero-width]").forEach(oe=>{l-=oe.textContent.length})))}w&&l===w.textContent.length&&Tt&&w.getAttribute("data-slate-zero-width")==="z"&&(f=w.textContent)!==null&&f!==void 0&&f.startsWith("\uFEFF")&&(u.hasAttribute("data-slate-zero-width")||Jr&&(d=w.textContent)!==null&&d!==void 0&&d.endsWith(`

`))&&l--}if(Tt&&!c&&!n){var I=u.hasAttribute("data-slate-node")?u:u.closest("[data-slate-node]");if(I&&de.hasDOMNode(e,I,{editable:!0})){var Y=de.toSlateNode(e,I),{path:W,offset:Z}=b.start(e,de.findPath(e,Y));return I.querySelector("[data-slate-leaf]")||(Z=o),{path:W,offset:Z}}}if(!c){if(a)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var ie=de.toSlateNode(e,c),le=de.findPath(e,ie);return{path:le,offset:l}},toSlateRange:(e,t,r)=>{var n,{exactMatch:a,suppressThrow:s}=r,i=Gf(t)?t.anchorNode:t.startContainer,o,u,c,l,f;if(i)if(Gf(t)){if(Jr&&t.rangeCount>1){c=t.focusNode;var d=t.getRangeAt(0),v=t.getRangeAt(t.rangeCount-1);if(c instanceof HTMLTableRowElement&&d.startContainer instanceof HTMLTableRowElement&&v.startContainer instanceof HTMLTableRowElement){let _=function(R){return R.childElementCount>0?_(R.children[0]):R};var h=d.startContainer,g=v.startContainer,x=_(h.children[d.startOffset]),y=_(g.children[v.startOffset]);l=0,y.childNodes.length>0?o=y.childNodes[0]:o=y,x.childNodes.length>0?c=x.childNodes[0]:c=x,y instanceof HTMLElement?u=y.innerHTML.length:u=0}else d.startContainer===c?(o=v.endContainer,u=v.endOffset,l=d.startOffset):(o=d.startContainer,u=d.endOffset,l=v.startOffset)}else o=t.anchorNode,u=t.anchorOffset,c=t.focusNode,l=t.focusOffset;mw&&UP(o)||Jr?f=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:f=t.isCollapsed}else o=t.startContainer,u=t.startOffset,c=t.endContainer,l=t.endOffset,f=t.collapsed;if(o==null||c==null||u==null||l==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));Jr&&(n=c.textContent)!==null&&n!==void 0&&n.endsWith(`

`)&&l===c.textContent.length&&l--;var p=de.toSlatePoint(e,[o,u],{exactMatch:a,suppressThrow:s});if(!p)return null;var w=Jh(o,c)||o===c&&l<u,C=f?p:de.toSlatePoint(e,[c,l],{exactMatch:a,suppressThrow:s,searchDirection:w?"forward":"backward"});if(!C)return null;var P={anchor:p,focus:C};return H.isExpanded(P)&&H.isForward(P)&&sr(c)&&b.void(e,{at:P.focus,mode:"highest"})&&(P=b.unhangRange(e,P,{voids:!0})),P}};function sO(e,t){var{path:r,diff:n}=t;if(!b.hasPath(e,r))return!1;var a=te.get(e,r);if(!ce.isText(a))return!1;if(n.start!==a.text.length||n.text.length===0)return a.text.slice(n.start,n.start+n.text.length)===n.text;var s=N.next(r);if(!b.hasPath(e,s))return!1;var i=te.get(e,s);return ce.isText(i)&&i.text.startsWith(n.text)}function ww(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((a,s)=>a.slice(0,s.start)+s.text+a.slice(s.end),e)}function iO(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return r}function oO(e,t,r){for(var n=Math.min(e.length,t.length,r),a=0;a<n;a++)if(e.charAt(e.length-a-1)!==t.charAt(t.length-a-1))return a;return n}function Ew(e,t){var{start:r,end:n,text:a}=t,s=e.slice(r,n),i=iO(s,a),o=Math.min(s.length-i,a.length-i),u=oO(s,a,o),c={start:r+i,end:n-u,text:a.slice(i,a.length-u)};return c.start===c.end&&c.text.length===0?null:c}function uO(e,t,r){var n=Math.min(t.start,r.start),a=Math.max(0,Math.min(t.start+t.text.length,r.end)-r.start),s=ww(e,t,r),i=Math.max(r.start+r.text.length,t.start+t.text.length+(t.start+t.text.length>r.start?r.text.length:0)-a),o=s.slice(n,i),u=Math.max(t.end,r.end-t.text.length+(t.end-t.start));return Ew(e,{start:n,end:u,text:o})}function cO(e){var{path:t,diff:r}=e;return{anchor:{path:t,offset:r.start},focus:{path:t,offset:r.end}}}function Xf(e,t){var{path:r,offset:n}=t;if(!b.hasPath(e,r))return null;var a=te.get(e,r);if(!ce.isText(a))return null;var s=b.above(e,{match:o=>pe.isElement(o)&&b.isBlock(e,o),at:r});if(!s)return null;for(;n>a.text.length;){var i=b.next(e,{at:r,match:ce.isText});if(!i||!N.isDescendant(i[1],s[1]))return null;n-=a.text.length,a=i[0],r=i[1]}return{path:r,offset:n}}function Xh(e,t){var r=Xf(e,t.anchor);if(!r)return null;if(H.isCollapsed(t))return{anchor:r,focus:r};var n=Xf(e,t.focus);return n?{anchor:r,focus:n}:null}function Qf(e,t,r){var n=It.get(e),a=n?.find(l=>{var{path:f}=l;return N.equals(f,t.path)});if(!a||t.offset<=a.diff.start)return De.transform(t,r,{affinity:"backward"});var{diff:s}=a;if(t.offset<=s.start+s.text.length){var i={path:t.path,offset:s.start},o=De.transform(i,r,{affinity:"backward"});return o?{path:o.path,offset:o.offset+t.offset-s.start}:null}var u={path:t.path,offset:t.offset-s.text.length+s.end-s.start},c=De.transform(u,r,{affinity:"backward"});return c?r.type==="split_node"&&N.equals(r.path,t.path)&&u.offset<r.position&&s.start<r.position?c:{path:c.path,offset:c.offset+s.text.length-s.end+s.start}:null}function Qh(e,t,r){var n=Qf(e,t.anchor,r);if(!n)return null;if(H.isCollapsed(t))return{anchor:n,focus:n};var a=Qf(e,t.focus,r);return a?{anchor:n,focus:a}:null}function lO(e,t){var{path:r,diff:n,id:a}=e;switch(t.type){case"insert_text":return!N.equals(t.path,r)||t.offset>=n.end?e:t.offset<=n.start?{diff:{start:t.text.length+n.start,end:t.text.length+n.end,text:n.text},id:a,path:r}:{diff:{start:n.start,end:n.end+t.text.length,text:n.text},id:a,path:r};case"remove_text":return!N.equals(t.path,r)||t.offset>=n.end?e:t.offset+t.text.length<=n.start?{diff:{start:n.start-t.text.length,end:n.end-t.text.length,text:n.text},id:a,path:r}:{diff:{start:n.start,end:n.end-t.text.length,text:n.text},id:a,path:r};case"split_node":return!N.equals(t.path,r)||t.position>=n.end?{diff:n,id:a,path:N.transform(r,t,{affinity:"backward"})}:t.position>n.start?{diff:{start:n.start,end:Math.min(t.position,n.end),text:n.text},id:a,path:r}:{diff:{start:n.start-t.position,end:n.end-t.position,text:n.text},id:a,path:N.transform(r,t,{affinity:"forward"})};case"merge_node":return N.equals(t.path,r)?{diff:{start:n.start+t.position,end:n.end+t.position,text:n.text},id:a,path:N.transform(r,t)}:{diff:n,id:a,path:N.transform(r,t)}}var s=N.transform(r,t);return s?{diff:n,path:s,id:a}:null}var ev=(e,t)=>{var r=(t.top+t.bottom)/2;return e.top<=r&&e.bottom>=r},tv=(e,t,r)=>{var n=de.toDOMRange(e,t).getBoundingClientRect(),a=de.toDOMRange(e,r).getBoundingClientRect();return ev(n,a)&&ev(a,n)},fO=(e,t)=>{var r=b.range(e,H.end(t)),n=Array.from(b.positions(e,{at:t})),a=0,s=n.length,i=Math.floor(s/2);if(tv(e,b.range(e,n[a]),r))return b.range(e,n[a],r);if(n.length<2)return b.range(e,n[n.length-1],r);for(;i!==n.length&&i!==a;)tv(e,b.range(e,n[i]),r)?s=i:a=i,i=Math.floor((a+s)/2);return b.range(e,n[a],r)};function rv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rv(Object(r),!0).forEach(function(n){ep(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var dO=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=t,{apply:a,onChange:s,deleteBackward:i,addMark:o,removeMark:u}=n;return go.set(n,new WeakMap),n.addMark=(c,l)=>{var f,d;(f=tp.get(n))===null||f===void 0||f(),!yr.get(n)&&(d=It.get(n))!==null&&d!==void 0&&d.length&&yr.set(n,null),Nr.delete(n),o(c,l)},n.removeMark=c=>{var l;!yr.get(n)&&(l=It.get(n))!==null&&l!==void 0&&l.length&&yr.set(n,null),Nr.delete(n),u(c)},n.deleteBackward=c=>{if(c!=="line")return i(c);if(n.selection&&H.isCollapsed(n.selection)){var l=b.above(n,{match:h=>pe.isElement(h)&&b.isBlock(n,h),at:n.selection});if(l){var[,f]=l,d=b.range(n,f,n.selection.anchor),v=fO(n,d);H.isCollapsed(v)||X.delete(n,{at:v})}}},n.apply=c=>{var l=[],f=[],d=It.get(n);if(d!=null&&d.length){var v=d.map(j=>lO(j,c)).filter(Boolean);It.set(n,v)}var h=Gr.get(n);h&&Gr.set(n,Qh(n,h,c));var g=Kr.get(n);if(g!=null&&g.at){var x=De.isPoint(g?.at)?Qf(n,g.at,c):Qh(n,g.at,c);Kr.set(n,x?nv(nv({},g),{},{at:x}):null)}switch(c.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{l.push(...Hn(n,c.path));break}case"set_selection":{var y;(y=Xa.get(n))===null||y===void 0||y.unref(),Xa.delete(n);break}case"insert_node":case"remove_node":{l.push(...Hn(n,N.parent(c.path)));break}case"merge_node":{var p=N.previous(c.path);l.push(...Hn(n,p));break}case"move_node":{var w=N.common(N.parent(c.path),N.parent(c.newPath));l.push(...Hn(n,w));var C;N.isBefore(c.path,c.newPath)?(l.push(...Hn(n,N.parent(c.path))),C=c.newPath):(l.push(...Hn(n,N.parent(c.newPath))),C=c.path);var P=te.get(t,N.parent(C)),_=de.findKey(n,P),R=b.pathRef(n,N.parent(C));f.push([R,_]);break}}switch(a(c),c.type){case"insert_node":case"remove_node":case"merge_node":case"move_node":case"split_node":case"insert_text":case"remove_text":case"set_selection":ia.set(n,!0)}for(var[E,A]of l){var[S]=b.node(n,E);$i.set(S,A)}for(var[B,k]of f){if(B.current){var[T]=b.node(n,B.current);$i.set(T,k)}B.unref()}},n.setFragmentData=c=>{var{selection:l}=n;if(l){var[f,d]=H.edges(l),v=b.void(n,{at:f.path}),h=b.void(n,{at:d.path});if(!(H.isCollapsed(l)&&!v)){var g=de.toDOMRange(n,l),x=g.cloneContents(),y=x.childNodes[0];if(x.childNodes.forEach(S=>{S.textContent&&S.textContent.trim()!==""&&(y=S)}),h){var[p]=h,w=g.cloneRange(),C=de.toDOMNode(n,p);w.setEndAfter(C),x=w.cloneContents()}if(v&&(y=x.querySelector("[data-slate-spacer]")),Array.from(x.querySelectorAll("[data-slate-zero-width]")).forEach(S=>{var B=S.getAttribute("data-slate-zero-width")==="n";S.textContent=B?`
`:""}),pw(y)){var P=y.ownerDocument.createElement("span");P.style.whiteSpace="pre",P.appendChild(y),x.appendChild(P),y=P}var _=n.getFragment(),R=JSON.stringify(_),E=window.btoa(encodeURIComponent(R));y.setAttribute("data-slate-fragment",E),c.setData("application/".concat(r),E);var A=x.ownerDocument.createElement("div");return A.appendChild(x),A.setAttribute("hidden","true"),x.ownerDocument.body.appendChild(A),c.setData("text/html",A.innerHTML),c.setData("text/plain",vw(A)),x.ownerDocument.body.removeChild(A),c}}},n.insertData=c=>{n.insertFragmentData(c)||n.insertTextData(c)},n.insertFragmentData=c=>{var l=c.getData("application/".concat(r))||HP(c);if(l){var f=decodeURIComponent(window.atob(l)),d=JSON.parse(f);return n.insertFragment(d),!0}return!1},n.insertTextData=c=>{var l=c.getData("text/plain");if(l){var f=l.split(/\r\n|\r|\n/),d=!1;for(var v of f)d&&X.splitNodes(n,{always:!0}),n.insertText(v),d=!0;return!0}return!1},n.onChange=c=>{var l=Zf.get(n);l&&l(c),s(c)},n},Hn=(e,t)=>{var r=[];for(var[n,a]of b.levels(e,{at:t})){var s=de.findKey(e,n);r.push([a,s])}return r},pO=3,hO={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},vO={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},mO={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},nt=e=>{var t=hO[e],r=vO[e],n=mO[e],a=t&&Rr.isHotkey(t),s=r&&Rr.isHotkey(r),i=n&&Rr.isHotkey(n);return o=>!!(a&&a(o)||Zh&&s&&s(o)||!Zh&&i&&i(o))},ft={isBold:nt("bold"),isCompose:nt("compose"),isMoveBackward:nt("moveBackward"),isMoveForward:nt("moveForward"),isDeleteBackward:nt("deleteBackward"),isDeleteForward:nt("deleteForward"),isDeleteLineBackward:nt("deleteLineBackward"),isDeleteLineForward:nt("deleteLineForward"),isDeleteWordBackward:nt("deleteWordBackward"),isDeleteWordForward:nt("deleteWordForward"),isExtendBackward:nt("extendBackward"),isExtendForward:nt("extendForward"),isExtendLineBackward:nt("extendLineBackward"),isExtendLineForward:nt("extendLineForward"),isItalic:nt("italic"),isMoveLineBackward:nt("moveLineBackward"),isMoveLineForward:nt("moveLineForward"),isMoveWordBackward:nt("moveWordBackward"),isMoveWordForward:nt("moveWordForward"),isRedo:nt("redo"),isSoftBreak:nt("insertSoftBreak"),isSplitBlock:nt("splitBlock"),isTransposeCharacter:nt("transposeCharacter"),isUndo:nt("undo")};function gO(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function av(e,t){if(e==null)return{};var r=gO(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var yO=["anchor","focus"],bO=["anchor","focus"];function sv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sv(Object(r),!0).forEach(function(n){ep(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var xO=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(r=>t.hasOwnProperty(r)&&e[r]===t[r]),Dw=(e,t)=>{var r=av(e,yO),n=av(t,bO);return e[la]===t[la]&&xO(r,n)},yo=(e,t)=>{if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],a=t[r];if(!H.equals(n,a)||!Dw(n,a))return!1}return!0},rp=(e,t)=>{if(e===t)return!0;if(!e||!t||e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],a=t[r];if(n.anchor.offset!==a.anchor.offset||n.focus.offset!==a.focus.offset||!Dw(n,a))return!1}return!0},wO=(e,t,r)=>{var n=Array.from(t.children,()=>[]);if(r.length===0)return n;var a=de.findPath(e,t),s=a.length,i=b.range(e,a),o=new Array(t.children.length),u=w=>{var C=o[w];if(C)return C;var P=b.range(e,[...a,w]);return o[w]=P,P};for(var c of r){var l=H.intersection(i,c);if(l)for(var[f,d]=H.edges(l),v=f.path[s],h=d.path[s],g=v;g<=h;g++){var x=n[g];if(x){var y=u(g),p=H.intersection(y,c);p&&x.push(iv(iv({},c),p))}}}return n},ou,ov;function Cw(){if(ov)return ou;ov=1;function e(t,r){return function(n){return t(r(n))}}return ou=e,ou}var uu,uv;function np(){if(uv)return uu;uv=1;var e=Cw(),t=e(Object.getPrototypeOf,Object);return uu=t,uu}var cu,cv;function ap(){if(cv)return cu;cv=1;var e=fo(),t=np(),r=sn(),n="[object Object]",a=Function.prototype,s=Object.prototype,i=a.toString,o=s.hasOwnProperty,u=i.call(Object);function c(l){if(!r(l)||e(l)!=n)return!1;var f=t(l);if(f===null)return!0;var d=o.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&i.call(d)==u}return cu=c,cu}var EO=ap();const DO=Dt(EO);var lu,lv;function CO(){if(lv)return lu;lv=1;var e=Sr();function t(){if(!arguments.length)return[];var r=arguments[0];return e(r)?r:[r]}return lu=t,lu}var PO=CO();const Lt=Dt(PO);var fu,fv;function OO(){if(fv)return fu;fv=1;var e=zd();function t(){this.__data__=new e,this.size=0}return fu=t,fu}var du,dv;function AO(){if(dv)return du;dv=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return du=e,du}var pu,pv;function SO(){if(pv)return pu;pv=1;function e(t){return this.__data__.get(t)}return pu=e,pu}var hu,hv;function BO(){if(hv)return hu;hv=1;function e(t){return this.__data__.has(t)}return hu=e,hu}var vu,vv;function kO(){if(vv)return vu;vv=1;var e=zd(),t=zx(),r=qx(),n=200;function a(s,i){var o=this.__data__;if(o instanceof e){var u=o.__data__;if(!t||u.length<n-1)return u.push([s,i]),this.size=++o.size,this;o=this.__data__=new r(u)}return o.set(s,i),this.size=o.size,this}return vu=a,vu}var mu,mv;function bo(){if(mv)return mu;mv=1;var e=zd(),t=OO(),r=AO(),n=SO(),a=BO(),s=kO();function i(o){var u=this.__data__=new e(o);this.size=u.size}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,mu=i,mu}var gu,gv;function FO(){if(gv)return gu;gv=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return gu=t,gu}var yu,yv;function TO(){if(yv)return yu;yv=1;function e(t){return this.__data__.has(t)}return yu=e,yu}var bu,bv;function _O(){if(bv)return bu;bv=1;var e=qx(),t=FO(),r=TO();function n(a){var s=-1,i=a==null?0:a.length;for(this.__data__=new e;++s<i;)this.add(a[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,bu=n,bu}var xu,xv;function NO(){if(xv)return xu;xv=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return xu=e,xu}var wu,wv;function RO(){if(wv)return wu;wv=1;function e(t,r){return t.has(r)}return wu=e,wu}var Eu,Ev;function Pw(){if(Ev)return Eu;Ev=1;var e=_O(),t=NO(),r=RO(),n=1,a=2;function s(i,o,u,c,l,f){var d=u&n,v=i.length,h=o.length;if(v!=h&&!(d&&h>v))return!1;var g=f.get(i),x=f.get(o);if(g&&x)return g==o&&x==i;var y=-1,p=!0,w=u&a?new e:void 0;for(f.set(i,o),f.set(o,i);++y<v;){var C=i[y],P=o[y];if(c)var _=d?c(P,C,y,o,i,f):c(C,P,y,i,o,f);if(_!==void 0){if(_)continue;p=!1;break}if(w){if(!t(o,function(R,E){if(!r(w,E)&&(C===R||l(C,R,u,c,f)))return w.push(E)})){p=!1;break}}else if(!(C===P||l(C,P,u,c,f))){p=!1;break}}return f.delete(i),f.delete(o),p}return Eu=s,Eu}var Du,Dv;function Ow(){if(Dv)return Du;Dv=1;var e=on(),t=e.Uint8Array;return Du=t,Du}var Cu,Cv;function jO(){if(Cv)return Cu;Cv=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,s){n[++r]=[s,a]}),n}return Cu=e,Cu}var Pu,Pv;function IO(){if(Pv)return Pu;Pv=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return Pu=e,Pu}var Ou,Ov;function $O(){if(Ov)return Ou;Ov=1;var e=qd(),t=Ow(),r=js(),n=Pw(),a=jO(),s=IO(),i=1,o=2,u="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Map]",d="[object Number]",v="[object RegExp]",h="[object Set]",g="[object String]",x="[object Symbol]",y="[object ArrayBuffer]",p="[object DataView]",w=e?e.prototype:void 0,C=w?w.valueOf:void 0;function P(_,R,E,A,S,B,k){switch(E){case p:if(_.byteLength!=R.byteLength||_.byteOffset!=R.byteOffset)return!1;_=_.buffer,R=R.buffer;case y:return!(_.byteLength!=R.byteLength||!B(new t(_),new t(R)));case u:case c:case d:return r(+_,+R);case l:return _.name==R.name&&_.message==R.message;case v:case g:return _==R+"";case f:var T=a;case h:var j=A&i;if(T||(T=s),_.size!=R.size&&!j)return!1;var L=k.get(_);if(L)return L==R;A|=o,k.set(_,R);var J=n(T(_),T(R),A,S,B,k);return k.delete(_),J;case x:if(C)return C.call(_)==C.call(R)}return!1}return Ou=P,Ou}var Au,Av;function sp(){if(Av)return Au;Av=1;function e(t,r){for(var n=-1,a=r.length,s=t.length;++n<a;)t[s+n]=r[n];return t}return Au=e,Au}var Su,Sv;function Aw(){if(Sv)return Su;Sv=1;var e=sp(),t=Sr();function r(n,a,s){var i=a(n);return t(n)?i:e(i,s(n))}return Su=r,Su}var Bu,Bv;function MO(){if(Bv)return Bu;Bv=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=0,i=[];++n<a;){var o=t[n];r(o,n,t)&&(i[s++]=o)}return i}return Bu=e,Bu}var ku,kv;function Sw(){if(kv)return ku;kv=1;function e(){return[]}return ku=e,ku}var Fu,Fv;function ip(){if(Fv)return Fu;Fv=1;var e=MO(),t=Sw(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(i){return i==null?[]:(i=Object(i),e(a(i),function(o){return n.call(i,o)}))}:t;return Fu=s,Fu}var Tu,Tv;function LO(){if(Tv)return Tu;Tv=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return Tu=e,Tu}var _u,_v;function zO(){if(_v)return _u;_v=1;var e=fo(),t=sn(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return _u=n,_u}var Nu,Nv;function xo(){if(Nv)return Nu;Nv=1;var e=zO(),t=sn(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(i){return t(i)&&n.call(i,"callee")&&!a.call(i,"callee")};return Nu=s,Nu}var za={exports:{}},Ru,Rv;function qO(){if(Rv)return Ru;Rv=1;function e(){return!1}return Ru=e,Ru}za.exports;var jv;function wo(){return jv||(jv=1,function(e,t){var r=on(),n=qO(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i?r.Buffer:void 0,u=o?o.isBuffer:void 0,c=u||n;e.exports=c}(za,za.exports)),za.exports}var ju,Iv;function Eo(){if(Iv)return ju;Iv=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??e,!!a&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return ju=r,ju}var Iu,$v;function op(){if($v)return Iu;$v=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Iu=t,Iu}var $u,Mv;function UO(){if(Mv)return $u;Mv=1;var e=fo(),t=op(),r=sn(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",i="[object Date]",o="[object Error]",u="[object Function]",c="[object Map]",l="[object Number]",f="[object Object]",d="[object RegExp]",v="[object Set]",h="[object String]",g="[object WeakMap]",x="[object ArrayBuffer]",y="[object DataView]",p="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",P="[object Int16Array]",_="[object Int32Array]",R="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",S="[object Uint32Array]",B={};B[p]=B[w]=B[C]=B[P]=B[_]=B[R]=B[E]=B[A]=B[S]=!0,B[n]=B[a]=B[x]=B[s]=B[y]=B[i]=B[o]=B[u]=B[c]=B[l]=B[f]=B[d]=B[v]=B[h]=B[g]=!1;function k(T){return r(T)&&t(T.length)&&!!B[e(T)]}return $u=k,$u}var Mu,Lv;function up(){if(Lv)return Mu;Lv=1;function e(t){return function(r){return t(r)}}return Mu=e,Mu}var qa={exports:{}};qa.exports;var zv;function cp(){return zv||(zv=1,function(e,t){var r=oC(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,o=function(){try{var u=a&&a.require&&a.require("util").types;return u||i&&i.binding&&i.binding("util")}catch{}}();e.exports=o}(qa,qa.exports)),qa.exports}var Lu,qv;function lp(){if(qv)return Lu;qv=1;var e=UO(),t=up(),r=cp(),n=r&&r.isTypedArray,a=n?t(n):e;return Lu=a,Lu}var zu,Uv;function Bw(){if(Uv)return zu;Uv=1;var e=LO(),t=xo(),r=Sr(),n=wo(),a=Eo(),s=lp(),i=Object.prototype,o=i.hasOwnProperty;function u(c,l){var f=r(c),d=!f&&t(c),v=!f&&!d&&n(c),h=!f&&!d&&!v&&s(c),g=f||d||v||h,x=g?e(c.length,String):[],y=x.length;for(var p in c)(l||o.call(c,p))&&!(g&&(p=="length"||v&&(p=="offset"||p=="parent")||h&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||a(p,y)))&&x.push(p);return x}return zu=u,zu}var qu,Wv;function fp(){if(Wv)return qu;Wv=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return qu=t,qu}var Uu,Vv;function WO(){if(Vv)return Uu;Vv=1;var e=Cw(),t=e(Object.keys,Object);return Uu=t,Uu}var Wu,Hv;function VO(){if(Hv)return Wu;Hv=1;var e=fp(),t=WO(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!e(s))return t(s);var i=[];for(var o in Object(s))n.call(s,o)&&o!="constructor"&&i.push(o);return i}return Wu=a,Wu}var Vu,Kv;function Da(){if(Kv)return Vu;Kv=1;var e=Ux(),t=op();function r(n){return n!=null&&t(n.length)&&!e(n)}return Vu=r,Vu}var Hu,Gv;function Ls(){if(Gv)return Hu;Gv=1;var e=Bw(),t=VO(),r=Da();function n(a){return r(a)?e(a):t(a)}return Hu=n,Hu}var Ku,Yv;function kw(){if(Yv)return Ku;Yv=1;var e=Aw(),t=ip(),r=Ls();function n(a){return e(a,r,t)}return Ku=n,Ku}var Gu,Jv;function HO(){if(Jv)return Gu;Jv=1;var e=kw(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,i,o,u,c,l){var f=o&t,d=e(s),v=d.length,h=e(i),g=h.length;if(v!=g&&!f)return!1;for(var x=v;x--;){var y=d[x];if(!(f?y in i:n.call(i,y)))return!1}var p=l.get(s),w=l.get(i);if(p&&w)return p==i&&w==s;var C=!0;l.set(s,i),l.set(i,s);for(var P=f;++x<v;){y=d[x];var _=s[y],R=i[y];if(u)var E=f?u(R,_,y,i,s,l):u(_,R,y,s,i,l);if(!(E===void 0?_===R||c(_,R,o,u,l):E)){C=!1;break}P||(P=y=="constructor")}if(C&&!P){var A=s.constructor,S=i.constructor;A!=S&&"constructor"in s&&"constructor"in i&&!(typeof A=="function"&&A instanceof A&&typeof S=="function"&&S instanceof S)&&(C=!1)}return l.delete(s),l.delete(i),C}return Gu=a,Gu}var Yu,Zv;function KO(){if(Zv)return Yu;Zv=1;var e=Is(),t=on(),r=e(t,"DataView");return Yu=r,Yu}var Ju,Xv;function GO(){if(Xv)return Ju;Xv=1;var e=Is(),t=on(),r=e(t,"Promise");return Ju=r,Ju}var Zu,Qv;function YO(){if(Qv)return Zu;Qv=1;var e=Is(),t=on(),r=e(t,"Set");return Zu=r,Zu}var Xu,em;function JO(){if(em)return Xu;em=1;var e=Is(),t=on(),r=e(t,"WeakMap");return Xu=r,Xu}var Qu,tm;function Do(){if(tm)return Qu;tm=1;var e=KO(),t=zx(),r=GO(),n=YO(),a=JO(),s=fo(),i=uC(),o="[object Map]",u="[object Object]",c="[object Promise]",l="[object Set]",f="[object WeakMap]",d="[object DataView]",v=i(e),h=i(t),g=i(r),x=i(n),y=i(a),p=s;return(e&&p(new e(new ArrayBuffer(1)))!=d||t&&p(new t)!=o||r&&p(r.resolve())!=c||n&&p(new n)!=l||a&&p(new a)!=f)&&(p=function(w){var C=s(w),P=C==u?w.constructor:void 0,_=P?i(P):"";if(_)switch(_){case v:return d;case h:return o;case g:return c;case x:return l;case y:return f}return C}),Qu=p,Qu}var ec,rm;function ZO(){if(rm)return ec;rm=1;var e=bo(),t=Pw(),r=$O(),n=HO(),a=Do(),s=Sr(),i=wo(),o=lp(),u=1,c="[object Arguments]",l="[object Array]",f="[object Object]",d=Object.prototype,v=d.hasOwnProperty;function h(g,x,y,p,w,C){var P=s(g),_=s(x),R=P?l:a(g),E=_?l:a(x);R=R==c?f:R,E=E==c?f:E;var A=R==f,S=E==f,B=R==E;if(B&&i(g)){if(!i(x))return!1;P=!0,A=!1}if(B&&!A)return C||(C=new e),P||o(g)?t(g,x,y,p,w,C):r(g,x,R,y,p,w,C);if(!(y&u)){var k=A&&v.call(g,"__wrapped__"),T=S&&v.call(x,"__wrapped__");if(k||T){var j=k?g.value():g,L=T?x.value():x;return C||(C=new e),w(j,L,y,p,C)}}return B?(C||(C=new e),n(g,x,y,p,w,C)):!1}return ec=h,ec}var tc,nm;function dp(){if(nm)return tc;nm=1;var e=ZO(),t=sn();function r(n,a,s,i,o){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,s,i,r,o)}return tc=r,tc}var rc,am;function XO(){if(am)return rc;am=1;var e=bo(),t=dp(),r=1,n=2;function a(s,i,o,u){var c=o.length,l=c,f=!u;if(s==null)return!l;for(s=Object(s);c--;){var d=o[c];if(f&&d[2]?d[1]!==s[d[0]]:!(d[0]in s))return!1}for(;++c<l;){d=o[c];var v=d[0],h=s[v],g=d[1];if(f&&d[2]){if(h===void 0&&!(v in s))return!1}else{var x=new e;if(u)var y=u(h,g,v,s,i,x);if(!(y===void 0?t(g,h,r|n,u,x):y))return!1}}return!0}return rc=a,rc}var nc,sm;function Fw(){if(sm)return nc;sm=1;var e=ir();function t(r){return r===r&&!e(r)}return nc=t,nc}var ac,im;function QO(){if(im)return ac;im=1;var e=Fw(),t=Ls();function r(n){for(var a=t(n),s=a.length;s--;){var i=a[s],o=n[i];a[s]=[i,o,e(o)]}return a}return ac=r,ac}var sc,om;function Tw(){if(om)return sc;om=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return sc=e,sc}var ic,um;function eA(){if(um)return ic;um=1;var e=XO(),t=QO(),r=Tw();function n(a){var s=t(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(i){return i===a||e(i,a,s)}}return ic=n,ic}var oc,cm;function tA(){if(cm)return oc;cm=1;function e(t,r){return t!=null&&r in Object(t)}return oc=e,oc}var uc,lm;function rA(){if(lm)return uc;lm=1;var e=$s(),t=xo(),r=Sr(),n=Eo(),a=op(),s=Ms();function i(o,u,c){u=e(u,o);for(var l=-1,f=u.length,d=!1;++l<f;){var v=s(u[l]);if(!(d=o!=null&&c(o,v)))break;o=o[v]}return d||++l!=f?d:(f=o==null?0:o.length,!!f&&a(f)&&n(v,f)&&(r(o)||t(o)))}return uc=i,uc}var cc,fm;function _w(){if(fm)return cc;fm=1;var e=tA(),t=rA();function r(n,a){return n!=null&&t(n,a,e)}return cc=r,cc}var lc,dm;function nA(){if(dm)return lc;dm=1;var e=dp(),t=cC(),r=_w(),n=Wx(),a=Fw(),s=Tw(),i=Ms(),o=1,u=2;function c(l,f){return n(l)&&a(f)?s(i(l),f):function(d){var v=t(d,l);return v===void 0&&v===f?r(d,l):e(f,v,o|u)}}return lc=c,lc}var fc,pm;function pp(){if(pm)return fc;pm=1;function e(t){return t}return fc=e,fc}var dc,hm;function aA(){if(hm)return dc;hm=1;function e(t){return function(r){return r?.[t]}}return dc=e,dc}var pc,vm;function sA(){if(vm)return pc;vm=1;var e=Ud();function t(r){return function(n){return e(n,r)}}return pc=t,pc}var hc,mm;function iA(){if(mm)return hc;mm=1;var e=aA(),t=sA(),r=Wx(),n=Ms();function a(s){return r(s)?e(n(s)):t(s)}return hc=a,hc}var vc,gm;function hp(){if(gm)return vc;gm=1;var e=eA(),t=nA(),r=pp(),n=Sr(),a=iA();function s(i){return typeof i=="function"?i:i==null?r:typeof i=="object"?n(i)?t(i[0],i[1]):e(i):a(i)}return vc=s,vc}var mc,ym;function oA(){if(ym)return mc;ym=1;function e(t){return function(r,n,a){for(var s=-1,i=Object(r),o=a(r),u=o.length;u--;){var c=o[t?u:++s];if(n(i[c],c,i)===!1)break}return r}}return mc=e,mc}var gc,bm;function Nw(){if(bm)return gc;bm=1;var e=oA(),t=e();return gc=t,gc}var yc,xm;function uA(){if(xm)return yc;xm=1;var e=Nw(),t=Ls();function r(n,a){return n&&e(n,a,t)}return yc=r,yc}var bc,wm;function cA(){if(wm)return bc;wm=1;var e=Da();function t(r,n){return function(a,s){if(a==null)return a;if(!e(a))return r(a,s);for(var i=a.length,o=n?i:-1,u=Object(a);(n?o--:++o<i)&&s(u[o],o,u)!==!1;);return a}}return bc=t,bc}var xc,Em;function lA(){if(Em)return xc;Em=1;var e=uA(),t=cA(),r=t(e);return xc=r,xc}var wc,Dm;function fA(){if(Dm)return wc;Dm=1;var e=lA(),t=Da();function r(n,a){var s=-1,i=t(n)?Array(n.length):[];return e(n,function(o,u,c){i[++s]=a(o,u,c)}),i}return wc=r,wc}var Ec,Cm;function dA(){if(Cm)return Ec;Cm=1;var e=Wd(),t=hp(),r=fA(),n=Sr();function a(s,i){var o=n(s)?e:r;return o(s,t(i,3))}return Ec=a,Ec}var pA=dA();const hA=Dt(pA);var ve={...pe},fe={...N,child:(e,t)=>e.concat([t]),firstChild:e=>fe.child(e,0),lastIndex:e=>e.at(-1)??-1,next:e=>{try{return N.next(e)}catch{return e}},parent:e=>{try{return N.parent(e)}catch{return e}},previous:e=>{if(e.length===0)return;const t=e.at(-1);if(!(t<=0))return e.slice(0,-1).concat(t-1)}},vA={*children(e,t,r={}){const{from:n,reverse:a=!1,to:s}=r,i=ge.ancestor(e,t);if(!i)return;const{children:o}=i;let u=a?o.length-1:0;const c=s??(a?0:o.length);for(n!==void 0&&(u=n);a?u>=c:u<c;){const l=ge.child(i,u),f=t.concat(u);yield[l,f],u=a?u-1:u+1}},firstChild(e,t){return ge.children(e,t).next().value},firstText(e,t){return ge.texts(e,t).next().value},isEditor:e=>t0(e),isLastChild(e,t){if(t.length===0)return!1;const r=ge.parent(e,t);return r?t.at(-1)===r.children.length-1:!1},lastChild(e,t){return ge.children(e,t,{reverse:!0}).next().value}},Ge=ce,ge={...te,isAncestor:ve.isAncestor,ancestor:(...e)=>{try{return te.ancestor(...e)}catch{}},common:(...e)=>{try{return te.common(...e)}catch{}},descendant:(...e)=>{try{return te.descendant(...e)}catch{}},first:(...e)=>{try{return te.first(...e)}catch{}},fragment:(...e)=>{try{return te.fragment(...e)}catch{return[]}},get:(...e)=>{try{return te.get(...e)}catch{}},hasSingleChild:e=>Ge.isText(e)?!0:e.children.length===1&&ge.hasSingleChild(e.children[0]),isDescendant:e=>ve.isElement(e)||Ge.isText(e),last:(...e)=>{try{return te.last(...e)}catch{}},leaf:(...e)=>{try{return te.leaf(...e)}catch{}},parent:(...e)=>{try{return te.parent(...e)}catch{}},...vA},Rw={...KC,isAt:e=>Rw.isLocation(e)||ge.isNode(e)},jw=r0,mA=na,Me={...H,contains:(e,t)=>{const[r,n]=Me.edges(t);return Me.includes(e,r)&&Me.includes(e,n)},isCollapsed:e=>!!e&&H.isCollapsed(e),isExpanded:e=>!!e&&H.isExpanded(e)},rn={...De,get:(e,{focus:t}={})=>{let r;return Me.isRange(e)&&(r=t?e.focus:e.anchor),rn.isPoint(e)&&(r=e),fe.isPath(e)&&(r={offset:0,path:e}),r}},gA=e=>de.blur(e),Pm=e=>de.deselect(e),yA=e=>{try{return de.findDocumentOrShadowRoot(e)}catch{}},bA=(e,t)=>{try{return de.findEventRange(e,t)}catch{}},xA=(e,t)=>{try{return de.findKey(e,t)}catch{}},wA=(e,t,r)=>{const n=()=>e.api.node({...r,at:[],match:s=>s===t})?.[1];if(r)return n();try{return de.findPath(e,t)}catch{return n()}},EA=(e,{at:t,edge:r,retries:n=5}={})=>{const a=s=>{e.tf.withoutNormalizing(()=>{e.tf.deselect(),e.tf.select(s)})};if(r){const s=r==="startEditor"||r==="endEditor"?[]:t??e.selection;s&&a(r==="start"?e.api.start(s):e.api.end(s))}else t&&a(t);try{de.focus(e,{retries:n})}catch(s){console.error(s)}},DA=e=>{try{return de.getWindow(e)}catch{}},CA=(e,t,r)=>{try{return de.hasDOMNode(e,t,r)}catch{}return!1},PA=(e,t)=>{try{return de.hasEditableTarget(e,t)}catch{}return!1},OA=(e,t)=>{try{return de.hasRange(e,t)}catch{}return!1},AA=(e,t)=>{try{return de.hasSelectableTarget(e,t)}catch{}return!1},SA=(e,t)=>{try{return de.hasTarget(e,t)}catch{}return!1},BA=e=>de.isComposing(e),kA=e=>de.isFocused(e),FA=e=>de.isReadOnly(e),TA=(e,t)=>{try{return de.isTargetInsideNonReadonlyVoid(e,t)}catch{}return!1},_A=(e,t)=>{try{return de.toDOMNode(e,t)}catch{}},NA=(e,t)=>{try{return de.toDOMPoint(e,t)}catch{}},RA=(e,t)=>{try{return de.toDOMRange(e,t)}catch{}},jA=(e,t)=>{try{return de.toSlateNode(e,t)}catch{}},IA=(e,t,r)=>{try{return de.toSlatePoint(e,t,r)}catch{}},$A=(e,t,r)=>{try{return de.toSlateRange(e,t,r)}catch{}},MA=(e,{at:t,...r}={})=>{const n=t??e.selection;if(!n)return null;const[a,s]=e.api.edges(n??e.selection),i=e.api.block({at:a,...r});if(!i)return null;const o=e.api.block({at:s,...r});return o?[i,o]:null},LA=(e,{above:t,highest:r,...n}={})=>{if(r){const a=n.at??e.selection;if(!a)return;const s=e.api.path(a)?.[0];return s===void 0?void 0:e.api.node([s])}return t?e.api.above({...n,block:!0}):e.api.node({...n,block:!0,mode:"lowest"})},zA=(e,t)=>[...e.api.nodes({...t,block:!0})],Iw=new Set(["addMark","apply","blur","collapse","delete","deleteBackward","deleteForward","deleteFragment","deselect","deselectDOM","focus","insertBreak","insertData","insertFragment","insertFragmentData","insertNode","insertNodes","insertSoftBreak","insertText","insertTextData","liftNodes","mergeNodes","move","moveNodes","normalize","normalizeNode","redo","removeMark","removeNodes","select","setFragmentData","setNodes","setPoint","setSelection","setSplittingOnce","splitNodes","undo","unsetNodes","unwrapNodes","withMerging","withNewBatch","withoutMerging","withoutNormalizing","withoutSaving","wrapNodes","writeHistory"]),$w=new Set(["above","after","before","edges","elementReadOnly","end","findDocumentOrShadowRoot","findEventRange","findKey","findPath","first","fragment","getDirtyPaths","getFragment","getMarks","getWindow","hasBlocks","hasDOMNode","hasEditableTarget","hasInlines","hasPath","hasRange","hasSelectableTarget","hasTarget","hasTexts","highestBlock","isBlock","isComposing","isEdge","isElementReadOnly","isEmpty","isEnd","isFocused","isInline","isMerging","isNormalizing","isReadOnly","isSaving","isSelectable","isSplittingOnce","isStart","isTargetInsideNonReadonlyVoid","isVoid","last","leaf","levels","markableVoid","next","node","nodes","normalize","onChange","operations","parent","path","pathRef","pathRefs","point","pointRef","pointRefs","positions","previous","range","rangeRef","rangeRefs","selection","setNormalizing","shouldMergeNodes","shouldNormalize","start","string","toDOMNode","toDOMPoint","toDOMRange","toSlateNode","toSlatePoint","toSlateRange","unhangRange","void"]),Mi=(e,t)=>{if(!t)return;const r=e,n=Object.entries(t).reduce((a,[s,i])=>(Iw.has(s)&&(a[s]=i),a),{});Object.assign(r,n)},Li=(e,t)=>{if(!t)return;const r=e,n=Object.entries(t).reduce((a,[s,i])=>($w.has(s)&&(a[s]=i),a),{});Object.assign(r,n),t.marks&&(r.getMarks=t.marks)},vp=e=>{const t=e;$w.forEach(r=>{t[r]&&(r==="getMarks"?t.api.marks=t.getMarks:t.api[r]=t[r])}),Iw.forEach(r=>{t[r]&&(t.tf[r]=t[r])})},qA=(e,t,r)=>I0(e,t,r),UA=(e,t,r)=>L0(e,t,r),ke=(e,t)=>t&&DO(t)&&ge.isNode(t)?e.api.findPath(t):t??void 0,WA=(e,t,r={})=>{try{if(r.previous){const n=e.api.previous({at:ke(e,t)});return n?Uf(e,n[1]):void 0}return Uf(e,ke(e,t))}catch{}},VA=(e,t,r)=>{try{return F0(e,ke(e,t),r)}catch{}},HA=(e,t,r)=>{try{return f0(e,ke(e,t),r)}catch{}},KA=(e,t,r)=>{if(!r||!r.match&&!r.matchString){try{return qf(e,ke(e,t),r)}catch{}return}const n=!r.unit||r.unit==="offset",a=r.matchString?Lt(r.matchString):[""],s=r.matchByRegex??!1;let i;return a.some(o=>{let u=t,c=e.api.point(t,{edge:"end"});const l=o.length+1,f=Array.from({length:l});let d=0;for(;;){const v=qf(e,ke(e,u),r);if(!v){r.matchBlockStart&&(i=c);return}if(e.api.isAt({at:{anchor:v,focus:c},blocks:!0})){r.matchBlockStart&&(i=c);return}const h=e.api.string({anchor:v,focus:c});let g=h;if(n&&l&&(f.unshift({point:v,text:h}),f.pop(),g=hA(f.slice(0,-1),"text").join("")),(s?!!o.match(g):g===o)||r.match?.({at:t,beforePoint:v,beforeString:g}))return r.afterMatch?l&&n?(i=f.at(-1)?.point,!!i):(i=c,!0):(i=v,!0);if(c=v,u=v,d+=1,!r.skipInvalid&&(!o||d>=o.length))return}}),i},GA=(e,t,r={})=>{try{if(r.next){const n=e.api.next({at:ke(e,t)});return n?Wf(e,n[1]):void 0}return Wf(e,ke(e,t))}catch{}},YA=(e,t)=>b0(e,{...t,at:ke(e,t?.at)}),JA=(e,t)=>ve.isElement(t)&&P0(e,t);function ZA(e){return Array.isArray(e)?e:[e]}var Mw=(e,t,r)=>r?typeof r=="object"?Object.entries(r).every(([n,a])=>ZA(a).includes(e[n])):r(e,t):!0,zs=(e,{id:t,block:r,empty:n,match:a,text:s}={})=>{let i=!1,o=()=>!0;return s!==void 0&&(i=!0,o=Yr(o,u=>Ge.isText(u)===s)),n!==void 0&&(i=!0,o=Yr(o,u=>Ge.isText(u)?u.text.length>0==!n:e.api.isEmpty(u)===n)),r!==void 0&&(i=!0,o=Yr(o,u=>e.api.isBlock(u)===r)),t!==void 0&&(i=!0,o=Yr(o,u=>t===!0&&!!u.id||u.id===t)),typeof a=="object"?(i=!0,o=Yr(o,(u,c)=>Mw(u,c,a))):typeof a=="function"&&(i=!0,o=Yr(o,a)),i?o:void 0},St=(e,{id:t,empty:r,match:n,text:a,...s}={})=>{const{at:i,block:o}=s;return{...s,at:ke(e,i),match:zs(e,{id:t,block:o,empty:r,match:n,text:a})}},Yr=(e,t)=>(r,n)=>e(r,n)&&(!t||t(r,n)),Lw=(e,t,r)=>(n,a)=>{const s=zs(e,r);return(!t||t(n,a))&&(!s||s(n,a))};function*XA(e,t={}){t=St(e,t);const{ignoreNonSelectable:r=!1,mode:n="all",reverse:a=!1,universal:s=!1,voids:i=!1}=t,o=ke(e,t.at)??e.selection;let u=zs(e,t);if(u||(u=()=>!0),!o)return;let c,l;if(jw.isSpan(o))c=o[0],l=o[1];else{const h=e.api.path(o,{edge:"start"}),g=e.api.path(o,{edge:"end"});if(c=a?g:h,l=a?h:g,!h||!g)return}const f=ge.nodes(e,{from:c,reverse:a,to:l,pass:([h])=>ve.isElement(h)?!!(!i&&(e.api.isVoid(h)||e.api.isElementReadOnly(h))||r&&!e.api.isSelectable(h)):!1}),d=[];let v;for(const[h,g]of f){if(r&&ve.isElement(h)&&!e.api.isSelectable(h))continue;const x=v&&fe.compare(g,v[1])===0;if(n==="highest"&&x)continue;if(!u(h,g)){if(s&&!x&&Ge.isText(h))return;continue}if(n==="lowest"&&x){v=[h,g];continue}const y=n==="lowest"?v:[h,g];y&&(s?d.push(y):yield y),v=[h,g]}n==="lowest"&&v&&(s?d.push(v):yield v),s&&(yield*d)}var QA=(e,t)=>{let r=!1;return Z0(e,()=>{r=!!t()}),r},eS=(e,t,r={})=>{const{edge:n,focus:a,next:s,previous:i}=r;if(a&&e.tf.focus(),s||i){const u=ke(e,t)??e.selection;if(!u)return;const c=e.api.path(u);if(!c)return;const l=i?e.api.end(c,{previous:!0}):e.api.start(c,{next:!0});if(!l)return;mi(e,l);return}if(n){const u=ke(e,t)??e.selection;if(!u)return;const c=fe.isPath(u)?u:e.api.node({at:u,block:!0})?.[1];if(!c)return;const l=n==="end"?e.api.end(c):e.api.start(c);if(!l)return;mi(e,l);return}const o=ke(e,t);o&&mi(e,o)};function Dc(e){return Array.isArray(e)?e:[e]}var un=(e,{allow:t,exclude:r,filter:n,level:a,maxLevel:s}={})=>{if(!e)return!1;const[i,o]=e;if(a&&!Dc(a).includes(o.length)||s&&o.length>s||n&&!n(e))return!1;if(t){const u=Dc(t);if(u.length>0&&!u.includes(i.type))return!1}if(r){const u=Dc(r);if(u.length>0&&u.includes(i.type))return!1}return!0},tS=(e,t)=>{try{const{at:r=e.selection,match:n,reverse:a=!1,voids:s=!1}=t;if(!r)return;let i,o;if(jw.isSpan(r))[i,o]=r;else if(Me.isRange(r)){const l=e.api.path(r,{edge:"start"}),f=e.api.path(r,{edge:"end"});i=a?f:l,o=a?l:f}let u=[e,[]];fe.isPath(r)&&(u=e.api.node(r));const c=ge.descendants(u[0],{from:i,reverse:a,to:o,pass:([l])=>s?!1:e.api.isVoid(l)});for(const[l,f]of c)if(Mw(l,f,n))return[l,r.concat(f)]}catch{return}},rS=(e,t)=>e.api.marks()?.[t],nS=(e,t)=>!!e.api.mark(t),aS=(e,t,r={})=>{const{contains:n=!1}=r;if(!e.selection)return!1;const a=Me.isRange(t)?t:e.api.range(t);return a?n?Me.contains(e.selection,a):!!Me.intersection(e.selection,a):!1},sS=(e,{at:t=e.selection,block:r,blocks:n,end:a,start:s,text:i,word:o,...u}={})=>{if(!t)return!1;if(rn.isPoint(t)){if(o&&a){const c=e.api.after(t);if(!c)return!0;const l=e.api.range(t,c),f=e.api.string(l);return/^(?:\s|$)/.test(f)}return!1}if(Me.isRange(t)){const[c,l]=Me.edges(t);if(i)return fe.equals(c.path,l.path);const f=e.api.block({at:c,...u}),d=e.api.block({at:l,...u});if(n)return!f&&!d?!1:!f||!d?!0:!fe.equals(f[1],d[1]);if(!f||!d)return!1;if(r)return fe.equals(f[1],d[1]);if(s)return e.api.isStart(c,f[1])||Me.isExpanded(t)&&e.api.isStart(l,f[1]);if(a)return e.api.isEnd(l,d[1])}return!1},iS=e=>{if(e.selection){const t=e.selection.focus,r=e.api.end([]);return r.offset===0&&e.api.isEnd(t,t)&&fe.equals(fe.next(fe.parent(t.path)),r.path)}return!1},oS=(e,t)=>{const r=e.api.node(t)?.[0];return Ge.isText(r)},uS=(e,t)=>{if(t.length===0)return;const r=t[0][1],n=t.at(-1)[1];return e.api.range(r,n)};function cS({key:e,defaultValue:t,getProp:r,mode:n="block",nodes:a}){if(a.length===0)return t;const s=r??(o=>o[e]);let i;for(const o of a){if(n==="block"||n==="all"){const u=s(o);if(u!==void 0){if(i===void 0)i=u;else if(i!==u)return;if(n==="block")continue}else if(n==="block")return t}if(n==="text"||n==="all"){const u=Array.from(ge.texts(o));for(const[c]of u){const l=s(c);if(l!==void 0){if(i===void 0)i=l;else if(i!==l)return}else if(n==="text")return t}}}return i}var Om=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Am=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Xs=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return Am(r.overflowY,t)||Am(r.overflowX,t)||(n=>{const a=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)})(e)}return!1},Qs=(e,t,r,n,a,s,i,o)=>s<e&&i>t||s>e&&i<t?0:s<=e&&o<=r||i>=t&&o>=r?s-e-n:i>t&&o<r||s<e&&o>r?i-t+a:0,lS=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Sm=(e,t)=>{var r,n,a,s;if(typeof document>"u")return[];const{scrollMode:i,block:o,inline:u,boundary:c,skipOverflowHiddenElements:l}=t,f=typeof c=="function"?c:J=>J!==c;if(!Om(e))throw new TypeError("Invalid target");const d=document.scrollingElement||document.documentElement,v=[];let h=e;for(;Om(h)&&f(h);){if(h=lS(h),h===d){v.push(h);break}h!=null&&h===document.body&&Xs(h)&&!Xs(document.documentElement)||h!=null&&Xs(h,l)&&v.push(h)}const g=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,x=(s=(a=window.visualViewport)==null?void 0:a.height)!=null?s:innerHeight,{scrollX:y,scrollY:p}=window,{height:w,width:C,top:P,right:_,bottom:R,left:E}=e.getBoundingClientRect(),{top:A,right:S,bottom:B,left:k}=(J=>{const I=window.getComputedStyle(J);return{top:parseFloat(I.scrollMarginTop)||0,right:parseFloat(I.scrollMarginRight)||0,bottom:parseFloat(I.scrollMarginBottom)||0,left:parseFloat(I.scrollMarginLeft)||0}})(e);let T=o==="start"||o==="nearest"?P-A:o==="end"?R+B:P+w/2-A+B,j=u==="center"?E+C/2-k+S:u==="end"?_+S:E-k;const L=[];for(let J=0;J<v.length;J++){const I=v[J],{height:Y,width:W,top:Z,right:ie,bottom:le,left:oe}=I.getBoundingClientRect();if(i==="if-needed"&&P>=0&&E>=0&&R<=x&&_<=g&&(I===d&&!Xs(I)||P>=Z&&R<=le&&E>=oe&&_<=ie))return L;const me=getComputedStyle(I),ue=parseInt(me.borderLeftWidth,10),ye=parseInt(me.borderTopWidth,10),be=parseInt(me.borderRightWidth,10),Te=parseInt(me.borderBottomWidth,10);let $=0,z=0;const M="offsetWidth"in I?I.offsetWidth-I.clientWidth-ue-be:0,q="offsetHeight"in I?I.offsetHeight-I.clientHeight-ye-Te:0,se="offsetWidth"in I?I.offsetWidth===0?0:W/I.offsetWidth:0,ne="offsetHeight"in I?I.offsetHeight===0?0:Y/I.offsetHeight:0;if(d===I)$=o==="start"?T:o==="end"?T-x:o==="nearest"?Qs(p,p+x,x,ye,Te,p+T,p+T+w,w):T-x/2,z=u==="start"?j:u==="center"?j-g/2:u==="end"?j-g:Qs(y,y+g,g,ue,be,y+j,y+j+C,C),$=Math.max(0,$+p),z=Math.max(0,z+y);else{$=o==="start"?T-Z-ye:o==="end"?T-le+Te+q:o==="nearest"?Qs(Z,le,Y,ye,Te+q,T,T+w,w):T-(Z+Y/2)+q/2,z=u==="start"?j-oe-ue:u==="center"?j-(oe+W/2)+M/2:u==="end"?j-ie+be+M:Qs(oe,ie,W,ue,be+M,j,j+C,C);const{scrollLeft:m,scrollTop:D}=I;$=ne===0?0:Math.max(0,Math.min(D+$/ne,I.scrollHeight-Y/ne+q)),z=se===0?0:Math.max(0,Math.min(m+z/se,I.scrollWidth-W/se+M)),T+=D-$,j+=m-z}L.push({el:I,top:$,left:z})}return L},fS=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function dS(e,t){if(!e.isConnected||!(a=>{let s=a;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;const r=(a=>{const s=window.getComputedStyle(a);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(e);if((a=>typeof a=="object"&&typeof a.behavior=="function")(t))return t.behavior(Sm(e,t));const n=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:a,top:s,left:i}of Sm(e,fS(t))){const o=s-r.top+r.bottom,u=i-r.left+r.right;a.scroll({top:o,left:u,behavior:n})}}var pS={scrollMode:"if-needed"};function hS(e,t,r=pS){requestAnimationFrame(()=>{let n;if(rn.isPoint(t)){const{offset:s=0,path:i}=t;n=e.api.toDOMRange({anchor:{offset:s,path:i},focus:{offset:s,path:i}})}else n=t;if(!n)return;const a=n.startContainer.parentElement;a.getBoundingClientRect=n.getBoundingClientRect.bind(n),dS(a,r),setTimeout(()=>delete a.getBoundingClientRect,0)})}var vS=(e,t)=>!!e.api.node(t),mS=(e,t)=>{try{return c0(e,St(e,t))}catch{return}},gS=(e,t,r)=>l0(e,t,r),yS=(e,t,r)=>W0(e,t,r),bS=(e,t="character")=>{d0(e,t)},xS=(e,t="character")=>{p0(e,t)},wS=(e,t)=>h0(e,t),ES=(e,t,r)=>{try{if(Rw.isAt(t)){const s=ke(e,t);return N0(e,s,r)}const n=t;return e.api.nodes(n).next().value}catch{return}},DS=(e,t,r)=>{try{return M0(e,ke(e,t),r)}catch{}},CS=(e,t)=>{try{return v0(e,ke(e,t))}catch{}},PS=(e,t=e.selection,r)=>{if(!t)return"";try{return Y0(e,ke(e,t),r)}catch{return""}},OS=(e,t)=>{try{return g0(e,ke(e,t))}catch{}},AS=(e,t)=>{const r=(n,a=[])=>(n.forEach(s=>{if(t?.includes(s.type))return r(s.children,a);a.push(s)}),a);return r(e)},Bm=(e,t,r)=>{if(t===null)return[];try{const n=t===void 0?i0(e):y0(e,ke(e,t));return n.length>0&&r?.unwrap&&r.unwrap.length>0?AS(n,r.unwrap):n}catch{return[]}},SS=(e,t)=>T0(e,St(e,t)),BS=e=>_0(e),kS=e=>$0(e),FS=(e,t,r)=>{try{return q0(e,ke(e,t),r)}catch{}},TS=e=>z0(e),_S=(e,t)=>U0(e,{...t,at:ke(e,t?.at)}),NS=e=>V0(e),RS=(e,t)=>x0(e,t),jS=(e,t)=>w0(e,t),IS=(e,t)=>D0(e,t),$S=e=>C0(e),MS=(e,t,r)=>e.tf.insertNodes(t,r),LS=(e,t,r)=>O0(e,t,r),zS=e=>S0(e),qS=(e,t)=>m0(e,t),US=(e,t=[],r)=>{if(t===null)return!0;if(fe.isPath(t)&&t.length===0||ge.isEditor(t))return e.children.length===1&&La(e,e.children[0]);if(r?.after){const n=e.api.block({above:!0,at:t});if(!n)return!1;const a=e.api.point(t),s=e.api.parent(t);if(!s)return!1;const[,i]=s;if(!e.api.isEnd(a,i))return!1;const o=Array.from(ge.children(e,n[1],{from:fe.lastIndex(a.path)+1})).map(([u])=>u);if(o.length>0){for(const u of o)if(Ge.isText(u)&&u.text)return!1}else return e.api.isEnd(a,n[1]);return!0}if(fe.isPath(t))return La(e,e.api.node(t)?.[0]);if(r?.block){const n=e.api.block({at:t});if(!n)return!1;t=n[0]}if(!ge.isNode(t)){const n=e.api.nodes({at:t,...r});for(const a of n)if(!La(e,a[0]))return!1;return!0}return La(e,t)},WS=(e,t,r)=>!!t&&A0(e,t,r),VS=(e,t,r)=>!!t&&B0(e,t,r),HS=(e,[t,r],n)=>{const a=r.slice(0,n+1),s=e.api.node(a);return s||[t,r]},KS=(e,t,r={})=>{try{const{level:n}=r,a=k0(e,ke(e,t));return a&&typeof n=="number"?e.children.length===0?void 0:HS(e,a,n):a}catch{}},GS=(e,t={})=>{const{from:r="after",mode:n=r==="child"?"all":"lowest",voids:a=!1}=t;let s=zs(e,t);const i=ke(e,t.at)??e.selection;if(!i)return;let o;if(r==="child"&&fe.isPath(i)){const f=fe.firstChild(i);e.api.node(f)&&(o=f,s=Yr((v,h)=>!fe.isAncestor(h,i)&&!fe.equals(h,i),s))}if(!o){const f=e.api.after(i,{voids:a});if(!f)return;o=f.path}const[,u]=e.api.last([]),c=[o,u];if(fe.isPath(i)&&i.length===0)return;if(s==null)if(fe.isPath(i)){const[f]=e.api.parent(i);s=d=>f.children.includes(d)}else s=()=>!0;const[l]=e.api.nodes({at:c,match:s,mode:n,voids:a});return l},YS=(e,t)=>R0(e,t),JS=(e,t,r)=>{try{return j0(e,ke(e,t),r)}catch{}},ZS=(e,t)=>{const{from:r="after",mode:n="lowest",voids:a=!1}=t;let s=zs(e,t);const i=ke(e,t.at)??e.selection;if(!i)return;let o;if(r==="parent"&&fe.isPath(i)&&i.length>1&&(o=i,s=Yr((f,d)=>!fe.isAfter(d,i)&&!fe.equals(d,i),s)),!o){const f=e.api.before(i,{voids:a});if(!f)return;o=f.path}const[,u]=e.api.first([]),c=[o,u];if(fe.isPath(i)&&i.length===0)return;if(s==null)if(fe.isPath(i)){const[f]=e.api.parent(i);s=d=>f.children.includes(d)}else s=()=>!0;const[l]=e.api.nodes({at:c,match:s,mode:n,reverse:!0,voids:a});return l},XS=(e,t)=>{const r=a=>{try{return ZS(e,a)}catch{}};if(t?.sibling){const a=St(e,t).at;if(!a)return;const s=fe.previous(a);return s?e.api.node(s):void 0}if(!(t?.id&&t?.block))return r(t);const n=e.api.node({id:t.id,at:[]});if(n)return r({at:n[1],block:!0})},QS=(e,t,r,n)=>{let a=ke(e,t);if(Me.isRange(a)&&!r)return a;if(a==="start"){const s=e.api.block({at:r})?.[1];if(!s)return;const i=e.api.start(s);if(!i)return;const o=rn.get(r);return o?{anchor:i,focus:o}:void 0}return r&&a==="before"&&(a=e.api.before(r,n?.before)??ke(e,r)),H0(e,a,ke(e,r))},eB=(e,t)=>K0(e,t),tB=(e,t,r)=>{const[n,a]=t;return ve.isElement(n)&&e.api.isEmpty(n)||Ge.isText(n)&&n.text===""&&a.at(-1)!==0?(e.tf.removeNodes({at:a}),!1):!0},rB=(e,t,r={})=>{const{character:n,unhang:a=!0,voids:s}=r;if(!Me.isRange(t))return t;if(n){let[i,o]=Me.edges(t);if(!fe.equals(i.path,o.path))if(o.offset===0){const u=e.api.after(i);u&&(o=u)}else{const u=e.api.before(o);u&&(i=u)}return{anchor:i,focus:o}}return a?J0(e,t,{voids:s}):t},nB=(e,t,{remove:r}={})=>{e.selection&&e.tf.withoutNormalizing(()=>{e.tf.removeMarks([...Lt(r),...Object.keys(t)]),Object.entries(t).forEach(([n,a])=>{e.tf.addMark(n,a)})})},aB=(e,{block:t,nodes:r,...n}={})=>{const a=ke(e,n.at)??e.selection;if(!r||!a)return;const s=r??(t?e.api.blocks({at:a}):[]);if(s.length===0)return;const i=s.at(-1),o=fe.next(i[1]),u=s.map(([c])=>c);e.tf.insertNodes(u,{at:o,...n})},sB=(e,t,{at:r,shouldChange:n=!0,...a}={})=>{const s=r??e.selection;if(!s)return;const i=(c,l)=>{if(!Ge.isText(c))return!1;const[f]=e.api.parent(l);return!e.api.isVoid(f)||e.api.markableVoid(f)},o=Me.isExpanded(s);let u=!1;if(!o){const[c,l]=e.api.node(s);if(c&&i(c,l)){const[f]=e.api.parent(l);u=f&&e.api.markableVoid(f)}}if(t&&(o||u)){const c=Lt(t);e.tf.unsetNodes(c,{at:s,match:i,split:!0,voids:!0,...a})}else if(!r){const c={...e.api.marks()};t?(Lt(t).forEach(l=>{delete c[l]}),e.marks=c):e.marks={},n&&e.api.onChange()}},iB=(e,t,{at:r,children:n,removeNodes:a,...s})=>{e.tf.withoutNormalizing(()=>{if(n){if(!r)return;r=ke(e,r);const i=e.api.path(r);if(!i)return;e.tf.removeNodes({...a,at:i,children:!0}),e.tf.insertNodes(t,{...s,at:i.concat([0])})}else e.tf.removeNodes({...a,at:r}),e.tf.insertNodes(t,{...s,at:r})})},oB=(e,t={})=>{e.tf.replaceNodes(e.api.create.value(),{at:[],children:!0,...t}),t.children||(e.operations=[],e.marks=null,e.history?.undos&&(e.history.undos=[],e.history.redos=[]))},uB=(e,t,{defaultType:r,someOptions:n,wrap:a,...s}={})=>{const i=s.at??e.selection;if(!i)return;const o=e.api.some({at:i,...n,match:{type:t}});if(a){o?e.tf.unwrapNodes({at:i,match:{type:t}}):e.tf.wrapNodes({children:[],type:t},{at:i});return}const u=r??e.api.create.block().type??"p";o&&t===u||e.tf.setNodes({type:o?u:t},{at:i,...s})},cB=(e,t,{remove:r}={})=>{e.selection&&e.tf.withoutNormalizing(()=>{if(e.api.hasMark(t)){e.tf.removeMark(t);return}e.tf.removeMarks([...Lt(r),t]),e.tf.addMark(t,!0)})},lB=(e,t)=>{Q0(e,t)},fB=(e,t={})=>{let r=ke(e,t?.at)??e.selection;e.tf.withoutNormalizing(()=>{const{distance:n=1,reverse:a=!1,unit:s="character",voids:i=!1}=t;let{hanging:o=!1}=t;if(!r)return;let u=!1;if(Me.isRange(r)&&Me.isCollapsed(r)&&(u=!0,r=r.anchor),rn.isPoint(r)){const S=e.api.void({at:r,mode:"highest"});if(!i&&S){const[,B]=S;r=B}else{const B={distance:n,unit:s},k=a?e.api.before(r,B)||e.api.start([]):e.api.after(r,B)||e.api.end([]);r={anchor:r,focus:k},o=!0}}if(fe.isPath(r)){e.tf.removeNodes({at:r,voids:i});return}if(Me.isCollapsed(r))return;if(!o){const[,S]=Me.edges(r),B=e.api.end([]);rn.equals(S,B)||(r=e.api.unhangRange(r,{voids:i}))}let[c,l]=Me.edges(r);const f=e.api.above({at:c,voids:i,match:S=>ve.isElement(S)&&e.api.isBlock(S)}),d=e.api.above({at:l,voids:i,match:S=>ve.isElement(S)&&e.api.isBlock(S)}),v=f&&d&&!fe.equals(f[1],d[1]),h=fe.equals(c.path,l.path),g=i?null:e.api.void({at:c,mode:"highest"})??e.api.elementReadOnly({at:c,mode:"highest"}),x=i?null:e.api.void({at:l,mode:"highest"})??e.api.elementReadOnly({at:l,mode:"highest"});if(g){const S=e.api.before(c);S&&f&&fe.isAncestor(f[1],S.path)&&(c=S)}if(x){const S=e.api.after(l);S&&d&&fe.isAncestor(d[1],S.path)&&(l=S)}const y=[];let p;for(const S of e.api.nodes({at:r,voids:i})){const[B,k]=S;p&&fe.compare(k,p)===0||(!i&&ve.isElement(B)&&e.api.isElementReadOnly(B)||!fe.isCommon(k,c.path)&&!fe.isCommon(k,l.path))&&(y.push(S),p=k)}const w=Array.from(y,([,S])=>e.api.pathRef(S)),C=e.api.pointRef(c),P=e.api.pointRef(l);let _="";if(!h&&!g){const S=C.current,[B]=e.api.leaf(S),{path:k}=S,{offset:T}=c,j=B.text.slice(T);j.length>0&&(e.tf.apply({offset:T,path:k,text:j,type:"remove_text"}),_=j)}if(w.reverse().map(S=>S.unref()).filter(S=>S!==null).forEach(S=>e.tf.removeNodes({at:S,voids:i})),!x){const S=P.current,[B]=e.api.leaf(S),{path:k}=S,T=h?c.offset:0,j=B.text.slice(T,l.offset);j.length>0&&(e.tf.apply({offset:T,path:k,text:j,type:"remove_text"}),_=j)}!h&&v&&P.current&&C.current&&e.tf.mergeNodes({at:P.current,hanging:!0,reverse:!a,voids:i}),u&&a&&s==="character"&&_.length>1&&/[\u0E00-\u0E7F]+/.exec(_)&&e.tf.insertText(_.slice(0,_.length-n));const R=C.unref(),E=P.unref(),A=a?R||E:E||R;t?.at==null&&A&&e.tf.select(A)})},dB=e=>{ew(e)},pB=(e,t,r)=>{X0(e,t,{...r,at:ke(e,r?.at)})},hB=(e,t,{nextBlock:r,removeEmpty:n,...a}={})=>{a=St(e,a),e.tf.withoutNormalizing(()=>{if(n){const s=e.api.above({at:a.at});if(s){const i=n===!0?{allow:["p"]}:n,{filter:o}=i;i.filter=([u,c])=>ge.string(u)||u.children.some(f=>e.api.isInline(f))?!1:!o||o([u,c]),un(s,i)&&(e.tf.removeNodes({at:s[1]}),r=!1)}}if(r){const{at:s=e.selection}=a;if(s){const i=e.api.end(s),o=e.api.above({at:i,block:!0});o&&(a.at=fe.next(o[1]))}}aw(e,t,a)})},vB=e=>{e.tf.withoutNormalizing(()=>{e.api.isExpanded()&&e.tf.delete(),e.tf.insertText(`
`)})},mB=(e,t,{marks:r=!0,...n}={})=>{const a=ke(e,n.at);if(a){X.insertText(e,t,{...n,at:a});return}if(e.selection)if(r&&e.marks){const s={text:t,...e.marks};e.tf.insertNodes(s,{voids:n.voids}),e.marks=null}else X.insertText(e,t,n)},gB=(e,t)=>sw(e,St(e,t)),zw=(e,t)=>{if(ve.isElement(t)){const r=t;return e.api.isVoid(t)?!0:r.children.length===1?zw(e,r.children[0]):!1}else return!ge.isEditor(t)},yB=(e,t={})=>{t=St(e,t),e.tf.withoutNormalizing(()=>{let{at:r=e.selection,match:n}=t;const{hanging:a=!1,mode:s="lowest",voids:i=!1}=t;if(!r)return;if(n==null)if(fe.isPath(r)){const[R]=e.api.parent(r);n=E=>R.children.includes(E)}else n=R=>ve.isElement(R)&&e.api.isBlock(R);if(!a&&Me.isRange(r)&&(r=e.api.unhangRange(r)),Me.isRange(r))if(Me.isCollapsed(r))r=r.anchor;else{const[,R]=Me.edges(r),E=e.api.pointRef(R);e.tf.delete({at:r}),r=E.unref(),t.at==null&&e.tf.select(r)}const o=e.api.nodes({at:r,match:n,mode:s,voids:i}),[u]=Array.from(o),c=e.api.previous({at:r,match:n,mode:s,voids:i});if(!u||!c)return;const[l,f]=u,[d,v]=c;if(f.length===0||v.length===0)return;const h=fe.next(v),g=fe.common(f,v),x=fe.isSibling(f,v),y=e.api.levels({at:f}),p=new Set(Array.from(y,([R])=>R).slice(g.length).slice(0,-1)),w=e.api.above({at:f,mode:"highest",match:R=>p.has(R)&&zw(e,R)}),C=w&&e.api.pathRef(w[1]);let P,_;if(Ge.isText(l)&&Ge.isText(d)){const{text:R,...E}=l;_=d.text.length,P=E}else if(ve.isElement(l)&&ve.isElement(d)){const{children:R,...E}=l;_=d.children.length,P=E}else throw new TypeError(`Cannot merge the node at path [${f}] with the previous sibling because it is not the same kind: ${JSON.stringify(l)} ${JSON.stringify(d)}`);e.api.shouldMergeNodes(c,u,{reverse:t.reverse})&&(x||e.tf.moveNodes({at:f,to:h,voids:i}),C&&e.tf.removeNodes({at:C.current,event:{type:"mergeNodes"},voids:i}),C&&C.unref(),e.tf.apply({path:h,position:_,properties:P,type:"merge_node"}))})},bB=(e,{children:t,fromIndex:r=0,...n})=>{const a=St(e,n);let s=!1;if(t){if(!a.at)return s;const i=e.api.node(a.at);if(!i)return s;const[o,u]=i;if(!e.api.isBlock(o))return s;for(let c=o.children.length-1;c>=r;c--){const l=[...u,c],f=ge.get(e,l);(!a.match||f&&a.match(f,l))&&(Vf(e,{...a,at:l}),s=!0)}return s}return Vf(e,a)},xB=(e,t)=>{tw(e,t)},wB=(e,{children:t,previousEmptyBlock:r,...n}={})=>{const a=St(e,n);e.tf.withoutNormalizing(()=>{if(r){const s=e.api.block({at:a.at});if(!s)return;const i=e.api.previous({at:s[1],sibling:!0});if(!i)return;const[o,u]=i;e.api.isEmpty(o)&&e.tf.removeNodes({at:u});return}if(t&&a.at){for(const[,s]of ge.children(e,a.at,{reverse:!0}))e.tf.removeNodes({...a,at:s});return}return ow(e,St(e,a))})},EB=(e,t,{marks:r,...n}={})=>{if(r){let a=ke(e,n.at)??e.selection;if(!a||(fe.isPath(a)&&(a=e.api.range(a)),!Me.isRange(a)))return;const s=(u,c)=>{if(!Ge.isText(u))return!1;const l=e.api.parent(c);if(!l)return!1;const[f]=l;return!e.api.isVoid(f)||e.api.markableVoid(f)},i=Me.isExpanded(a);let o=!1;if(!i){const u=e.api.node(a);if(!u)return;const[c,l]=u;if(c&&s(c,l)){const f=e.api.parent(l);if(!f)return;const[d]=f;o=d&&e.api.markableVoid(d)}}if(i||o)return Hf(e,t,St(e,{...n,at:a,match:s,split:!0,voids:!0}))}return Hf(e,t,St(e,n))},DB=(e,t,r)=>{rw(e,t,r)},CB=(e,t)=>{nw(e,t)},PB=(e,t)=>uw(e,St(e,t)),OB=(e,t,r)=>cw(e,t,St(e,r)),AB=(e,t)=>{lw(e,St(e,t))},SB=(e,t,{children:r,...n}={})=>{const a=St(e,n);if(a.at&&(a.at=e.api.unhangRange(a.at,a)),r){const s=e.api.path(a.at);if(!s)return;const i=ge.get(e,s);if(!i?.children)return;e.tf.withoutNormalizing(()=>{const o=fe.firstChild(s);Kf(e,t,{...a,at:o}),i.children.length>1&&e.tf.moveNodes({at:s,children:!0,fromIndex:1,to:fe.child(o,1)})});return}Kf(e,t,a)},Cc=new WeakMap,ln=new WeakMap,ei=new WeakMap,Vr={isMerging(e){return ln.get(e)},isSaving(e){return Cc.get(e)},isSplittingOnce(e){return ei.get(e)},setSplittingOnce(e,t){ei.set(e,t)},withMerging(e,t){const r=e.api.isMerging();ln.set(e,!0),t(),ln.set(e,r)},withNewBatch(e,t){const r=e.api.isMerging();ln.set(e,!0),ei.set(e,!0),t(),ln.set(e,r),ei.delete(e)},withoutMerging(e,t){const r=e.api.isMerging();ln.set(e,!1),t(),ln.set(e,r)},withoutSaving(e,t){const r=e.api.isSaving();Cc.set(e,!1),t(),Cc.set(e,r)}},fn=(e,t)=>()=>(console.warn(`[OVERRIDE_MISSING] The method editor.${e}() has not been implemented or overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.`),t),qw=({children:e,selection:t}={})=>{const r=fw();e&&(r.children=e),t&&(r.selection=t),Object.assign(r,{apply:V(a0,r),isElementReadOnly:r.isElementReadOnly,isInline:r.isInline,isSelectable:r.isSelectable,isVoid:r.isVoid,markableVoid:r.markableVoid,onChange:r.onChange}),Object.assign(r,{addMark:V(gS,r),deleteBackward:V(bS,r),deleteForward:V(xS,r),deleteFragment:V(wS,r),getDirtyPaths:V(s0,r),getFragment:V(Bm,r),insertBreak:V($S,r),insertFragment:V(pB,r),insertNode:V(MS,r),insertSoftBreak:V(vB,r),insertText:V(mB,r),normalizeNode:V(o0,r),removeMark:V(eB,r),shouldNormalize:V(u0,r)}),Object.assign(r,{above:V(mS,r),after:V(HA,r),before:V(KA,r),collapse:V(lB,r),delete:V(fB,r),deselect:V(dB,r),deselectDOM:V(Pm,r),edges:V(CS,r),elementReadOnly:V(qS,r),end:V(WA,r),first:V(OS,r),fragment:V(Bm,r),getMarks:V(BS,r),hasBlocks:V(RS,r),hasInlines:V(jS,r),hasPath:V(E0,r),hasTexts:V(IS,r),insertNodes:V(hB,r),isBlock:V(JA,r),isEdge:V(LS,r),isEmpty:V(US,r),isEnd:V(WS,r),isNormalizing:V(zS,r),isStart:V(VS,r),last:V(KS,r),leaf:V(VA,r),levels:V(SS,r),liftNodes:V(gB,r),mergeNodes:V(yB,r),move:V(xB,r),moveNodes:V(bB,r),next:V(GS,r),node:V(ES,r),nodes:V(XA,r),normalize:V(YS,r),parent:V(JS,r),path:V(DS,r),pathRef:V(qA,r),pathRefs:V(kS,r),point:V(FS,r),pointRef:V(UA,r),pointRefs:V(TS,r),positions:V(_S,r),previous:V(XS,r),range:V(QS,r),rangeRef:V(yS,r),rangeRefs:V(NS,r),removeNodes:V(wB,r),select:V(eS,r),setNodes:V(EB,r),setNormalizing:V(G0,r),setPoint:V(DB,r),setSelection:V(CB,r),shouldMergeNodes:V(tB,r),splitNodes:V(PB,r),start:V(GA,r),string:V(PS,r),unhangRange:V(rB,r),unsetNodes:V(OB,r),unwrapNodes:V(AB,r),void:V(YA,r),withoutNormalizing:V(QA,r),wrapNodes:V(SB,r)}),Object.assign(r,{history:{redos:[],undos:[]},meta:{},redo:fn("redo"),undo:fn("undo"),writeHistory:fn("writeHistory")}),Object.assign(r,{insertData:fn("insertData"),insertFragmentData:fn("insertFragmentData",!1),insertTextData:fn("insertTextData",!1),setFragmentData:fn("setFragmentData")});const n={block:V(LA,r),blocks:V(zA,r),create:{block:s=>({children:[{text:""}],type:"p",...s}),value:()=>[n.create.block()]},descendant:V(tS,r),edgeBlocks:V(MA,r),findDocumentOrShadowRoot:V(yA,r),findEventRange:V(bA,r),findKey:V(xA,r),findPath:V(wA,r),getWindow:V(DA,r),hasDOMNode:V(CA,r),hasEditableTarget:V(PA,r),hasMark:V(nS,r),hasRange:V(OA,r),hasSelectableTarget:V(AA,r),hasTarget:V(SA,r),isAt:V(sS,r),isComposing:V(BA,r),isEditorEnd:V(iS,r),isFocused:V(kA,r),isMerging:V(Vr.isMerging,r),isReadOnly:V(FA,r),isSaving:V(Vr.isSaving,r),isSelected:V(aS,r),isSplittingOnce:V(Vr.isSplittingOnce,r),isTargetInsideNonReadonlyVoid:V(TA,r),isText:V(oS,r),mark:V(rS,r),nodesRange:V(uS,r),prop:cS,scrollIntoView:V(hS,r),some:V(vS,r),toDOMNode:V(_A,r),toDOMPoint:V(NA,r),toDOMRange:V(RA,r),toSlateNode:V(jA,r),toSlatePoint:V(IA,r),toSlateRange:V($A,r),isCollapsed:()=>Me.isCollapsed(r.selection),isExpanded:()=>Me.isExpanded(r.selection),shouldNormalizeNode:()=>!0},a={addMarks:V(nB,r),blur:V(gA,r),deselectDOM:V(Pm,r),duplicateNodes:V(aB,r),focus:V(EA,r),removeMarks:V(sB,r),replaceNodes:V(iB,r),reset:V(oB,r),setSplittingOnce:V(Vr.setSplittingOnce,r),toggleBlock:V(uB,r),toggleMark:V(cB,r),withMerging:V(Vr.withMerging,r),withNewBatch:V(Vr.withNewBatch,r),withoutMerging:V(Vr.withoutMerging,r),withoutSaving:V(Vr.withoutSaving,r),escape:()=>!1,moveLine:()=>!1,selectAll:()=>!1,tab:()=>!1};return r.api=n,r.tf=a,r.transforms=a,vp(r),r},Uw=e=>{const t=e,{apply:r}=t;return t.history={redos:[],undos:[]},t.redo=()=>{const{history:n}=t,{redos:a}=n;if(a.length>0){const s=a.at(-1);s.selectionBefore&&t.tf.setSelection(s.selectionBefore),t.tf.withoutSaving(()=>{t.tf.withoutNormalizing(()=>{for(const i of s.operations)t.apply(i)})}),n.redos.pop(),t.writeHistory("undos",s)}},t.undo=()=>{const{history:n}=t,{undos:a}=n;if(a.length>0){const s=a.at(-1);t.tf.withoutSaving(()=>{t.tf.withoutNormalizing(()=>{const i=s.operations.map(mA.inverse).reverse();for(const o of i)t.apply(o);s.selectionBefore&&t.tf.setSelection(s.selectionBefore)})}),t.writeHistory("redos",s),n.undos.pop()}},t.apply=n=>{const{history:a,operations:s}=t,{undos:i}=a,o=i.at(-1),u=o?.operations.at(-1);let c=t.api.isSaving(),l=t.api.isMerging();if(c==null&&(c=kB(n)),c){if(l==null&&(o==null?l=!1:s.length>0?l=!0:l=BB(n,u)),t.api.isSplittingOnce()&&(l=!1,t.tf.setSplittingOnce(void 0)),o&&l)o.operations.push(n);else{const f={operations:[n],selectionBefore:t.selection};t.writeHistory("undos",f)}for(;i.length>100;)i.shift();a.redos=[]}r(n)},t.writeHistory=(n,a)=>{t.history[n].push(a)},t},BB=(e,t)=>!!(t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&fe.equals(e.path,t.path)||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&fe.equals(e.path,t.path)),kB=(e,t)=>e.type!=="set_selection";const FB="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let _n=(e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+=FB[r[e]&63];return t};var Pc,km;function Ww(){if(km)return Pc;km=1;var e=Is(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Pc=t,Pc}var Oc,Fm;function mp(){if(Fm)return Oc;Fm=1;var e=Ww();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Oc=t,Oc}var Ac,Tm;function Vw(){if(Tm)return Ac;Tm=1;var e=mp(),t=js();function r(n,a,s){(s!==void 0&&!t(n[a],s)||s===void 0&&!(a in n))&&e(n,a,s)}return Ac=r,Ac}var Ua={exports:{}};Ua.exports;var _m;function Hw(){return _m||(_m=1,function(e,t){var r=on(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s?r.Buffer:void 0,o=i?i.allocUnsafe:void 0;function u(c,l){if(l)return c.slice();var f=c.length,d=o?o(f):new c.constructor(f);return c.copy(d),d}e.exports=u}(Ua,Ua.exports)),Ua.exports}var Sc,Nm;function gp(){if(Nm)return Sc;Nm=1;var e=Ow();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return Sc=t,Sc}var Bc,Rm;function Kw(){if(Rm)return Bc;Rm=1;var e=gp();function t(r,n){var a=n?e(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}return Bc=t,Bc}var kc,jm;function Gw(){if(jm)return kc;jm=1;function e(t,r){var n=-1,a=t.length;for(r||(r=Array(a));++n<a;)r[n]=t[n];return r}return kc=e,kc}var Fc,Im;function TB(){if(Im)return Fc;Im=1;var e=ir(),t=Object.create,r=function(){function n(){}return function(a){if(!e(a))return{};if(t)return t(a);n.prototype=a;var s=new n;return n.prototype=void 0,s}}();return Fc=r,Fc}var Tc,$m;function Yw(){if($m)return Tc;$m=1;var e=TB(),t=np(),r=fp();function n(a){return typeof a.constructor=="function"&&!r(a)?e(t(a)):{}}return Tc=n,Tc}var _c,Mm;function _B(){if(Mm)return _c;Mm=1;var e=Da(),t=sn();function r(n){return t(n)&&e(n)}return _c=r,_c}var Nc,Lm;function Jw(){if(Lm)return Nc;Lm=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return Nc=e,Nc}var Rc,zm;function yp(){if(zm)return Rc;zm=1;var e=mp(),t=js(),r=Object.prototype,n=r.hasOwnProperty;function a(s,i,o){var u=s[i];(!(n.call(s,i)&&t(u,o))||o===void 0&&!(i in s))&&e(s,i,o)}return Rc=a,Rc}var jc,qm;function Ca(){if(qm)return jc;qm=1;var e=yp(),t=mp();function r(n,a,s,i){var o=!s;s||(s={});for(var u=-1,c=a.length;++u<c;){var l=a[u],f=i?i(s[l],n[l],l,s,n):void 0;f===void 0&&(f=n[l]),o?t(s,l,f):e(s,l,f)}return s}return jc=r,jc}var Ic,Um;function NB(){if(Um)return Ic;Um=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return Ic=e,Ic}var $c,Wm;function RB(){if(Wm)return $c;Wm=1;var e=ir(),t=fp(),r=NB(),n=Object.prototype,a=n.hasOwnProperty;function s(i){if(!e(i))return r(i);var o=t(i),u=[];for(var c in i)c=="constructor"&&(o||!a.call(i,c))||u.push(c);return u}return $c=s,$c}var Mc,Vm;function Pa(){if(Vm)return Mc;Vm=1;var e=Bw(),t=RB(),r=Da();function n(a){return r(a)?e(a,!0):t(a)}return Mc=n,Mc}var Lc,Hm;function jB(){if(Hm)return Lc;Hm=1;var e=Ca(),t=Pa();function r(n){return e(n,t(n))}return Lc=r,Lc}var zc,Km;function IB(){if(Km)return zc;Km=1;var e=Vw(),t=Hw(),r=Kw(),n=Gw(),a=Yw(),s=xo(),i=Sr(),o=_B(),u=wo(),c=Ux(),l=ir(),f=ap(),d=lp(),v=Jw(),h=jB();function g(x,y,p,w,C,P,_){var R=v(x,p),E=v(y,p),A=_.get(E);if(A){e(x,p,A);return}var S=P?P(R,E,p+"",x,y,_):void 0,B=S===void 0;if(B){var k=i(E),T=!k&&u(E),j=!k&&!T&&d(E);S=E,k||T||j?i(R)?S=R:o(R)?S=n(R):T?(B=!1,S=t(E,!0)):j?(B=!1,S=r(E,!0)):S=[]:f(E)||s(E)?(S=R,s(R)?S=h(R):(!l(R)||c(R))&&(S=a(E))):B=!1}B&&(_.set(E,S),C(S,E,w,P,_),_.delete(E)),e(x,p,S)}return zc=g,zc}var qc,Gm;function bp(){if(Gm)return qc;Gm=1;var e=bo(),t=Vw(),r=Nw(),n=IB(),a=ir(),s=Pa(),i=Jw();function o(u,c,l,f,d){u!==c&&r(c,function(v,h){if(d||(d=new e),a(v))n(u,c,h,l,o,f,d);else{var g=f?f(i(u,h),v,h+"",u,c,d):void 0;g===void 0&&(g=v),t(u,h,g)}},s)}return qc=o,qc}var Uc,Ym;function Zw(){if(Ym)return Uc;Ym=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Uc=e,Uc}var Wc,Jm;function Xw(){if(Jm)return Wc;Jm=1;var e=Zw(),t=Math.max;function r(n,a,s){return a=t(a===void 0?n.length-1:a,0),function(){for(var i=arguments,o=-1,u=t(i.length-a,0),c=Array(u);++o<u;)c[o]=i[a+o];o=-1;for(var l=Array(a+1);++o<a;)l[o]=i[o];return l[a]=s(c),e(n,this,l)}}return Wc=r,Wc}var Vc,Zm;function $B(){if(Zm)return Vc;Zm=1;function e(t){return function(){return t}}return Vc=e,Vc}var Hc,Xm;function MB(){if(Xm)return Hc;Xm=1;var e=$B(),t=Ww(),r=pp(),n=t?function(a,s){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return Hc=n,Hc}var Kc,Qm;function LB(){if(Qm)return Kc;Qm=1;var e=800,t=16,r=Date.now;function n(a){var s=0,i=0;return function(){var o=r(),u=t-(o-i);if(i=o,u>0){if(++s>=e)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return Kc=n,Kc}var Gc,eg;function Qw(){if(eg)return Gc;eg=1;var e=MB(),t=LB(),r=t(e);return Gc=r,Gc}var Yc,tg;function xp(){if(tg)return Yc;tg=1;var e=pp(),t=Xw(),r=Qw();function n(a,s){return r(t(a,s,e),a+"")}return Yc=n,Yc}var Jc,rg;function eE(){if(rg)return Jc;rg=1;var e=js(),t=Da(),r=Eo(),n=ir();function a(s,i,o){if(!n(o))return!1;var u=typeof i;return(u=="number"?t(o)&&r(i,o.length):u=="string"&&i in o)?e(o[i],s):!1}return Jc=a,Jc}var Zc,ng;function tE(){if(ng)return Zc;ng=1;var e=xp(),t=eE();function r(n){return e(function(a,s){var i=-1,o=s.length,u=o>1?s[o-1]:void 0,c=o>2?s[2]:void 0;for(u=n.length>3&&typeof u=="function"?(o--,u):void 0,c&&t(s[0],s[1],c)&&(u=o<3?void 0:u,o=1),a=Object(a);++i<o;){var l=s[i];l&&n(a,l,i,u)}return a})}return Zc=r,Zc}var Xc,ag;function zB(){if(ag)return Xc;ag=1;var e=bp(),t=tE(),r=t(function(n,a,s){e(n,a,s)});return Xc=r,Xc}var qB=zB();const We=Dt(qB),UB=Symbol(),rE=Symbol(),Ia="a",bi="w";let WB=(e,t)=>new Proxy(e,t);const ed=Object.getPrototypeOf,sg=new WeakMap,VB=e=>e&&(sg.has(e)?sg.get(e):ed(e)===Object.prototype||ed(e)===Array.prototype),ig=e=>typeof e=="object"&&e!==null,HB=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(r=>{r.configurable=!0}),Object.create(ed(e),t)},nE=e=>e[rE]||e,aE=(e,t,r,n)=>{if(!VB(e))return e;let a=n&&n.get(e);if(!a){const u=nE(e);a=(c=>Object.values(Object.getOwnPropertyDescriptors(c)).some(l=>!l.configurable&&!l.writable))(u)?[u,HB(u)]:[u],n?.set(e,a)}const[s,i]=a;let o=r&&r.get(s);return o&&o[1].f===!!i||(o=((u,c)=>{const l={f:c};let f=!1;const d=(h,g)=>{if(!f){let x=l[Ia].get(u);if(x||(x={},l[Ia].set(u,x)),h===bi)x[bi]=!0;else{let y=x[h];y||(y=new Set,x[h]=y),y.add(g)}}},v={get:(h,g)=>g===rE?u:(d("k",g),aE(Reflect.get(h,g),l[Ia],l.c,l.t)),has:(h,g)=>g===UB?(f=!0,l[Ia].delete(u),!0):(d("h",g),Reflect.has(h,g)),getOwnPropertyDescriptor:(h,g)=>(d("o",g),Reflect.getOwnPropertyDescriptor(h,g)),ownKeys:h=>(d(bi),Reflect.ownKeys(h))};return c&&(v.set=v.deleteProperty=()=>!1),[v,l]})(s,!!i),o[1].p=WB(i||s,o[0]),r&&r.set(s,o)),o[1][Ia]=t,o[1].c=r,o[1].t=n,o[1].p},td=(e,t,r,n,a=Object.is)=>{if(a(e,t))return!1;if(!ig(e)||!ig(t))return!0;const s=r.get(nE(e));if(!s)return!0;if(n){const o=n.get(e);if(o&&o.n===t)return o.g;n.set(e,{n:t,g:!1})}let i=null;try{for(const o of s.h||[])if(i=Reflect.has(e,o)!==Reflect.has(t,o),i)return i;if(s[bi]===!0){if(i=((o,u)=>{const c=Reflect.ownKeys(o),l=Reflect.ownKeys(u);return c.length!==l.length||c.some((f,d)=>f!==l[d])})(e,t),i)return i}else for(const o of s.o||[])if(i=!!Reflect.getOwnPropertyDescriptor(e,o)!=!!Reflect.getOwnPropertyDescriptor(t,o),i)return i;for(const o of s.k||[])if(i=td(e[o],t[o],r,n,a),i)return i;return i===null&&(i=!0),i}finally{n&&n.set(e,{n:t,g:i})}},KB=e=>()=>{const[,r]=K.useReducer(l=>l+1,0),n=new WeakMap,a=K.useRef(),s=K.useRef(),i=K.useRef();K.useEffect(()=>{a.current=n,s.current!==i.current&&td(s.current,i.current,n,new WeakMap)&&(s.current=i.current,r())});const o=K.useCallback(l=>(i.current=l,s.current&&s.current!==l&&a.current&&!td(s.current,l,a.current,new WeakMap)?s.current:(s.current=l,l)),[]),u=e(o),c=K.useMemo(()=>new WeakMap,[]);return aE(u,n,c)},og={ASSETS_PREFIX:void 0,BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,PUBLIC_GOOGLE_MAPS_API_KEY:"AIzaSyC4VJdDLlYS9pYMqynCFMGxa_1EQIM8rK4",PUBLIC_GRAPHQL_ENDPOINT:"https://ln-admin.laurenaturo.fr/graphql",SITE:void 0,SSR:!1},ls=new Map,ti=e=>{const t=ls.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([r,n])=>[r,n.getState()])):{}},GB=(e,t,r)=>{if(e===void 0)return{type:"untracked",connection:t.connect(r)};const n=ls.get(r.name);if(n)return{type:"tracked",store:e,...n};const a={connection:t.connect(r),stores:{}};return ls.set(r.name,a),{type:"tracked",store:e,...a}},YB=(e,t)=>{if(t===void 0)return;const r=ls.get(e);r&&(delete r.stores[t],Object.keys(r.stores).length===0&&ls.delete(e))},JB=e=>{var t,r;if(!e)return;const n=e.split(`
`),a=n.findIndex(i=>i.includes("api.setState"));if(a<0)return;const s=((t=n[a+1])==null?void 0:t.trim())||"";return(r=/.+ (.+) .+/.exec(s))==null?void 0:r[1]},ZB=(e,t={})=>(r,n,a)=>{const{enabled:s,anonymousActionType:i,store:o,...u}=t;let c;try{c=(s??(og?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return e(r,n,a);const{connection:l,...f}=GB(o,c,u);let d=!0;a.setState=(g,x,y)=>{const p=r(g,x);if(!d)return p;const w=JB(new Error().stack),C=y===void 0?{type:i||w||"anonymous"}:typeof y=="string"?{type:y}:y;return o===void 0?(l?.send(C,n()),p):(l?.send({...C,type:`${o}/${C.type}`},{...ti(u.name),[o]:a.getState()}),p)},a.devtools={cleanup:()=>{l&&typeof l.unsubscribe=="function"&&l.unsubscribe(),YB(u.name,o)}};const v=(...g)=>{const x=d;d=!1,r(...g),d=x},h=e(a.setState,n,a);if(f.type==="untracked"?l?.init(h):(f.stores[f.store]=a,l?.init(Object.fromEntries(Object.entries(f.stores).map(([g,x])=>[g,g===f.store?h:x.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let g=!1;const x=a.dispatch;a.dispatch=(...y)=>{(og?"production":void 0)!=="production"&&y[0].type==="__setState"&&!g&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),g=!0),x(...y)}}return l.subscribe(g=>{var x;switch(g.type){case"ACTION":if(typeof g.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Qc(g.payload,y=>{if(y.type==="__setState"){if(o===void 0){v(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const p=y.state[o];if(p==null)return;JSON.stringify(a.getState())!==JSON.stringify(p)&&v(p);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(y)});case"DISPATCH":switch(g.payload.type){case"RESET":return v(h),o===void 0?l?.init(a.getState()):l?.init(ti(u.name));case"COMMIT":if(o===void 0){l?.init(a.getState());return}return l?.init(ti(u.name));case"ROLLBACK":return Qc(g.state,y=>{if(o===void 0){v(y),l?.init(a.getState());return}v(y[o]),l?.init(ti(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Qc(g.state,y=>{if(o===void 0){v(y);return}JSON.stringify(a.getState())!==JSON.stringify(y[o])&&v(y[o])});case"IMPORT_STATE":{const{nextLiftedState:y}=g.payload,p=(x=y.computedStates.slice(-1)[0])==null?void 0:x.state;if(!p)return;v(o===void 0?p:p[o]),l?.send(null,y);return}case"PAUSE_RECORDING":return d=!d}return}}),h},XB=ZB,Qc=(e,t)=>{let r;try{r=JSON.parse(e)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&t(r)},QB=e=>(t,r,n)=>{const a=n.subscribe;return n.subscribe=(i,o,u)=>{let c=i;if(o){const l=u?.equalityFn||Object.is;let f=i(n.getState());c=d=>{const v=i(d);if(!l(f,v)){const h=f;o(f=v,h)}},u?.fireImmediately&&o(f,f)}return a(c)},e(t,r,n)},ek=QB;function tk(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var s;const i=u=>u===null?null:JSON.parse(u,void 0),o=(s=r.getItem(a))!=null?s:null;return o instanceof Promise?o.then(i):i(o)},setItem:(a,s)=>r.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>r.removeItem(a)}}const rd=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return rd(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return rd(n)(r)}}}},rk=(e,t)=>(r,n,a)=>{let s={storage:tk(()=>localStorage),partialize:g=>g,version:0,merge:(g,x)=>({...x,...g}),...t},i=!1;const o=new Set,u=new Set;let c=s.storage;if(!c)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...g)},n,a);const l=()=>{const g=s.partialize({...n()});return c.setItem(s.name,{state:g,version:s.version})},f=a.setState;a.setState=(g,x)=>{f(g,x),l()};const d=e((...g)=>{r(...g),l()},n,a);a.getInitialState=()=>d;let v;const h=()=>{var g,x;if(!c)return;i=!1,o.forEach(p=>{var w;return p((w=n())!=null?w:d)});const y=((x=s.onRehydrateStorage)==null?void 0:x.call(s,(g=n())!=null?g:d))||void 0;return rd(c.getItem.bind(c))(s.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==s.version){if(s.migrate){const w=s.migrate(p.state,p.version);return w instanceof Promise?w.then(C=>[!0,C]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var w;const[C,P]=p;if(v=s.merge(P,(w=n())!=null?w:d),r(v,!0),C)return l()}).then(()=>{y?.(v,void 0),v=n(),i=!0,u.forEach(p=>p(v))}).catch(p=>{y?.(void 0,p)})};return a.persist={setOptions:g=>{s={...s,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>h(),hasHydrated:()=>i,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(u.add(g),()=>{u.delete(g)})},s.skipHydration||h(),v||d},nk=rk;var el={exports:{}},tl={},rl={exports:{}},nl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function ak(){if(ug)return nl;ug=1;var e=Lx();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,i=e.useDebugValue;function o(f,d){var v=d(),h=n({inst:{value:v,getSnapshot:d}}),g=h[0].inst,x=h[1];return s(function(){g.value=v,g.getSnapshot=d,u(g)&&x({inst:g})},[f,v,d]),a(function(){return u(g)&&x({inst:g}),f(function(){u(g)&&x({inst:g})})},[f]),i(v),v}function u(f){var d=f.getSnapshot;f=f.value;try{var v=d();return!r(f,v)}catch{return!0}}function c(f,d){return d()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return nl.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,nl}var cg;function sk(){return cg||(cg=1,rl.exports=ak()),rl.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function ik(){if(lg)return tl;lg=1;var e=Lx(),t=sk();function r(c,l){return c===l&&(c!==0||1/c===1/l)||c!==c&&l!==l}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,i=e.useEffect,o=e.useMemo,u=e.useDebugValue;return tl.useSyncExternalStoreWithSelector=function(c,l,f,d,v){var h=s(null);if(h.current===null){var g={hasValue:!1,value:null};h.current=g}else g=h.current;h=o(function(){function y(_){if(!p){if(p=!0,w=_,_=d(_),v!==void 0&&g.hasValue){var R=g.value;if(v(R,_))return C=R}return C=_}if(R=C,n(w,_))return R;var E=d(_);return v!==void 0&&v(R,E)?(w=_,R):(w=_,C=E)}var p=!1,w,C,P=f===void 0?null:f;return[function(){return y(l())},P===null?void 0:function(){return y(P())}]},[l,f,d,v]);var x=a(c,h[0],h[1]);return i(function(){g.hasValue=!0,g.value=x},[x]),u(x),x},tl}var fg;function ok(){return fg||(fg=1,el.exports=ik()),el.exports}var uk=ok();const ck=Dt(uk),{useSyncExternalStoreWithSelector:lk}=ck,fk=e=>e;function dk(e,t=fk,r){const n=lk(e.subscribe,e.getState,e.getInitialState,t,r);return F.useDebugValue(n),n}const dg=(e,t)=>{const r=pC(e),n=(a,s=t)=>dk(r,a,s);return Object.assign(n,r),n},pk=(e,t)=>e?dg(e,t):dg;var sE=Symbol.for("immer-nothing"),pg=Symbol.for("immer-draftable"),Vt=Symbol.for("immer-state");function hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fa=Object.getPrototypeOf;function da(e){return!!e&&!!e[Vt]}function Nn(e){return e?iE(e)||Array.isArray(e)||!!e[pg]||!!e.constructor?.[pg]||Po(e)||Oo(e):!1}var hk=Object.prototype.constructor.toString();function iE(e){if(!e||typeof e!="object")return!1;const t=fa(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===hk}function zi(e,t){Co(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Co(e){const t=e[Vt];return t?t.type_:Array.isArray(e)?1:Po(e)?2:Oo(e)?3:0}function nd(e,t){return Co(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function oE(e,t,r){const n=Co(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function vk(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Po(e){return e instanceof Map}function Oo(e){return e instanceof Set}function vn(e){return e.copy_||e.base_}function ad(e,t){if(Po(e))return new Map(e);if(Oo(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=iE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Vt];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(fa(e),n)}else{const n=fa(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function wp(e,t=!1){return Ao(e)||da(e)||!Nn(e)||(Co(e)>1&&(e.set=e.add=e.clear=e.delete=mk),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>wp(n,!0))),e}function mk(){hr(2)}function Ao(e){return Object.isFrozen(e)}var gk={};function Rn(e){const t=gk[e];return t||hr(0,e),t}var fs;function uE(){return fs}function yk(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hg(e,t){t&&(Rn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sd(e){id(e),e.drafts_.forEach(bk),e.drafts_=null}function id(e){e===fs&&(fs=e.parent_)}function vg(e){return fs=yk(fs,e)}function bk(e){const t=e[Vt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mg(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Vt].modified_&&(sd(t),hr(4)),Nn(e)&&(e=qi(t,e),t.parent_||Ui(t,e)),t.patches_&&Rn("Patches").generateReplacementPatches_(r[Vt].base_,e,t.patches_,t.inversePatches_)):e=qi(t,r,[]),sd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==sE?e:void 0}function qi(e,t,r){if(Ao(t))return t;const n=t[Vt];if(!n)return zi(t,(a,s)=>gg(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ui(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),zi(s,(o,u)=>gg(e,n,a,o,u,r,i)),Ui(e,a,!1),r&&e.patches_&&Rn("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function gg(e,t,r,n,a,s,i){if(da(a)){const o=s&&t&&t.type_!==3&&!nd(t.assigned_,n)?s.concat(n):void 0,u=qi(e,a,o);if(oE(r,n,u),da(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Nn(a)&&!Ao(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qi(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ui(e,a)}}function Ui(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wp(t,r)}function xk(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:uE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Ep;r&&(a=[n],s=ds);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var Ep={get(e,t){if(t===Vt)return e;const r=vn(e);if(!nd(r,t))return wk(e,r,t);const n=r[t];return e.finalized_||!Nn(n)?n:n===al(e.base_,t)?(sl(e),e.copy_[t]=ud(n,e)):n},has(e,t){return t in vn(e)},ownKeys(e){return Reflect.ownKeys(vn(e))},set(e,t,r){const n=cE(vn(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=al(vn(e),t),s=a?.[Vt];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(vk(r,a)&&(r!==void 0||nd(e.base_,t)))return!0;sl(e),od(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return al(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,sl(e),od(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=vn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){hr(11)},getPrototypeOf(e){return fa(e.base_)},setPrototypeOf(){hr(12)}},ds={};zi(Ep,(e,t)=>{ds[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ds.deleteProperty=function(e,t){return ds.set.call(this,e,t,void 0)};ds.set=function(e,t,r){return Ep.set.call(this,e[0],t,r,e[0])};function al(e,t){const r=e[Vt];return(r?vn(r):e)[t]}function wk(e,t,r){const n=cE(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function cE(e,t){if(!(t in e))return;let r=fa(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fa(r)}}function od(e){e.modified_||(e.modified_=!0,e.parent_&&od(e.parent_))}function sl(e){e.copy_||(e.copy_=ad(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ek=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,n,a)=>{if(typeof r=="function"&&typeof n!="function"){const i=n;n=r;const o=this;return function(c=i,...l){return o.produce(c,f=>n.call(this,f,...l))}}typeof n!="function"&&hr(6),a!==void 0&&typeof a!="function"&&hr(7);let s;if(Nn(r)){const i=vg(this),o=ud(r,void 0);let u=!0;try{s=n(o),u=!1}finally{u?sd(i):id(i)}return hg(i,a),mg(s,i)}else if(!r||typeof r!="object"){if(s=n(r),s===void 0&&(s=r),s===sE&&(s=void 0),this.autoFreeze_&&wp(s,!0),a){const i=[],o=[];Rn("Patches").generateReplacementPatches_(r,s,i,o),a(i,o)}return s}else hr(1,r)},this.produceWithPatches=(r,n)=>{if(typeof r=="function")return(o,...u)=>this.produceWithPatches(o,c=>r(c,...u));let a,s;return[this.produce(r,n,(o,u)=>{a=o,s=u}),a,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Nn(t)||hr(8),da(t)&&(t=Dk(t));const r=vg(this),n=ud(t,void 0);return n[Vt].isManual_=!0,id(r),n}finishDraft(t,r){const n=t&&t[Vt];(!n||!n.isManual_)&&hr(9);const{scope_:a}=n;return hg(a,r),mg(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Rn("Patches").applyPatches_;return da(t)?a(t,r):this.produce(t,s=>a(s,r))}};function ud(e,t){const r=Po(e)?Rn("MapSet").proxyMap_(e,t):Oo(e)?Rn("MapSet").proxySet_(e,t):xk(e,t);return(t?t.scope_:uE()).drafts_.push(r),r}function Dk(e){return da(e)||hr(10,e),lE(e)}function lE(e){if(!Nn(e)||Ao(e))return e;const t=e[Vt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ad(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ad(e,!0);return zi(r,(n,a)=>{oE(r,n,lE(a))}),t&&(t.finalized_=!1),r}var Ht=new Ek,Ck=Ht.produce;Ht.produceWithPatches.bind(Ht);Ht.setAutoFreeze.bind(Ht);Ht.setUseStrictShallowCopy.bind(Ht);Ht.applyPatches.bind(Ht);Ht.createDraft.bind(Ht);Ht.finishDraft.bind(Ht);const ht={Remove:"remove",Replace:"replace",Add:"add"},fE=Symbol.for("__MUTATIVE_PROXY_DRAFT__"),Pk=Symbol("__MUTATIVE_RAW_RETURN_SYMBOL__"),xi=Symbol.iterator,zt={mutable:"mutable",immutable:"immutable"},Dp={};function Qa(e,t){return e instanceof Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yg(e,t){if(t in e){let r=Reflect.getPrototypeOf(e);for(;r;){const n=Reflect.getOwnPropertyDescriptor(r,t);if(n)return n;r=Reflect.getPrototypeOf(r)}}}function Cp(e){return Object.getPrototypeOf(e)===Set.prototype}function Pp(e){return Object.getPrototypeOf(e)===Map.prototype}function Mt(e){var t;return(t=e.copy)!==null&&t!==void 0?t:e.original}function jn(e){return!!Oe(e)}function Oe(e){return typeof e!="object"?null:e?.[fE]}function Op(e){var t;const r=Oe(e);return r?(t=r.copy)!==null&&t!==void 0?t:r.original:e}function Er(e,t){if(!e||typeof e!="object")return!1;let r;return Object.getPrototypeOf(e)===Object.prototype||Array.isArray(e)||e instanceof Map||e instanceof Set||!!t?.mark&&((r=t.mark(e,zt))===zt.immutable||typeof r=="function")}function dE(e,t=[]){if(Object.hasOwnProperty.call(e,"key")){const r=e.parent.copy,n=Oe(Lr(r,e.key));if(n!==null&&n?.original!==e.original)return null;const a=e.parent.type===3,s=a?Array.from(e.parent.setMap.keys()).indexOf(e.key):e.key;if(!(a&&r.size>s||Qa(r,s)))return null;t.push(s)}if(e.parent)return dE(e.parent,t);t.reverse();try{Ok(e.copy,t)}catch{return null}return t}function Wn(e){return Array.isArray(e)?1:e instanceof Map?2:e instanceof Set?3:0}function Lr(e,t){return Wn(e)===2?e.get(t):e[t]}function qs(e,t,r){Wn(e)===2?e.set(t,r):e[t]=r}function il(e,t){const r=Oe(e);return(r?Mt(r):e)[t]}function jr(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cd(e){if(e)for(;e.finalities.revoke.length>0;)e.finalities.revoke.pop()()}function Cn(e,t){return t?e:[""].concat(e).map(r=>{const n=`${r}`;return n.indexOf("/")===-1&&n.indexOf("~")===-1?n:n.replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")}function Ok(e,t){for(let r=0;r<t.length-1;r+=1){const n=t[r];if(e=Lr(Wn(e)===3?Array.from(e):e,n),typeof e!="object")throw new Error(`Cannot resolve patch at '${t.join("/")}'.`)}return e}function Ak(e){const t=Object.create(Object.getPrototypeOf(e));return Reflect.ownKeys(e).forEach(r=>{let n=Reflect.getOwnPropertyDescriptor(e,r);if(n.enumerable&&n.configurable&&n.writable){t[r]=e[r];return}n.writable||(n.writable=!0,n.configurable=!0),(n.get||n.set)&&(n={configurable:!0,writable:!0,enumerable:n.enumerable,value:e[r]}),Reflect.defineProperty(t,r,n)}),t}const Sk=Object.prototype.propertyIsEnumerable;function pE(e,t){let r;if(Array.isArray(e))return Array.prototype.concat.call(e);if(e instanceof Set){if(!Cp(e)){const n=Object.getPrototypeOf(e).constructor;return new n(e.values())}return Set.prototype.difference?Set.prototype.difference.call(e,new Set):new Set(e.values())}else if(e instanceof Map){if(!Pp(e)){const n=Object.getPrototypeOf(e).constructor;return new n(e)}return new Map(e)}else if(t?.mark&&(r=t.mark(e,zt),r!==void 0)&&r!==zt.mutable){if(r===zt.immutable)return Ak(e);if(typeof r=="function"){if(t.enablePatches||t.enableAutoFreeze)throw new Error("You can't use mark and patches or auto freeze together.");return r()}throw new Error(`Unsupported mark result: ${r}`)}else if(typeof e=="object"&&Object.getPrototypeOf(e)===Object.prototype){const n={};return Object.keys(e).forEach(a=>{n[a]=e[a]}),Object.getOwnPropertySymbols(e).forEach(a=>{Sk.call(e,a)&&(n[a]=e[a])}),n}else throw new Error("Please check mark() to ensure that it is a stable marker draftable function.")}function Ft(e){e.copy||(e.copy=pE(e.original,e.options))}function Wa(e){if(!Er(e))return Op(e);if(Array.isArray(e))return e.map(Wa);if(e instanceof Map){const r=Array.from(e.entries()).map(([n,a])=>[n,Wa(a)]);if(!Pp(e)){const n=Object.getPrototypeOf(e).constructor;return new n(r)}return new Map(r)}if(e instanceof Set){const r=Array.from(e).map(Wa);if(!Cp(e)){const n=Object.getPrototypeOf(e).constructor;return new n(r)}return new Set(r)}const t=Object.create(Object.getPrototypeOf(e));for(const r in e)t[r]=Wa(e[r]);return t}function wi(e){return jn(e)?Wa(e):e}function Or(e){var t;e.assignedMap=(t=e.assignedMap)!==null&&t!==void 0?t:new Map,e.operated||(e.operated=!0,e.parent&&Or(e.parent))}function bg(){throw new Error("Cannot modify frozen object")}function ra(e,t,r,n,a){{r=r??new WeakMap,n=n??[],a=a??[];const i=r.has(e)?r.get(e):e;if(n.length>0){const o=n.indexOf(i);if(i&&typeof i=="object"&&o!==-1)throw n[0]===i?new Error("Forbids circular reference"):new Error(`Forbids circular reference: ~/${a.slice(0,o).map((u,c)=>{if(typeof u=="symbol")return`[${u.toString()}]`;const l=n[c];return typeof u=="object"&&(l instanceof Map||l instanceof Set)?Array.from(l.keys()).indexOf(u):u}).join("/")}`);n.push(i),a.push(t)}else n.push(i)}if(Object.isFrozen(e)||jn(e)){n.pop(),a.pop();return}switch(Wn(e)){case 2:for(const[o,u]of e)ra(o,o,r,n,a),ra(u,o,r,n,a);e.set=e.clear=e.delete=bg;break;case 3:for(const o of e)ra(o,o,r,n,a);e.add=e.clear=e.delete=bg;break;case 1:Object.freeze(e);let i=0;for(const o of e)ra(o,i,r,n,a),i+=1;break;default:Object.freeze(e),Object.keys(e).forEach(o=>{const u=e[o];ra(u,o,r,n,a)})}n.pop(),a.pop()}function Ap(e,t){const r=Wn(e);if(r===0)Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)});else if(r===1){let n=0;for(const a of e)t(n,a,e),n+=1}else e.forEach((n,a)=>t(a,n,e))}function hE(e,t,r){if(jn(e)||!Er(e,r)||t.has(e)||Object.isFrozen(e))return;const n=e instanceof Set,a=n?new Map:void 0;if(t.add(e),Ap(e,(s,i)=>{var o;if(jn(i)){const u=Oe(i);Ft(u);const c=!((o=u.assignedMap)===null||o===void 0)&&o.size||u.operated?u.copy:u.original;qs(n?a:e,s,c)}else hE(i,t,r)}),a){const s=e,i=Array.from(s);s.clear(),i.forEach(o=>{s.add(a.has(o)?a.get(o):o)})}}function Bk(e,t){const r=e.type===3?e.setMap:e.copy;e.finalities.revoke.length>1&&e.assignedMap.get(t)&&r&&hE(Lr(r,t),e.finalities.handledSet,e.options)}function ld(e){e.type===3&&e.copy&&(e.copy.clear(),e.setMap.forEach(t=>{e.copy.add(Op(t))}))}function fd(e,t,r,n){if(e.operated&&e.assignedMap&&e.assignedMap.size>0&&!e.finalized){if(r&&n){const s=dE(e);s&&t(e,s,r,n)}e.finalized=!0}}function Sp(e,t,r,n){const a=Oe(r);a&&(a.callbacks||(a.callbacks=[]),a.callbacks.push((s,i)=>{var o;const u=e.type===3?e.setMap:e.copy;if(jr(Lr(u,t),r)){let c=a.original;a.copy&&(c=a.copy),ld(e),fd(e,n,s,i),e.options.enableAutoFreeze&&(e.options.updatedValues=(o=e.options.updatedValues)!==null&&o!==void 0?o:new WeakMap,e.options.updatedValues.set(c,a.original)),qs(u,t,c)}}),e.options.enableAutoFreeze&&a.finalities!==e.finalities&&(e.options.enableAutoFreeze=!1)),Er(r,e.options)&&e.finalities.draft.push(()=>{const s=e.type===3?e.setMap:e.copy;jr(Lr(s,t),r)&&Bk(e,t)})}function kk(e,t,r,n,a){let{original:s,assignedMap:i,options:o}=e,u=e.copy;u.length<s.length&&([s,u]=[u,s],[r,n]=[n,r]);for(let c=0;c<s.length;c+=1)if(i.get(c.toString())&&u[c]!==s[c]){const l=t.concat([c]),f=Cn(l,a);r.push({op:ht.Replace,path:f,value:wi(u[c])}),n.push({op:ht.Replace,path:f,value:wi(s[c])})}for(let c=s.length;c<u.length;c+=1){const l=t.concat([c]),f=Cn(l,a);r.push({op:ht.Add,path:f,value:wi(u[c])})}if(s.length<u.length){const{arrayLengthAssignment:c=!0}=o.enablePatches;if(c){const l=t.concat(["length"]),f=Cn(l,a);n.push({op:ht.Replace,path:f,value:s.length})}else for(let l=u.length;s.length<l;l-=1){const f=t.concat([l-1]),d=Cn(f,a);n.push({op:ht.Remove,path:d})}}}function Fk({original:e,copy:t,assignedMap:r},n,a,s,i){r.forEach((o,u)=>{const c=Lr(e,u),l=wi(Lr(t,u)),f=o?Qa(e,u)?ht.Replace:ht.Add:ht.Remove;if(jr(c,l)&&f===ht.Replace)return;const d=n.concat(u),v=Cn(d,i);a.push(f===ht.Remove?{op:f,path:v}:{op:f,path:v,value:l}),s.push(f===ht.Add?{op:ht.Remove,path:v}:f===ht.Remove?{op:ht.Add,path:v,value:c}:{op:ht.Replace,path:v,value:c})})}function Tk({original:e,copy:t},r,n,a,s){let i=0;e.forEach(o=>{if(!t.has(o)){const u=r.concat([i]),c=Cn(u,s);n.push({op:ht.Remove,path:c,value:o}),a.unshift({op:ht.Add,path:c,value:o})}i+=1}),i=0,t.forEach(o=>{if(!e.has(o)){const u=r.concat([i]),c=Cn(u,s);n.push({op:ht.Add,path:c,value:o}),a.unshift({op:ht.Remove,path:c,value:o})}i+=1})}function ps(e,t,r,n){const{pathAsArray:a=!0}=e.options.enablePatches;switch(e.type){case 0:case 2:return Fk(e,t,r,n,a);case 1:return kk(e,t,r,n,a);case 3:return Tk(e,t,r,n,a)}}const Wi=(e,t,r=!1)=>{if(typeof e=="object"&&e!==null&&(!Er(e,t)||r))throw new Error("Strict mode: Mutable data cannot be accessed directly, please use 'unsafe(callback)' wrap.")},dd={get size(){return Mt(Oe(this)).size},has(e){return Mt(Oe(this)).has(e)},set(e,t){const r=Oe(this),n=Mt(r);return(!n.has(e)||!jr(n.get(e),t))&&(Ft(r),Or(r),r.assignedMap.set(e,!0),r.copy.set(e,t),Sp(r,e,t,ps)),this},delete(e){if(!this.has(e))return!1;const t=Oe(this);return Ft(t),Or(t),t.original.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.copy.delete(e),!0},clear(){const e=Oe(this);if(this.size){Ft(e),Or(e),e.assignedMap=new Map;for(const[t]of e.original)e.assignedMap.set(t,!1);e.copy.clear()}},forEach(e,t){const r=Oe(this);Mt(r).forEach((n,a)=>{e.call(t,this.get(a),a,this)})},get(e){var t,r;const n=Oe(this),a=Mt(n).get(e),s=((r=(t=n.options).mark)===null||r===void 0?void 0:r.call(t,a,zt))===zt.mutable;if(n.options.strict&&Wi(a,n.options,s),s||n.finalized||!Er(a,n.options)||a!==n.original.get(e))return a;const i=Dp.createDraft({original:a,parentDraft:n,key:e,finalities:n.finalities,options:n.options});return Ft(n),n.copy.set(e,i),i},keys(){return Mt(Oe(this)).keys()},values(){const e=this.keys();return{[xi]:()=>this.values(),next:()=>{const t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}},entries(){const e=this.keys();return{[xi]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const r=this.get(t.value);return{done:!1,value:[t.value,r]}}}},[xi](){return this.entries()}},_k=Reflect.ownKeys(dd),xg=(e,t,{isValuesIterator:r})=>()=>{var n,a;const s=t.next();if(s.done)return s;const i=s.value;let o=e.setMap.get(i);const u=Oe(o),c=((a=(n=e.options).mark)===null||a===void 0?void 0:a.call(n,o,zt))===zt.mutable;if(e.options.strict&&Wi(i,e.options,c),!c&&!u&&Er(i,e.options)&&!e.finalized&&e.original.has(i)){const l=Dp.createDraft({original:i,parentDraft:e,key:i,finalities:e.finalities,options:e.options});e.setMap.set(i,l),o=l}else u&&(o=u.proxy);return{done:!1,value:r?o:[o,o]}},Vi={get size(){return Oe(this).setMap.size},has(e){const t=Oe(this);if(t.setMap.has(e))return!0;Ft(t);const r=Oe(e);return!!(r&&t.setMap.has(r.original))},add(e){const t=Oe(this);return this.has(e)||(Ft(t),Or(t),t.assignedMap.set(e,!0),t.setMap.set(e,e),Sp(t,e,e,ps)),this},delete(e){if(!this.has(e))return!1;const t=Oe(this);Ft(t),Or(t);const r=Oe(e);return r&&t.setMap.has(r.original)?(t.assignedMap.set(r.original,!1),t.setMap.delete(r.original)):(!r&&t.setMap.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.setMap.delete(e))},clear(){if(!this.size)return;const e=Oe(this);Ft(e),Or(e);for(const t of e.original)e.assignedMap.set(t,!1);e.setMap.clear()},values(){const e=Oe(this);Ft(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.values(),next:xg(e,t,{isValuesIterator:!0})}},entries(){const e=Oe(this);Ft(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.entries(),next:xg(e,t,{isValuesIterator:!1})}},keys(){return this.values()},[xi](){return this.values()},forEach(e,t){const r=this.values();let n=r.next();for(;!n.done;)e.call(t,n.value,n.value,this),n=r.next()}};Set.prototype.difference&&Object.assign(Vi,{intersection(e){return Set.prototype.intersection.call(new Set(this.values()),e)},union(e){return Set.prototype.union.call(new Set(this.values()),e)},difference(e){return Set.prototype.difference.call(new Set(this.values()),e)},symmetricDifference(e){return Set.prototype.symmetricDifference.call(new Set(this.values()),e)},isSubsetOf(e){return Set.prototype.isSubsetOf.call(new Set(this.values()),e)},isSupersetOf(e){return Set.prototype.isSupersetOf.call(new Set(this.values()),e)},isDisjointFrom(e){return Set.prototype.isDisjointFrom.call(new Set(this.values()),e)}});const Nk=Reflect.ownKeys(Vi),vE=new WeakSet,mE={get(e,t,r){var n,a;const s=(n=e.copy)===null||n===void 0?void 0:n[t];if(s&&vE.has(s))return s;if(t===fE)return e;let i;if(e.options.mark){const c=t==="size"&&(e.original instanceof Map||e.original instanceof Set)?Reflect.get(e.original,t):Reflect.get(e.original,t,r);if(i=e.options.mark(c,zt),i===zt.mutable)return e.options.strict&&Wi(c,e.options,!0),c}const o=Mt(e);if(o instanceof Map&&_k.includes(t)){if(t==="size")return Object.getOwnPropertyDescriptor(dd,"size").get.call(e.proxy);const c=dd[t];if(c)return c.bind(e.proxy)}if(o instanceof Set&&Nk.includes(t)){if(t==="size")return Object.getOwnPropertyDescriptor(Vi,"size").get.call(e.proxy);const c=Vi[t];if(c)return c.bind(e.proxy)}if(!Qa(o,t)){const c=yg(o,t);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(e.proxy):void 0}const u=o[t];if(e.options.strict&&Wi(u,e.options),e.finalized||!Er(u,e.options))return u;if(u===il(e.original,t)){if(Ft(e),e.copy[t]=Bp({original:e.original[t],parentDraft:e,key:e.type===1?Number(t):t,finalities:e.finalities,options:e.options}),typeof i=="function"){const c=Oe(e.copy[t]);return Ft(c),Or(c),c.copy}return e.copy[t]}return u},set(e,t,r){var n;if(e.type===3||e.type===2)throw new Error("Map/Set draft does not support any property assignment.");let a;if(e.type===1&&t!=="length"&&!(Number.isInteger(a=Number(t))&&a>=0&&(t===0||a===0||String(a)===String(t))))throw new Error("Only supports setting array indices and the 'length' property.");const s=yg(Mt(e),t);if(s?.set)return s.set.call(e.proxy,r),!0;const i=il(Mt(e),t),o=Oe(i);return o&&jr(o.original,r)?(e.copy[t]=r,e.assignedMap=(n=e.assignedMap)!==null&&n!==void 0?n:new Map,e.assignedMap.set(t,!1),!0):(jr(r,i)&&(r!==void 0||Qa(e.original,t))||(Ft(e),Or(e),Qa(e.original,t)&&jr(r,e.original[t])?e.assignedMap.delete(t):e.assignedMap.set(t,!0),e.copy[t]=r,Sp(e,t,r,ps)),!0)},has(e,t){return t in Mt(e)},ownKeys(e){return Reflect.ownKeys(Mt(e))},getOwnPropertyDescriptor(e,t){const r=Mt(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},getPrototypeOf(e){return Reflect.getPrototypeOf(e.original)},setPrototypeOf(){throw new Error("Cannot call 'setPrototypeOf()' on drafts")},defineProperty(){throw new Error("Cannot call 'defineProperty()' on drafts")},deleteProperty(e,t){var r;return e.type===1?mE.set.call(this,e,t,void 0,e.proxy):(il(e.original,t)!==void 0||t in e.original?(Ft(e),Or(e),e.assignedMap.set(t,!1)):(e.assignedMap=(r=e.assignedMap)!==null&&r!==void 0?r:new Map,e.assignedMap.delete(t)),e.copy&&delete e.copy[t],!0)}};function Bp(e){const{original:t,parentDraft:r,key:n,finalities:a,options:s}=e,i=Wn(t),o={type:i,finalized:!1,parent:r,original:t,copy:null,proxy:null,finalities:a,options:s,setMap:i===3?new Map(t.entries()):void 0};(n||"key"in e)&&(o.key=n);const{proxy:u,revoke:c}=Proxy.revocable(i===1?Object.assign([],o):o,mE);if(a.revoke.push(c),vE.add(u),o.proxy=u,r){const l=r;l.finalities.draft.push((f,d)=>{var v,h;const g=Oe(u);let x=l.type===3?l.setMap:l.copy;const y=Lr(x,n),p=Oe(y);if(p){let w=p.original;p.operated&&(w=Op(y)),ld(p),fd(p,ps,f,d),l.options.enableAutoFreeze&&(l.options.updatedValues=(v=l.options.updatedValues)!==null&&v!==void 0?v:new WeakMap,l.options.updatedValues.set(w,p.original)),qs(x,n,w)}(h=g.callbacks)===null||h===void 0||h.forEach(w=>{w(f,d)})})}else{const l=Oe(u);l.finalities.draft.push((f,d)=>{ld(l),fd(l,ps,f,d)})}return u}Dp.createDraft=Bp;function Rk(e,t,r,n,a){var s;const i=Oe(e),o=(s=i?.original)!==null&&s!==void 0?s:e,u=!!t.length;if(i?.operated)for(;i.finalities.draft.length>0;)i.finalities.draft.pop()(r,n);const c=u?t[0]:i?i.operated?i.copy:i.original:e;return i&&cd(i),a&&ra(c,c,i?.options.updatedValues),[c,r&&u?[{op:ht.Replace,path:[],value:t[0]}]:r,n&&u?[{op:ht.Replace,path:[],value:o}]:n]}function jk(e,t){var r;const n={draft:[],revoke:[],handledSet:new WeakSet};let a,s;t.enablePatches&&(a=[],s=[]);const o=((r=t.mark)===null||r===void 0?void 0:r.call(t,e,zt))===zt.mutable||!Er(e,t)?e:Bp({original:e,parentDraft:null,finalities:n,options:t});return[o,(u=[])=>{const[c,l,f]=Rk(o,u,a,s,t.enableAutoFreeze);return t.enablePatches?[c,l,f]:c}]}function pd(e){const{rootDraft:t,value:r,useRawReturn:n=!1,isRoot:a=!0}=e;Ap(r,(s,i,o)=>{const u=Oe(i);if(u&&t&&u.finalities===t.finalities){e.isContainDraft=!0;const c=u.original;if(o instanceof Set){const l=Array.from(o);o.clear(),l.forEach(f=>o.add(s===f?c:f))}else qs(o,s,c)}else typeof i=="object"&&i!==null&&(e.value=i,e.isRoot=!1,pd(e))}),a&&(e.isContainDraft||console.warn("The return value does not contain any draft, please use 'rawReturn()' to wrap the return value to improve performance."),n&&console.warn("The return value contains drafts, please don't use 'rawReturn()' to wrap the return value."))}function gE(e){var t;const r=Oe(e);if(!Er(e,r?.options))return e;const n=Wn(e);if(r&&!r.operated)return r.original;let a;function s(){a=n===2?Pp(e)?new Map(e):new(Object.getPrototypeOf(e)).constructor(e):n===3?Array.from(r.setMap.values()):pE(e,r?.options)}if(r){r.finalized=!0;try{s()}finally{r.finalized=!1}}else a=e;if(Ap(a,(i,o)=>{if(r&&jr(Lr(r.original,i),o))return;const u=gE(o);u!==o&&(a===e&&s(),qs(a,i,u))}),n===3){const i=(t=r?.original)!==null&&t!==void 0?t:a;return Cp(i)?new Set(a):new(Object.getPrototypeOf(i)).constructor(a)}return a}function wg(e){if(!jn(e))throw new Error(`current() is only used for Draft, parameter: ${e}`);return gE(e)}const Ik=e=>function t(r,n,a){var s,i,o;if(typeof r=="function"&&typeof n!="function")return function(P,..._){return t(P,R=>r.call(this,R,..._),n)};const u=r,c=n;let l=a;if(typeof n!="function"&&(l=n),l!==void 0&&Object.prototype.toString.call(l)!=="[object Object]")throw new Error(`Invalid options: ${l}, 'options' should be an object.`);l=Object.assign(Object.assign({},e),l);const f=jn(u)?wg(u):u,d=Array.isArray(l.mark)?(P,_)=>{for(const R of l.mark){if(typeof R!="function")throw new Error(`Invalid mark: ${R}, 'mark' should be a function.`);const E=R(P,_);if(E)return E}}:l.mark,v=(s=l.enablePatches)!==null&&s!==void 0?s:!1,h=(i=l.strict)!==null&&i!==void 0?i:!1,x={enableAutoFreeze:(o=l.enableAutoFreeze)!==null&&o!==void 0?o:!1,mark:d,strict:h,enablePatches:v};if(!Er(f,x)&&typeof f=="object"&&f!==null)throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");const[y,p]=jk(f,x);if(typeof n!="function"){if(!Er(f,x))throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");return[y,p]}let w;try{w=c(y)}catch(P){throw cd(Oe(y)),P}const C=P=>{const _=Oe(y);if(!jn(P)){if(P!==void 0&&!jr(P,y)&&_?.operated)throw new Error("Either the value is returned as a new non-draft value, or only the draft is modified without returning any value.");const E=P?.[Pk];if(E){const A=E[0];return x.strict&&typeof P=="object"&&P!==null&&pd({rootDraft:_,value:P,useRawReturn:!0}),p([A])}if(P!==void 0)return typeof P=="object"&&P!==null&&pd({rootDraft:_,value:P}),p([P])}if(P===y||P===void 0)return p([]);const R=Oe(P);if(x===R.options){if(R.operated)throw new Error("Cannot return a modified child draft.");return p([wg(P)])}return p([P])};return w instanceof Promise?w.then(C,P=>{throw cd(Oe(y)),P}):C(w)},$k=Ik();Object.prototype.constructor.toString();var Mk=Object.defineProperty,Lk=Object.defineProperties,zk=Object.getOwnPropertyDescriptors,Hi=Object.getOwnPropertySymbols,yE=Object.prototype.hasOwnProperty,bE=Object.prototype.propertyIsEnumerable,Eg=(e,t,r)=>t in e?Mk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,br=(e,t)=>{for(var r in t||(t={}))yE.call(t,r)&&Eg(e,r,t[r]);if(Hi)for(var r of Hi(t))bE.call(t,r)&&Eg(e,r,t[r]);return e},pa=(e,t)=>Lk(e,zk(t)),qk=(e,t)=>{var r={};for(var n in e)yE.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Hi)for(var n of Hi(e))t.indexOf(n)<0&&bE.call(e,n)&&(r[n]=e[n]);return r},Uk=e=>(t,r,n)=>(n.setState=(a,s,...i)=>{const o=typeof a=="function"?Ck(a):a;return t(o,typeof s=="boolean"?s:!0,...i)},e(n.setState,r,n)),Wk=Uk,Vk=(e,t)=>(r,n,a)=>(a.setState=(s,i,...o)=>{const u=typeof s=="function"?$k(s,t&&pa(br({},t),{enablePatches:!1})):s;return r(u,typeof i=="boolean"?i:!0,...o)},e(a.setState,n,a)),Hk=Vk,ri=(e,t=!1)=>{const r=typeof e=="boolean",n=r?{}:e||{},{enabled:a}=n,s=qk(n,["enabled"]),i=r?e:a;return br({enabled:i??t},s)},Kk=(e,t)=>{const r=e(t),n=br(br({},t.actions),r);return pa(br({},t),{actions:n,set:(a,...s)=>{if(a in n){const i=n[a];return i(...s)}return t.set(a,s[0])}})},Gk=e=>e,Yk=(e,t)=>{const r=e(t),n=br(br({},t.selectors),r);return pa(br({},t),{get:(a,...s)=>{if(a in n){const i=n[a];return i(...s)}return t.get(a)},subscribe:(a,...s)=>{if(a in n){let i,o,u;const c=s.at(-1),l=s.at(-2),f=s.at(-3);let d=-1;return typeof c=="function"?(u=c,o=typeof l=="function"?l:Gk,d=typeof l=="function"?-2:-1):(i=c,u=l,o=f,d=-3),t.subscribe("state",()=>o(n[a](...s.slice(0,d))),u,i)}return t.subscribe(a,...s)},selectors:n,useValue:(a,...s)=>{if(a in n){const i=n[a],o=s.at(-1),u=typeof o=="function"?o:void 0,c=u?s.slice(0,-1):s;return t.useStore(()=>i(...c),u)}return t.useValue(a,s[0])}})},hd=e=>pa(br({},e),{actions:e.actions||{},extendSelectors:t=>hd(Yk(t,e)),extendActions:t=>hd(Kk(t,e))}),Jk=(e,t)=>{const{name:r,devtools:n,immer:a,mutative:s,persist:i,isMutativeState:o}=t,u=[],c=ri(n);c.enabled&&u.push(E=>{var A;return XB(E,pa(br({},c),{name:(A=c?.name)!=null?A:r}))});const l=ri(i);l.enabled&&u.push(E=>{var A;return nk(E,pa(br({},l),{name:(A=l.name)!=null?A:r}))});const f=ri(a);f.enabled&&u.push(E=>Wk(E));const d=ri(s);d.enabled&&u.push(E=>Hk(E,d));const v=u.reverse().reduce((E,A)=>A(E),typeof e=="function"?e:()=>e),h=pk(ek(v)),g=KB(h),x=E=>g()[E],y=E=>E==="state"?h.getState():h.getState()[E],p=(E,A,S,B)=>{if(E==="state")return h.subscribe(A,S,B);let k;return S?k=T=>A(T[E]):(S=A,k=T=>T[E]),h.subscribe(k,S,B)},w=o||f.enabled||d.enabled,C=(E,A)=>{var S;if(E==="state")return h.setState(A);const B=E;if(h.getState()[B]===A)return;const T=E.replace(/^\S/,L=>L.toUpperCase()),j=r?`@@${r}/set${T}`:void 0;(S=h.setState)==null||S.call(h,w?L=>{L[B]=A}:{[B]:A},void 0,j)},P=(E,A)=>h(S=>S[E],A);return hd({get:y,name:r,set:C,subscribe:p,store:h,useStore:h,useValue:P,useState:(E,A)=>[P(E,A),B=>C(E,B)],useTracked:x,useTrackedStore:g,actions:{},selectors:{}})},Us=Jk;function Zk(e,t,...r){return e.useValue(t,...r)}var ol,Dg;function xE(){if(Dg)return ol;Dg=1;var e=bp(),t=tE(),r=t(function(n,a,s,i){e(n,a,s,i)});return ol=r,ol}var Xk=xE();const wE=Dt(Xk);var ul,Cg;function Qk(){if(Cg)return ul;Cg=1;var e=xp(),t=js(),r=eE(),n=Pa(),a=Object.prototype,s=a.hasOwnProperty,i=e(function(o,u){o=Object(o);var c=-1,l=u.length,f=l>2?u[2]:void 0;for(f&&r(u[0],u[1],f)&&(l=1);++c<l;)for(var d=u[c],v=n(d),h=-1,g=v.length;++h<g;){var x=v[h],y=o[x];(y===void 0||t(y,a[x])&&!s.call(o,x))&&(o[x]=d[x])}return o});return ul=i,ul}var eF=Qk();const EE=Dt(eF);var cl,Pg;function tF(){if(Pg)return cl;Pg=1;var e=yp(),t=$s(),r=Eo(),n=ir(),a=Ms();function s(i,o,u,c){if(!n(i))return i;o=t(o,i);for(var l=-1,f=o.length,d=f-1,v=i;v!=null&&++l<f;){var h=a(o[l]),g=u;if(h==="__proto__"||h==="constructor"||h==="prototype")return i;if(l!=d){var x=v[h];g=c?c(x,h,v):void 0,g===void 0&&(g=n(x)?x:r(o[l+1])?[]:{})}e(v,h,g),v=v[h]}return i}return cl=s,cl}var ll,Og;function DE(){if(Og)return ll;Og=1;var e=Ud(),t=tF(),r=$s();function n(a,s,i){for(var o=-1,u=s.length,c={};++o<u;){var l=s[o],f=e(a,l);i(f,l)&&t(c,r(l,a),f)}return c}return ll=n,ll}var fl,Ag;function rF(){if(Ag)return fl;Ag=1;var e=DE(),t=_w();function r(n,a){return e(n,a,function(s,i){return t(n,i)})}return fl=r,fl}var dl,Sg;function nF(){if(Sg)return dl;Sg=1;var e=qd(),t=xo(),r=Sr(),n=e?e.isConcatSpreadable:void 0;function a(s){return r(s)||t(s)||!!(n&&s&&s[n])}return dl=a,dl}var pl,Bg;function aF(){if(Bg)return pl;Bg=1;var e=sp(),t=nF();function r(n,a,s,i,o){var u=-1,c=n.length;for(s||(s=t),o||(o=[]);++u<c;){var l=n[u];a>0&&s(l)?a>1?r(l,a-1,s,i,o):e(o,l):i||(o[o.length]=l)}return o}return pl=r,pl}var hl,kg;function sF(){if(kg)return hl;kg=1;var e=aF();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return hl=t,hl}var vl,Fg;function CE(){if(Fg)return vl;Fg=1;var e=sF(),t=Xw(),r=Qw();function n(a){return r(t(a,void 0,e),a+"")}return vl=n,vl}var ml,Tg;function iF(){if(Tg)return ml;Tg=1;var e=rF(),t=CE(),r=t(function(n,a){return n==null?{}:e(n,a)});return ml=r,ml}var oF=iF();const PE=Dt(oF);function OE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=OE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=OE(e))&&(n&&(n+=" "),n+=t);return n}var gl,_g;function uF(){if(_g)return gl;_g=1;function e(t,r,n,a){var s=-1,i=t==null?0:t.length;for(a&&i&&(n=t[++s]);++s<i;)n=r(n,t[s],s,t);return n}return gl=e,gl}var yl,Ng;function cF(){if(Ng)return yl;Ng=1;function e(t){return function(r){return t?.[r]}}return yl=e,yl}var bl,Rg;function lF(){if(Rg)return bl;Rg=1;var e=cF(),t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},r=e(t);return bl=r,bl}var xl,jg;function fF(){if(jg)return xl;jg=1;var e=lF(),t=Vx(),r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,n="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",i=n+a+s,o="["+i+"]",u=RegExp(o,"g");function c(l){return l=t(l),l&&l.replace(r,e).replace(u,"")}return xl=c,xl}var wl,Ig;function dF(){if(Ig)return wl;Ig=1;var e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function t(r){return r.match(e)||[]}return wl=t,wl}var El,$g;function pF(){if($g)return El;$g=1;var e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function t(r){return e.test(r)}return El=t,El}var Dl,Mg;function hF(){if(Mg)return Dl;Mg=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",o="\\xac\\xb1\\xd7\\xf7",u="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",c="\\u2000-\\u206f",l=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",f="A-Z\\xc0-\\xd6\\xd8-\\xde",d="\\ufe0e\\ufe0f",v=o+u+c+l,h="['’]",g="["+v+"]",x="["+a+"]",y="\\d+",p="["+s+"]",w="["+i+"]",C="[^"+e+v+y+s+i+f+"]",P="\\ud83c[\\udffb-\\udfff]",_="(?:"+x+"|"+P+")",R="[^"+e+"]",E="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",S="["+f+"]",B="\\u200d",k="(?:"+w+"|"+C+")",T="(?:"+S+"|"+C+")",j="(?:"+h+"(?:d|ll|m|re|s|t|ve))?",L="(?:"+h+"(?:D|LL|M|RE|S|T|VE))?",J=_+"?",I="["+d+"]?",Y="(?:"+B+"(?:"+[R,E,A].join("|")+")"+I+J+")*",W="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Z="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ie=I+J+Y,le="(?:"+[p,E,A].join("|")+")"+ie,oe=RegExp([S+"?"+w+"+"+j+"(?="+[g,S,"$"].join("|")+")",T+"+"+L+"(?="+[g,S+k,"$"].join("|")+")",S+"?"+k+"+"+j,S+"+"+L,Z,W,y,le].join("|"),"g");function me(ue){return ue.match(oe)||[]}return Dl=me,Dl}var Cl,Lg;function vF(){if(Lg)return Cl;Lg=1;var e=dF(),t=pF(),r=Vx(),n=hF();function a(s,i,o){return s=r(s),i=o?void 0:i,i===void 0?t(s)?n(s):e(s):s.match(i)||[]}return Cl=a,Cl}var Pl,zg;function mF(){if(zg)return Pl;zg=1;var e=uF(),t=fF(),r=vF(),n="['’]",a=RegExp(n,"g");function s(i){return function(o){return e(r(t(o).replace(a,"")),i,"")}}return Pl=s,Pl}var Ol,qg;function gF(){if(qg)return Ol;qg=1;var e=mF(),t=e(function(r,n,a){return r+(a?"-":"")+n.toLowerCase()});return Ol=t,Ol}var yF=gF();const AE=Dt(yF);var Al,Ug;function bF(){if(Ug)return Al;Ug=1;var e=dp();function t(r,n){return e(r,n)}return Al=t,Al}var xF=bF();const SE=Dt(xF);var Sl,Wg;function wF(){if(Wg)return Sl;Wg=1;function e(t){return t===void 0}return Sl=e,Sl}var EF=wF();const BE=Dt(EF);var Bl,Vg;function DF(){if(Vg)return Bl;Vg=1;var e="Expected a function";function t(r){if(typeof r!="function")throw new TypeError(e);return function(){var n=arguments;switch(n.length){case 0:return!r.call(this);case 1:return!r.call(this,n[0]);case 2:return!r.call(this,n[0],n[1]);case 3:return!r.call(this,n[0],n[1],n[2])}return!r.apply(this,n)}}return Bl=t,Bl}var kl,Hg;function kE(){if(Hg)return kl;Hg=1;var e=sp(),t=np(),r=ip(),n=Sw(),a=Object.getOwnPropertySymbols,s=a?function(i){for(var o=[];i;)e(o,r(i)),i=t(i);return o}:n;return kl=s,kl}var Fl,Kg;function kp(){if(Kg)return Fl;Kg=1;var e=Aw(),t=kE(),r=Pa();function n(a){return e(a,r,t)}return Fl=n,Fl}var Tl,Gg;function CF(){if(Gg)return Tl;Gg=1;var e=Wd(),t=hp(),r=DE(),n=kp();function a(s,i){if(s==null)return{};var o=e(n(s),function(u){return[u]});return i=t(i),r(s,o,function(u,c){return i(u,c[0])})}return Tl=a,Tl}var _l,Yg;function PF(){if(Yg)return _l;Yg=1;var e=hp(),t=DF(),r=CF();function n(a,s){return r(a,t(e(s)))}return _l=n,_l}var OF=PF();const FE=Dt(OF);function hs(e){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function AF(e,t){if(hs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SF(e){var t=AF(e,"string");return hs(t)==="symbol"?t:String(t)}function ha(e,t,r){return t=SF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TE=new WeakMap,_E=new WeakMap;class Fp{}class So extends Fp{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),ha(this,"offset",void 0),ha(this,"path",void 0);var{offset:r,path:n}=t;this.offset=r,this.path=n}}class Bo extends Fp{constructor(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),ha(this,"offset",void 0),ha(this,"path",void 0);var{offset:r,path:n}=t;this.offset=r,this.path=n}}var BF=(e,t)=>{var r=e.text.length;TE.set(e,[r,t])},kF=e=>TE.get(e),FF=(e,t)=>{var r=e.text.length;_E.set(e,[r,t])},TF=e=>_E.get(e);function Jg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jg(Object(r),!0).forEach(function(n){ha(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ei=new WeakSet,ko=e=>{var t=[],r=a=>{if(a!=null){var s=t[t.length-1];if(typeof a=="string"){var i={text:a};Ei.add(i),a=i}if(ce.isText(a)){var o=a;ce.isText(s)&&Ei.has(s)&&Ei.has(o)&&ce.equals(s,o,{loose:!0})?s.text+=o.text:t.push(o)}else if(pe.isElement(a))t.push(a);else if(a instanceof Fp){var u=t[t.length-1];ce.isText(u)||(r(""),u=t[t.length-1]),a instanceof So?BF(u,a):a instanceof Bo&&FF(u,a)}else throw new Error("Unexpected hyperscript child object: ".concat(a))}};for(var n of e.flat(1/0))r(n);return t};function _F(e,t,r){return new So(t)}function NF(e,t,r){return[new So(t),new Bo(t)]}function NE(e,t,r){return vd(vd({},t),{},{children:ko(r)})}function RF(e,t,r){return new Bo(t)}function jF(e,t,r){return ko(r)}function IF(e,t,r){var n=r.find(s=>s instanceof So),a=r.find(s=>s instanceof Bo);if(!n||n.offset==null||n.path==null)throw new Error("The <selection> hyperscript tag must have an <anchor> tag as a child with `path` and `offset` attributes defined.");if(!a||a.offset==null||a.path==null)throw new Error("The <selection> hyperscript tag must have a <focus> tag as a child with `path` and `offset` attributes defined.");return vd({anchor:{offset:n.offset,path:n.path},focus:{offset:a.offset,path:a.path}},t)}function $F(e,t,r){var n=ko(r);if(n.length>1)throw new Error("The <text> hyperscript tag must only contain a single node's worth of children.");var[a]=n;if(a==null&&(a={text:""}),!ce.isText(a))throw new Error(`
    The <text> hyperscript tag can only contain text content as children.`);return Ei.delete(a),Object.assign(a,t),a}var MF=e=>(t,r,n)=>{var a=[],s;for(var i of n)H.isRange(i)?s=i:a.push(i);var o=ko(a),u={},c=e();Object.assign(c,r),c.children=o;for(var[l,f]of te.texts(c)){var d=kF(l),v=TF(l);if(d!=null){var[h]=d;u.anchor={path:f,offset:h}}if(v!=null){var[g]=v;u.focus={path:f,offset:g}}}if(u.anchor&&!u.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<anchor />`. For collapsed selections, use `<cursor />` instead.");if(!u.anchor&&u.focus)throw new Error("Slate hyperscript ranges must have both `<anchor />` and `<focus />` defined if one is defined, but you only defined `<focus />`. For collapsed selections, use `<cursor />` instead.");return s!=null?c.selection=s:H.isRange(u)&&(c.selection=u),c};function Zg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zg(Object(r),!0).forEach(function(n){ha(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var LF={anchor:_F,cursor:NF,editor:MF(fw),element:NE,focus:RF,fragment:jF,selection:IF,text:$F},zF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{elements:r={}}=t,n=UF(r),a=es(es(es({},LF),n),t.creators),s=qF(a);return s},qF=e=>{var t=function(n,a){for(var s=arguments.length,i=new Array(s>2?s-2:0),o=2;o<s;o++)i[o-2]=arguments[o];var u=e[n];if(!u)throw new Error("No hyperscript creator found for tag: <".concat(n,">"));a==null&&(a={}),Et(a)||(i=[a].concat(i),a={}),i=i.filter(l=>!!l).flat();var c=u(n,a,i);return c};return t},UF=e=>{var t={},r=function(){var s=e[n];if(typeof s!="object")throw new Error("Properties specified for a hyperscript shorthand should be an object, but for the custom element <".concat(n,">  tag you passed: ").concat(s));t[n]=(i,o,u)=>NE("element",es(es({},s),o),u)};for(var n in e)r();return t},Oa=zF(),Nl,Xg;function WF(){if(Xg)return Nl;Xg=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a&&r(t[n],n,t)!==!1;);return t}return Nl=e,Nl}var Rl,Qg;function VF(){if(Qg)return Rl;Qg=1;var e=Ca(),t=Ls();function r(n,a){return n&&e(a,t(a),n)}return Rl=r,Rl}var jl,ey;function HF(){if(ey)return jl;ey=1;var e=Ca(),t=Pa();function r(n,a){return n&&e(a,t(a),n)}return jl=r,jl}var Il,ty;function KF(){if(ty)return Il;ty=1;var e=Ca(),t=ip();function r(n,a){return e(n,t(n),a)}return Il=r,Il}var $l,ry;function GF(){if(ry)return $l;ry=1;var e=Ca(),t=kE();function r(n,a){return e(n,t(n),a)}return $l=r,$l}var Ml,ny;function YF(){if(ny)return Ml;ny=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var a=n.length,s=new n.constructor(a);return a&&typeof n[0]=="string"&&t.call(n,"index")&&(s.index=n.index,s.input=n.input),s}return Ml=r,Ml}var Ll,ay;function JF(){if(ay)return Ll;ay=1;var e=gp();function t(r,n){var a=n?e(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}return Ll=t,Ll}var zl,sy;function ZF(){if(sy)return zl;sy=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return zl=t,zl}var ql,iy;function XF(){if(iy)return ql;iy=1;var e=qd(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(a){return r?Object(r.call(a)):{}}return ql=n,ql}var Ul,oy;function QF(){if(oy)return Ul;oy=1;var e=gp(),t=JF(),r=ZF(),n=XF(),a=Kw(),s="[object Boolean]",i="[object Date]",o="[object Map]",u="[object Number]",c="[object RegExp]",l="[object Set]",f="[object String]",d="[object Symbol]",v="[object ArrayBuffer]",h="[object DataView]",g="[object Float32Array]",x="[object Float64Array]",y="[object Int8Array]",p="[object Int16Array]",w="[object Int32Array]",C="[object Uint8Array]",P="[object Uint8ClampedArray]",_="[object Uint16Array]",R="[object Uint32Array]";function E(A,S,B){var k=A.constructor;switch(S){case v:return e(A);case s:case i:return new k(+A);case h:return t(A,B);case g:case x:case y:case p:case w:case C:case P:case _:case R:return a(A,B);case o:return new k;case u:case f:return new k(A);case c:return r(A);case l:return new k;case d:return n(A)}}return Ul=E,Ul}var Wl,uy;function eT(){if(uy)return Wl;uy=1;var e=Do(),t=sn(),r="[object Map]";function n(a){return t(a)&&e(a)==r}return Wl=n,Wl}var Vl,cy;function tT(){if(cy)return Vl;cy=1;var e=eT(),t=up(),r=cp(),n=r&&r.isMap,a=n?t(n):e;return Vl=a,Vl}var Hl,ly;function rT(){if(ly)return Hl;ly=1;var e=Do(),t=sn(),r="[object Set]";function n(a){return t(a)&&e(a)==r}return Hl=n,Hl}var Kl,fy;function nT(){if(fy)return Kl;fy=1;var e=rT(),t=up(),r=cp(),n=r&&r.isSet,a=n?t(n):e;return Kl=a,Kl}var Gl,dy;function RE(){if(dy)return Gl;dy=1;var e=bo(),t=WF(),r=yp(),n=VF(),a=HF(),s=Hw(),i=Gw(),o=KF(),u=GF(),c=kw(),l=kp(),f=Do(),d=YF(),v=QF(),h=Yw(),g=Sr(),x=wo(),y=tT(),p=ir(),w=nT(),C=Ls(),P=Pa(),_=1,R=2,E=4,A="[object Arguments]",S="[object Array]",B="[object Boolean]",k="[object Date]",T="[object Error]",j="[object Function]",L="[object GeneratorFunction]",J="[object Map]",I="[object Number]",Y="[object Object]",W="[object RegExp]",Z="[object Set]",ie="[object String]",le="[object Symbol]",oe="[object WeakMap]",me="[object ArrayBuffer]",ue="[object DataView]",ye="[object Float32Array]",be="[object Float64Array]",Te="[object Int8Array]",$="[object Int16Array]",z="[object Int32Array]",M="[object Uint8Array]",q="[object Uint8ClampedArray]",se="[object Uint16Array]",ne="[object Uint32Array]",m={};m[A]=m[S]=m[me]=m[ue]=m[B]=m[k]=m[ye]=m[be]=m[Te]=m[$]=m[z]=m[J]=m[I]=m[Y]=m[W]=m[Z]=m[ie]=m[le]=m[M]=m[q]=m[se]=m[ne]=!0,m[T]=m[j]=m[oe]=!1;function D(O,G,he,Ce,_e,Pe){var qe,Nt=G&_,He=G&R,Bt=G&E;if(he&&(qe=_e?he(O,Ce,_e,Pe):he(O)),qe!==void 0)return qe;if(!p(O))return O;var Rt=g(O);if(Rt){if(qe=d(O),!Nt)return i(O,qe)}else{var Ne=f(O),Ke=Ne==j||Ne==L;if(x(O))return s(O,Nt);if(Ne==Y||Ne==A||Ke&&!_e){if(qe=He||Ke?{}:h(O),!Nt)return He?u(O,a(qe,O)):o(O,n(qe,O))}else{if(!m[Ne])return _e?O:{};qe=v(O,Ne,Nt)}}Pe||(Pe=new e);var ur=Pe.get(O);if(ur)return ur;Pe.set(O,qe),w(O)?O.forEach(function($t){qe.add(D($t,G,he,$t,O,Pe))}):y(O)&&O.forEach(function($t,jt){qe.set(jt,D($t,G,he,jt,O,Pe))});var tr=Bt?He?l:c:He?P:C,cn=Rt?void 0:tr(O);return t(cn||O,function($t,jt){cn&&(jt=$t,$t=O[jt]),r(qe,jt,D($t,G,he,jt,O,Pe))}),qe}return Gl=D,Gl}var Yl,py;function aT(){if(py)return Yl;py=1;var e=RE(),t=1,r=4;function n(a){return e(a,t|r)}return Yl=n,Yl}var sT=aT();const oa=Dt(sT);var Jl,hy;function iT(){if(hy)return Jl;hy=1;var e=bp(),t=ir();function r(n,a,s,i,o,u){return t(n)&&t(a)&&(u.set(a,n),e(n,a,void 0,r,u),u.delete(a)),n}return Jl=r,Jl}var Zl,vy;function oT(){if(vy)return Zl;vy=1;var e=Zw(),t=xp(),r=iT(),n=xE(),a=t(function(s){return s.push(void 0,r),e(n,void 0,s)});return Zl=a,Zl}oT();function Kn(e){return typeof e=="function"}function Ir(e,...t){return wE({},e,...t,(r,n,a)=>{if(Array.isArray(n))return n;if(a==="options")return{...r,...n}})}function we(e={}){let t,r;Kn(e)?(t={key:""},r=s=>e(s)):t=e;const n=t.key??"",a=Ir({key:n,__apiExtensions:[],__configuration:null,__extensions:r?[r]:[],__selectorExtensions:[],api:{},dependencies:[],editor:{},handlers:{},inject:{},node:{type:n},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},rules:{},shortcuts:{},transforms:{}},e);return a.node.isLeaf&&!Ve(a.node.isDecoration)&&(a.node.isDecoration=!0),a.configure=s=>{const i={...a};return i.__configuration=o=>Kn(s)?s(o):s,we(i)},a.configurePlugin=(s,i)=>{const o={...a},u=l=>{let f=!1;const d=l.map(v=>{if(v.key===s.key)return f=!0,we({...v,__configuration:h=>Kn(i)?i(h):i});if(v.plugins&&v.plugins.length>0){const h=u(v.plugins);if(h.found)return f=!0,{...v,plugins:h.plugins}}return v});return{found:f,plugins:d}},c=u(o.plugins);return o.plugins=c.plugins,we(o)},a.extendEditorApi=s=>{const i={...a};return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!1}],we(i)},a.extendSelectors=s=>{const i={...a};return i.__selectorExtensions=[...i.__selectorExtensions,s],we(i)},a.extendApi=s=>{const i={...a};return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!0}],we(i)},a.extendEditorTransforms=s=>{const i={...a};return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!1,isTransform:!0}],we(i)},a.extendTransforms=s=>{const i={...a};return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!0,isTransform:!0}],we(i)},a.overrideEditor=s=>{const i={...a};return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isOverride:!0,isPluginSpecific:!1,isTransform:!0}],we(i)},a.extend=s=>{let i={...a};return Kn(s)?i.__extensions=[...i.__extensions,s]:i=Ir(i,s),we(i)},a.clone=()=>Ir(a),a.extendPlugin=(s,i)=>{const o={...a},u=l=>{let f=!1;const d=l.map(v=>{if(v.key===s.key)return f=!0,we({...v,__extensions:[...v.__extensions,h=>Kn(i)?i(h):i]});if(v.plugins&&v.plugins.length>0){const h=u(v.plugins);if(h.found)return f=!0,{...v,plugins:h.plugins}}return v});return{found:f,plugins:d}},c=u(o.plugins);return o.plugins=c.plugins,c.found||o.plugins.push(we({key:s.key,__extensions:[l=>Kn(i)?i(l):i]})),we(o)},a.withComponent=s=>a.extend({node:{component:s},render:{node:s}}),a}function dt(e={}){return we(e)}function pt(e,t){const r=e.getPlugin(t);return{api:e.api,editor:e,plugin:r,setOption:(n,a)=>e.setOption(r,n,a),setOptions:n=>e.setOptions(r,n),tf:e.transforms,type:r.node.type,getOption:(n,...a)=>e.getOption(r,n,...a),getOptions:()=>e.getOptions(r)}}var jE=(e,t)=>{let r=Ir({},t);if(r.__resolved=!0,r.__configuration){const s=r.__configuration(pt(e,r));r=Ir(r,s),delete r.__configuration}r.__extensions&&r.__extensions.length>0&&(r.__extensions.forEach(s=>{r=Ir(r,s(pt(e,r)))}),r.__extensions=[]);const n=r.inject?.targetPluginToInject,a=r.inject?.targetPlugins;return n&&a&&a.length>0&&(r.inject=r.inject||{},r.inject.plugins=We({},r.inject.plugins,Object.fromEntries(a.map(s=>{const i=n({...pt(e,r),targetPlugin:s});return[s,i]})))),r.node?.component&&(r.render.node=r.node.component),r.render?.node&&(r.node.component=r.render.node),uT(e,r),r},uT=(e,t)=>{t.__extensions||e.api.debug.error(`Invalid plugin '${t.key}', you should use createSlatePlugin.`,"USE_CREATE_PLUGIN"),t.node.isElement&&t.node.isLeaf&&e.api.debug.error(`Plugin ${t.key} cannot be both an element and a leaf.`,"PLUGIN_NODE_TYPE")};function cT(e,t){let r=t;const n=e.plugins[t.key];return n||(r.node||(r=we(r)),r.__resolved?r:jE(e,r))}function lT(e,t){const r=e.getPlugin({key:t});return r.node.type??r.key??""}var fT=(e,t)=>t.map(r=>e.getType(r)),dT=(e,t)=>e.meta.pluginCache.node.types[t],nn=(e,t)=>{const r=dT(e,t);return r?e.getPlugin({key:r}):null},pT=(e,t=[])=>{e.plugins={},e.meta.pluginList=[],e.meta.shortcuts={},e.meta.components={},e.meta.pluginCache={decorate:[],handlers:{onChange:[]},inject:{nodeProps:[]},node:{isContainer:[],isElement:[],isInline:[],isLeaf:[],isMarkableVoid:[],isNotSelectable:[],isStrictSiblings:[],isVoid:[],types:{}},normalizeInitialValue:[],render:{aboveEditable:[],aboveNodes:[],aboveSlate:[],afterContainer:[],afterEditable:[],beforeContainer:[],beforeEditable:[],belowNodes:[],belowRootNodes:[]},rules:{match:[]},useHooks:[]};const r=yT(e,t);return bT(e,r),xT(e),hT(e),e.meta.pluginList.forEach(n=>{n.extendEditor&&(e=n.extendEditor(pt(e,n)),vp(e)),vT(e,n),n.node?.isContainer&&e.meta.pluginCache.node.isContainer.push(n.key),e.meta.pluginCache.node.types[n.node.type]=n.key,n.inject?.nodeProps&&e.meta.pluginCache.inject.nodeProps.push(n.key),n.render?.node&&(e.meta.components[n.key]=n.render.node),n.node?.isLeaf&&e.meta.pluginCache.node.isLeaf.push(n.key),n.node?.isElement&&e.meta.pluginCache.node.isElement.push(n.key),n.node?.isInline&&e.meta.pluginCache.node.isInline.push(n.key),n.node?.isVoid&&e.meta.pluginCache.node.isVoid.push(n.key),n.node?.isMarkableVoid&&e.meta.pluginCache.node.isMarkableVoid.push(n.key),n.node?.isStrictSiblings&&e.meta.pluginCache.node.isStrictSiblings.push(n.key),n.node?.isSelectable===!1&&e.meta.pluginCache.node.isNotSelectable.push(n.key),n.render.aboveEditable&&e.meta.pluginCache.render.aboveEditable.push(n.key),n.render.aboveSlate&&e.meta.pluginCache.render.aboveSlate.push(n.key),n.render.afterEditable&&e.meta.pluginCache.render.afterEditable.push(n.key),n.render.beforeEditable&&e.meta.pluginCache.render.beforeEditable.push(n.key),n.rules?.match&&e.meta.pluginCache.rules.match.push(n.key),n.render.afterContainer&&e.meta.pluginCache.render.afterContainer.push(n.key),n.render.beforeContainer&&e.meta.pluginCache.render.beforeContainer.push(n.key),n.render.belowRootNodes&&e.meta.pluginCache.render.belowRootNodes.push(n.key),n.normalizeInitialValue&&e.meta.pluginCache.normalizeInitialValue.push(n.key),n.decorate&&e.meta.pluginCache.decorate.push(n.key),n.render.aboveNodes&&e.meta.pluginCache.render.aboveNodes.push(n.key),n.render.belowNodes&&e.meta.pluginCache.render.belowNodes.push(n.key),n.useHooks&&e.meta.pluginCache.useHooks.push(n.key),n.handlers?.onChange&&e.meta.pluginCache.handlers.onChange.push(n.key)}),mT(e),e},hT=e=>{e.meta.pluginList.forEach(t=>{let r=Us(t.options,{mutative:!0,name:t.key});t.__selectorExtensions&&t.__selectorExtensions.length>0&&t.__selectorExtensions.forEach(n=>{const a=n(pt(e,t));r=r.extendSelectors(()=>a)}),t.optionsStore=r})},vT=(e,t)=>{Object.entries(t.api).forEach(([r,n])=>{e.api[r]=n}),t.__apiExtensions&&t.__apiExtensions.length>0&&(t.__apiExtensions.forEach(({extension:r,isOverride:n,isPluginSpecific:a,isTransform:s})=>{const i=r(pt(e,t));n?(i.api&&(We(e.api,i.api),We(t.api,i.api),Li(e,e.api)),i.transforms&&(We(e.transforms,i.transforms),We(t.transforms,i.transforms),Mi(e,i.transforms))):s?a?(e.transforms[t.key]||(e.transforms[t.key]={}),t.transforms[t.key]||(t.transforms[t.key]={}),We(e.transforms[t.key],i),We(t.transforms[t.key],i)):(We(e.transforms,i),We(t.transforms,i),Mi(e,i)):a?(e.api[t.key]||(e.api[t.key]={}),t.api[t.key]||(t.api[t.key]={}),We(e.api[t.key],i),We(t.api[t.key],i)):(We(e.api,i),We(t.api,i),Li(e,e.api))}),delete t.__apiExtensions)},mT=e=>{e.meta.shortcuts={},e.meta.pluginList.forEach(t=>{Object.entries(t.shortcuts).forEach(([r,n])=>{const a=`${t.key}.${r}`;if(n===null)delete e.meta.shortcuts[a];else if(n&&typeof n=="object"){const s={...n};if(!s.handler){const i=t.transforms?.[t.key],o=t.api?.[t.key];i?.[r]?s.handler=()=>i[r]():o?.[r]&&(s.handler=()=>o[r]())}s.priority=s.priority??t.priority,e.meta.shortcuts[a]=s}})})},gT=(e,t)=>{const r=new Map,n=a=>{const s=jE(e,a);if(s.key){const i=r.get(s.key);i?r.set(s.key,Ir(i,s)):r.set(s.key,s)}s.plugins&&s.plugins.length>0&&s.plugins.forEach(n)};return t.forEach(n),r},yT=(e,t)=>{const r=gT(e,t),n=Array.from(r.values()).filter(o=>o.enabled!==!1);n.sort((o,u)=>u.priority-o.priority);const a=[],s=new Set,i=o=>{s.has(o.key)||(s.add(o.key),o.dependencies?.forEach(u=>{const c=r.get(u);c?i(c):e.api.debug.warn(`Plugin "${o.key}" depends on missing plugin "${u}"`,"PLUGIN_DEPENDENCY_MISSING")}),a.push(o))};return n.forEach(i),a},bT=(e,t)=>{e.meta.pluginList=t,e.plugins=Object.fromEntries(t.map(r=>[r.key,r]))},xT=e=>{const t=r=>{let n=[...r];const a={},s={},i={};for(const o of r)o.override.enabled&&Object.assign(a,o.override.enabled),o.override.components&&Object.entries(o.override.components).forEach(([u,c])=>{(!s[u]||o.priority>s[u].priority)&&(s[u]={component:c,priority:o.priority})}),o.override.plugins&&Object.entries(o.override.plugins).forEach(([u,c])=>{i[u]=Ir(i[u],c),c.enabled!==void 0&&(a[u]=c.enabled)});return n=n.map(o=>{let u={...o};i[o.key]&&(u=Ir(u,i[o.key])),s[o.key]&&(!o.render.node&&!o.node.component||s[o.key].priority>o.priority)&&(u.render.node=s[o.key].component,u.node.component=s[o.key].component);const c=a[o.key]??u.enabled;return Ve(c)&&(u.enabled=c),u}),n.filter(o=>o.enabled!==!1).map(o=>({...o,plugins:t(o.plugins||[])}))};e.meta.pluginList=t(e.meta.pluginList),e.plugins=Object.fromEntries(e.meta.pluginList.map(r=>[r.key,r]))},wT=we({key:"ast",parser:{format:"application/x-slate-fragment",deserialize:({data:e})=>{const t=decodeURIComponent(window.atob(e));let r;try{r=JSON.parse(t)}catch{}return r}}}),ET=({editor:e})=>Uw(e),DT=we({key:"history",extendEditor:ET}),Fo=we({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{rules:[{validNodeName:"P"}],query:({element:e})=>e.style.fontFamily!=="Consolas"}}},rules:{merge:{removeEmpty:!0}}}),CT=e=>{const{editor:t,tf:{insertBreak:r}}=e,n=(s,i,o)=>{const u=t.meta.pluginCache.rules.match;for(const c of u){const l=t.getPlugin({key:c});if(l.rules?.break&&l.rules?.match?.({...e,node:i,path:o,rule:s}))return l.rules.break}return null},a=(s,i)=>s==="reset"?(t.tf.resetBlock({at:i}),!0):s==="exit"?(t.tf.insertExitBreak(),!0):s==="deleteExit"?(t.tf.deleteBackward("character"),t.tf.insertExitBreak(),!0):s==="lineBreak"?(t.tf.insertSoftBreak(),!0):!1;return{transforms:{insertBreak(){if(t.selection&&t.api.isCollapsed()){const s=t.api.block();if(s){const[i,o]=s,c=nn(t,i.type)?.rules.break;if(t.api.isEmpty(t.selection,{block:!0})){const x=(n("break.empty",i,o)||c)?.empty;if(a(x,o))return}if(!t.api.isEmpty(t.selection,{block:!0})&&t.api.isAt({end:!0})){const h=t.api.range("before",t.selection);if(h&&t.api.string(h)===`
`){const p=(n("break.emptyLineEnd",i,o)||c)?.emptyLineEnd;if(a(p,o))return}}const f=(n("break.default",i,o)||c)?.default;if(a(f,o))return;if(n("break.splitReset",i,o)?.splitReset??c?.splitReset){const h=t.api.isAt({start:!0});r(),t.tf.resetBlock({at:h?o:fe.next(o)});return}}}r()}}}},PT=e=>{const{editor:t,tf:{deleteBackward:r,deleteForward:n,deleteFragment:a}}=e,s=()=>{t.api.isAt({start:!0})&&t.tf.removeMarks()},i=(u,c,l)=>{const f=t.meta.pluginCache.rules.match;for(const d of f){const v=t.getPlugin({key:d});if(v.rules?.delete&&v.rules?.match?.({...e,node:c,path:l,rule:u}))return v.rules.delete}return null},o=(u,c)=>u==="reset"?(t.tf.resetBlock({at:c}),!0):!1;return{transforms:{deleteBackward(u){if(t.selection&&t.api.isCollapsed()){const c=t.api.block();if(c){const[l,f]=c,v=nn(t,l.type)?.rules.delete;if(t.api.isAt({start:!0})){const x=(i("delete.start",l,f)||v)?.start;if(o(x,f))return}if(t.api.isEmpty(t.selection,{block:!0})){const x=(i("delete.empty",l,f)||v)?.empty;if(o(x,f))return}}if(rn.equals(t.selection.anchor,t.api.start([]))){t.tf.resetBlock({at:[0]});return}}r(u),s()},deleteForward(u){n(u),s()},deleteFragment(u){if(t.selection&&Me.equals(t.selection,t.api.range([]))){t.tf.reset({children:!0,select:!0});return}a(u),s()}}}},OT=e=>{const{editor:t,tf:{removeNodes:r}}=e,n=(a,s,i)=>{const o=t.meta.pluginCache.rules.match;for(const u of o){const c=t.getPlugin({key:u});if(c.rules.merge&&c.rules?.match?.({...e,node:s,path:i,rule:a}))return c.rules.merge}return null};return{api:{shouldMergeNodes(a,s,{reverse:i}={}){const[o,u]=a,[,c]=s,[l,f]=i?a:s,[d,v]=i?s:a;if(Ge.isText(o)&&o.text===""&&u.at(-1)!==0)return t.tf.removeNodes({at:u}),!1;const h=(g,x)=>{const y=nn(t,g.type);return y?!(!y.rules.merge?.removeEmpty||n("merge.removeEmpty",g,x)?.removeEmpty===!1):!0};return ve.isElement(d)&&t.api.isVoid(d)?(h(d,v)?t.tf.removeNodes({at:u}):ve.isElement(l)&&t.api.isEmpty(l)&&t.tf.removeNodes({at:f}),!1):ve.isElement(o)&&t.api.isEmpty(o)&&fe.isSibling(u,c)&&h(o,u)?(t.tf.removeNodes({at:u}),!1):!0}},transforms:{removeNodes(a={}){if(a.event?.type==="mergeNodes"&&a.at){const s=t.api.node(a.at);if(s){const[i,o]=s;if(ve.isElement(i)){const u=nn(t,i.type);if(u){const c=u.rules.merge;if(n("merge.removeEmpty",i,o)?.removeEmpty===!1||c?.removeEmpty===!1)return}}}}r(a)}}}},AT=e=>{const{editor:t,tf:{normalizeNode:r}}=e,n=(a,s,i)=>{const o=t.meta.pluginCache.rules.match;for(const u of o){const c=t.getPlugin({key:u});if(c.rules?.normalize&&c.rules?.match?.({...e,node:s,path:i,rule:a}))return c.rules.normalize}return null};return{transforms:{normalizeNode([a,s]){if(ve.isElement(a)&&a.type){const o=nn(t,a.type)?.rules.normalize;if((n("normalize.removeEmpty",a,s)||o)?.removeEmpty&&t.api.isEmpty(a)){t.tf.removeNodes({at:s});return}}r([a,s])}}}},ST=({api:{isInline:e,isSelectable:t,isVoid:r,markableVoid:n},editor:a})=>{const s=a.meta.pluginCache.node.isVoid,i=a.meta.pluginCache.node.isInline,o=a.meta.pluginCache.node.isMarkableVoid,u=a.meta.pluginCache.node.isNotSelectable;return{api:{create:{block:c=>({children:[{text:""}],type:a.getType(Fo.key),...c})},isInline(c){return i.includes(c.type)?!0:e(c)},isSelectable(c){return u.includes(c.type)?!1:t(c)},isVoid(c){return s.includes(c.type)?!0:r(c)},markableVoid(c){return o.includes(c.type)?!0:n(c)}}}},BT=we({key:"override"}).overrideEditor(ST).overrideEditor(CT).overrideEditor(PT).overrideEditor(OT).overrideEditor(AT),kT=(e,t,{fragment:r,...n})=>{e.tf.withoutNormalizing(()=>{t.some(a=>a.parser?.preInsert?.({...pt(e,a),fragment:r,...n})===!0),e.tf.insertFragment(r)})},FT=(e,t,{data:r,dataTransfer:n})=>(t.forEach(a=>{const s=a.parser?.transformData;s&&(r=s({...pt(e,a),data:r,dataTransfer:n}))}),r),TT=(e,t,{fragment:r,...n})=>(t.forEach(a=>{const s=a.parser?.transformFragment;s&&(r=s({fragment:r,...n,...pt(e,a)}))}),r),vs=({apply:e,node:t,path:r=[],query:n,source:a})=>{un([t,r],n)&&(typeof a=="function"?e(t,a()):e(t,a)),ge.isAncestor(t)&&t.children.forEach((i,o)=>{vs({apply:e,node:i,path:r.concat([o]),query:n,source:a})})},_T=e=>{vs({...e,apply:EE})},NT=(e,t)=>Object.values(e.plugins).filter(r=>t.includes(r.node.type)).map(r=>r.key),my=(e,t)=>Object.values(e.plugins).find(n=>n.node.type===t)?.key??t,ms=(e,t)=>(r,n)=>{const{inject:{excludeBelowPlugins:a,excludePlugins:s,isBlock:i,isElement:o,isLeaf:u,maxLevel:c,targetPlugins:l}}=t,f=ve.isElement(r)?r:void 0;if(o&&!f||i&&(!f||!e.api.isBlock(f))||u&&f||f?.type&&(s?.includes(my(e,f.type))||l&&!l.includes(my(e,f.type))))return!1;if(a||c){if(c&&n.length>c)return!1;if(a){const d=NT(e,a);if(e.api.above({at:n,match:h=>ve.isElement(h)&&d.includes(h.type)}))return!1}}return!0},Tp=(e,t)=>{const r=[];return[...e.meta.pluginList].reverse().forEach(n=>{const a=n.inject.plugins?.[t.key];a&&r.push(a)}),[t,...r]},_p=(e,t)=>({...e.attributes,className:Qt(e.attributes.className,e.className)||void 0,ref:t,style:{...e.attributes.style,...e.style}}),Ws=F.forwardRef(function({as:t="div",children:r,...n},a){const s=_p(n,a),i=!!n.element.id&&!!n.editor.api.isBlock(n.element);return F.createElement(t,{"data-slate-node":"element","data-slate-inline":s["data-slate-inline"],"data-block-id":i?n.element.id:void 0,...s,style:{position:"relative",...s?.style}},r)}),IE=F.forwardRef(({as:e="span",children:t,...r},n)=>{const a=_p(r,n);return F.createElement(e,{...a},t)}),gy=()=>F.createElement("span",{style:{fontSize:0},contentEditable:!1},String.fromCodePoint(160)),$E=F.forwardRef(({as:e="span",children:t,inset:r,...n},a)=>{const s=_p(n,a);return r?F.createElement(F.Fragment,null,F.createElement(gy,null),F.createElement(e,{...s},t,F.createElement(gy,null))):F.createElement(e,{...s},t)}),Np=(e,t,{isElement:r,isLeaf:n,isText:a})=>Object.keys(t).reduce((i,o)=>{if(typeof t[o]=="object"||r&&o==="children"||(n||a)&&o==="text")return i;const u=e.getPlugin({key:o});if(n&&u?.node.isLeaf&&u?.node.isDecoration!==!0||a&&u?.node.isLeaf&&u?.node.isDecoration!==!1)return i;const c=ME(o);return{...i,[c]:t[o]}},{}),RT=(e,t,r)=>{const n=t.node.isElement,a=t.node.isLeaf&&t.node.isDecoration===!0,s=t.node.isLeaf&&t.node.isDecoration===!1,i=Np(e,r,{isElement:n,isLeaf:a,isText:s}),o=t.node.toDataAttributes?.({...t?pt(e,t):{},node:r})??{};return{...i,...o}},jT=e=>Object.keys(e).filter(t=>typeof e[t]!="object"&&(!Ge.isText(e)||t!=="text")).map(t=>ME(t)),ME=e=>`data-slate-${AE(e)}`,yy={handlers:!0,inject:!0,normalizeInitialValue:!1,render:!0},LE=(e,t,r)=>e?t.editOnly===!0?yy[r]:typeof t.editOnly=="object"?t.editOnly[r]??yy[r]:!1:!1,IT=(e,t,r,n)=>{const{key:a,inject:{nodeProps:s}}=t,{element:i,text:o}=r,u=i??o;if(!u||!s)return;const{classNames:c,defaultNodeValue:l,nodeKey:f=e.getType(a),query:d,styleKey:v=f,transformClassName:h,transformNodeValue:g,transformProps:x,transformStyle:y,validNodeValues:p}=s;if(!ms(e,t)(u,n(u)))return;const C=d?.({...s,...pt(e,t),nodeProps:r});if(d&&!C)return;const P=u[f];if(!x&&(!Ve(P)||p&&!p.includes(P)||P===l))return;const _={...r,...pt(e,t),nodeValue:P},R=g?.(_)??P;_.value=R;let E={};return i&&f&&P&&(E.className=`slate-${f}-${P}`),(c?.[P]||h)&&(E.className=h?.(_)??c?.[R]),v&&(E.style=y?.(_)??{[v]:R}),x&&(E=x({..._,props:E})??E),E},$T=(e,t,r,n=!1)=>(e.meta.pluginCache.inject.nodeProps.forEach(a=>{const s=e.getPlugin({key:a}),i=IT(e,s,t,r);if(LE(n,s,"inject")||!i)return;const o=t.attributes;t.attributes={...o,...i,className:Qt(o?.className,i.className)||void 0,style:{...o?.style,...i.style}}}),t),Aa=({attributes:e,editor:t,node:r,plugin:n,props:a})=>{let s={...a,...n?pt(t,n):{api:t.api,editor:t,tf:t.transforms}};const{className:i}=a,o=r_({attributes:e,node:r,plugin:n,props:s});return s={...o,attributes:{...o.attributes,className:Qt(n_(n?.node.type),i)||void 0}},s=$T(t,s,u=>t.api.findPath(u)),s.style&&Object.keys(s.style).length===0&&delete s.style,s},MT=(e,t)=>{if(e.meta.pluginCache.decorate.length!==0)return r=>{let n=[];const a=s=>{s?.length&&(n=[...n,...s])};return e.meta.pluginCache.decorate.forEach(s=>{const i=e.getPlugin({key:s});a(i.decorate({...pt(e,i),entry:r}))}),n}},LT=(e,t)=>function(n){if(n.element.type===t.node.type){const a=n.element,s=e.meta.components?.[t.key],i=s??Ws;let{children:o}=n;const u=RT(e,t,a);n=Aa({attributes:{...a.attributes,...u},editor:e,node:a,plugin:t,props:n}),e.meta.pluginCache.render.belowNodes.forEach(f=>{const d=e.getPlugin({key:f}).render.belowNodes({...n,key:f});d&&(o=d({...n,children:o}))});const c=s?{}:{as:t.render?.as};let l=F.createElement(i,{...c,...n},o,e.meta.pluginCache.render.belowRootNodes.map(f=>{const v=e.getPlugin({key:f}).render.belowRootNodes;return F.createElement(v,{key:f,...c,...n})}));return e.meta.pluginCache.render.aboveNodes.forEach(f=>{const d=e.getPlugin({key:f}).render.aboveNodes({...n,key:f});d&&(l=d({...n,children:l}))}),l}},zT=(e,{renderElement:t}={})=>function(n){let a;if(e.meta.pluginCache.node.isElement.some(i=>{const o=e.getPlugin({key:i});return a=LT(e,o)(n),!!a}),a)return a;if(t)return t(n);const s=Aa({editor:e,props:{...n}});return F.createElement(Ws,{...s},n.children,e.meta.pluginCache.render.belowRootNodes.map(i=>{const u=e.getPlugin({key:i}).render.belowRootNodes;return F.createElement(u,{key:i,...s})}))},qT=(e,t)=>function(n){const{children:a,text:s}=n;if(s[t.node.type??t.key]){const i=e.meta.components?.[t.key],o=i??IE,u=Aa({attributes:{...s.attributes},editor:e,node:s,plugin:t,props:n}),c=i?{}:{as:t.render?.as};return F.createElement(o,{...c,...u},a)}return a},UT=(e,{renderText:t}={})=>{const r=[],n=[];return e.meta.pluginList.forEach(a=>{a.node.isLeaf&&a.node.isDecoration===!1&&r.push(qT(e,a)),a.node.textProps&&n.push(a)}),function({attributes:s,...i}){if(r.forEach(l=>{const f=l(i);f!==void 0&&(i.children=f)}),n.forEach(l=>{if(i.text[l.node.type??l.key]){const f=typeof l.node.textProps=="function"?l.node.textProps(i):l.node.textProps??{};f.className&&(f.className=Qt(i.className,f.className)),s={...s,...f}}}),t)return t({attributes:s,...i});const o=Aa({editor:e,props:{attributes:s,...i}}),u=o.text,c=Np(e,u,{isText:!0});return F.createElement(IE,{...o,attributes:{...o.attributes,...c}})}};function WT({decorate:e,decorations:t,editor:r,element:n={children:[],type:""}}){const a=zT(r),s={"data-slate-node":"element",ref:null};let i=F.createElement(md,{decorate:e,decorations:t,editor:r},n.children);return r.api.isVoid(n)&&(s["data-slate-void"]=!0,i=F.createElement("span",{style:{color:"transparent",height:"0",outline:"none",position:"absolute"},"data-slate-spacer":!0},F.createElement(md,{decorate:e,decorations:t,editor:r},n.children))),r.api.isInline(n)&&(s["data-slate-inline"]=!0),F.createElement(F.Fragment,null,a?.({attributes:s,children:i,element:n}))}var VT=F.memo(WT,(e,t)=>(e.element===t.element||e.element._memo!==void 0&&e.element._memo===t.element._memo)&&yo(e.decorations,t.decorations));function HT({decorations:e,editor:t,text:r={text:""}}){const n=ZT(t),a=UT(t),i=Ge.decorations(r,e).map(({leaf:o,position:u},c)=>{const l=n({attributes:{"data-slate-leaf":!0},children:F.createElement("span",{"data-slate-string":!0},o.text===""?"\uFEFF":o.text),leaf:o,leafPosition:u,text:o});return F.createElement(F.Fragment,{key:c},l)});return a({attributes:{"data-slate-node":"text",ref:null},children:i,text:r})}var KT=F.memo(HT,(e,t)=>Ge.equals(t.text,e.text)&&rp(t.decorations,e.decorations)),GT=()=>[];function md({children:e=[],decorate:t=GT,decorations:r=[],editor:n}){return F.createElement(F.Fragment,null,e.map((a,s)=>{const i=n.api.findPath(a);let o=[];if(i){const u=n.api.range(i);o=t([a,i]);for(const c of r){const l=Me.intersection(c,u);l&&o.push(l)}}return ve.isElement(a)?F.createElement(VT,{key:s,decorate:t,decorations:o,editor:n,element:a}):F.createElement(KT,{key:s,decorations:o,editor:n,text:a})}))}function YT(e){const{className:t,editor:r,value:n,...a}=e;n&&(r.children=n);const s=MT(r);let i=null,o=null;r.meta.pluginCache.render.beforeEditable.forEach(l=>{const d=r.getPlugin({key:l}).render.beforeEditable;d&&(o=F.createElement(F.Fragment,null,o,F.createElement(d,null)))}),r.meta.pluginCache.render.afterEditable.forEach(l=>{const d=r.getPlugin({key:l}).render.afterEditable;d&&(i=F.createElement(F.Fragment,null,i,F.createElement(d,null)))});const u=F.createElement("div",{className:Qt("slate-editor",t),"data-slate-editor":!0,"data-slate-node":"value",...a},F.createElement(md,{decorate:s,decorations:[],editor:r},r.children));let c=F.createElement(F.Fragment,null,o,u,i);return r.meta.pluginCache.render.aboveEditable.forEach(l=>{const d=r.getPlugin({key:l}).render.aboveEditable;d&&(c=F.createElement(d,null,c))}),c}var JT=(e,t)=>function(n){const{children:a,leaf:s}=n;if(s[t.node.type??t.key]){const i=t.render.leaf??e.meta.components?.[t.key],o=i??$E,u=Aa({attributes:{...s.attributes},editor:e,node:s,plugin:t,props:n}),c=i?{}:{as:t.render?.as};return F.createElement(o,{...c,...u},a)}return a},ZT=(e,{renderLeaf:t}={})=>{const r=[],n=[];return e.meta.pluginList.forEach(a=>{a.node.isLeaf&&(a.node.isDecoration===!0||a.render.leaf)&&r.push(JT(e,a)),a.node.leafProps&&n.push(a)}),function({attributes:s,...i}){if(r.forEach(l=>{const f=l(i);f!==void 0&&(i.children=f)}),n.forEach(l=>{if(i.leaf[l.node.type??l.key]){const f=typeof l.node.leafProps=="function"?l.node.leafProps(i):l.node.leafProps??{};f.className&&(f.className=Qt(i.className,f.className)),s={...s,...f}}}),t)return t({attributes:s,...i});const o=Aa({editor:e,props:{attributes:s,...i}}),u=o.leaf,c=Np(e,u,{isLeaf:!0});return F.createElement($E,{...o,attributes:{...o.attributes,...c}})}},zE=e=>e.dataset.slateVoid==="true",XT=e=>e.dataset.slateNode==="element",QT=e=>e.dataset.slateNode==="text",e_=e=>e.dataset.slateString==="true",qE=e=>e.dataset.slateLeaf==="true",Ki=e=>qE(e)||XT(e)||zE(e)||e_(e)||QT(e),t_=(e,t)=>e.classList.contains(`slate-${t}`),r_=({attributes:e,node:t,plugin:r,props:n})=>{const a={...n,attributes:{...n.attributes}};if(r?.node.props){const s=(typeof r.node.props=="function"?r.node.props(a):r.node.props)??{};a.attributes={...a.attributes,...s}}return e&&r&&(a.attributes={...a.attributes,...PE(e,...r.node.dangerouslyAllowAttributes??[],[...t?jT(t):[]])}),Object.keys(a.attributes).forEach(s=>{a.attributes?.[s]===void 0&&delete a.attributes?.[s]}),a},n_=e=>e?`slate-${e}`:"",a_={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",escape:"escape",extendBackward:"shift+left",extendDownward:"shift+down",extendForward:"shift+right",extendUpward:"shift+up",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveDownward:"down",moveForward:"right",moveUpward:"up",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",selectAll:"mod+a",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},s_={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},i_={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},ze=e=>{const t=a_[e],r=s_[e],n=i_[e],a=t&&Rr.isKeyHotkey(t),s=r&&Rr.isKeyHotkey(r),i=n&&Rr.isKeyHotkey(n);return o=>!!(a?.(o)||Ti&&s?.(o)||!Ti&&i?.(o))};ze("bold"),ze("compose"),ze("deleteBackward"),ze("deleteForward"),ze("deleteLineBackward"),ze("deleteLineForward"),ze("deleteWordBackward"),ze("deleteWordForward"),ze("escape"),ze("extendBackward"),ze("extendDownward"),ze("extendForward"),ze("extendLineBackward"),ze("extendLineForward"),ze("extendUpward"),ze("italic"),ze("moveBackward"),ze("moveDownward"),ze("moveForward"),ze("moveLineBackward"),ze("moveLineForward"),ze("moveUpward"),ze("moveWordBackward"),ze("moveWordForward"),ze("redo"),ze("selectAll"),ze("insertSoftBreak"),ze("splitBlock"),ze("transposeCharacter"),ze("undo");var o_=e=>{vs({...e,apply:We})},UE=Symbol.for("immer-nothing"),by=Symbol.for("immer-draftable"),Kt=Symbol.for("immer-state");function vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var va=Object.getPrototypeOf;function ma(e){return!!e&&!!e[Kt]}function In(e){return e?WE(e)||Array.isArray(e)||!!e[by]||!!e.constructor?.[by]||_o(e)||No(e):!1}var u_=Object.prototype.constructor.toString();function WE(e){if(!e||typeof e!="object")return!1;const t=va(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===u_}function Gi(e,t){To(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function To(e){const t=e[Kt];return t?t.type_:Array.isArray(e)?1:_o(e)?2:No(e)?3:0}function gd(e,t){return To(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function VE(e,t,r){const n=To(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function c_(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function _o(e){return e instanceof Map}function No(e){return e instanceof Set}function mn(e){return e.copy_||e.base_}function yd(e,t){if(_o(e))return new Map(e);if(No(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=WE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Kt];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(va(e),n)}else{const n=va(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Rp(e,t=!1){return Ro(e)||ma(e)||!In(e)||(To(e)>1&&(e.set=e.add=e.clear=e.delete=l_),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Rp(n,!0))),e}function l_(){vr(2)}function Ro(e){return Object.isFrozen(e)}var f_={};function $n(e){const t=f_[e];return t||vr(0,e),t}var gs;function HE(){return gs}function d_(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function xy(e,t){t&&($n("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bd(e){xd(e),e.drafts_.forEach(p_),e.drafts_=null}function xd(e){e===gs&&(gs=e.parent_)}function wy(e){return gs=d_(gs,e)}function p_(e){const t=e[Kt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ey(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Kt].modified_&&(bd(t),vr(4)),In(e)&&(e=Yi(t,e),t.parent_||Ji(t,e)),t.patches_&&$n("Patches").generateReplacementPatches_(r[Kt].base_,e,t.patches_,t.inversePatches_)):e=Yi(t,r,[]),bd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==UE?e:void 0}function Yi(e,t,r){if(Ro(t))return t;const n=t[Kt];if(!n)return Gi(t,(a,s)=>Dy(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ji(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),Gi(s,(o,u)=>Dy(e,n,a,o,u,r,i)),Ji(e,a,!1),r&&e.patches_&&$n("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Dy(e,t,r,n,a,s,i){if(ma(a)){const o=s&&t&&t.type_!==3&&!gd(t.assigned_,n)?s.concat(n):void 0,u=Yi(e,a,o);if(VE(r,n,u),ma(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(In(a)&&!Ro(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Yi(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ji(e,a)}}function Ji(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Rp(t,r)}function h_(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:HE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=jp;r&&(a=[n],s=ys);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var jp={get(e,t){if(t===Kt)return e;const r=mn(e);if(!gd(r,t))return v_(e,r,t);const n=r[t];return e.finalized_||!In(n)?n:n===Xl(e.base_,t)?(Ql(e),e.copy_[t]=Ed(n,e)):n},has(e,t){return t in mn(e)},ownKeys(e){return Reflect.ownKeys(mn(e))},set(e,t,r){const n=KE(mn(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Xl(mn(e),t),s=a?.[Kt];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(c_(r,a)&&(r!==void 0||gd(e.base_,t)))return!0;Ql(e),wd(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Xl(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ql(e),wd(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=mn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){vr(11)},getPrototypeOf(e){return va(e.base_)},setPrototypeOf(){vr(12)}},ys={};Gi(jp,(e,t)=>{ys[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ys.deleteProperty=function(e,t){return ys.set.call(this,e,t,void 0)};ys.set=function(e,t,r){return jp.set.call(this,e[0],t,r,e[0])};function Xl(e,t){const r=e[Kt];return(r?mn(r):e)[t]}function v_(e,t,r){const n=KE(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function KE(e,t){if(!(t in e))return;let r=va(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=va(r)}}function wd(e){e.modified_||(e.modified_=!0,e.parent_&&wd(e.parent_))}function Ql(e){e.copy_||(e.copy_=yd(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var m_=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,n,a)=>{if(typeof r=="function"&&typeof n!="function"){const i=n;n=r;const o=this;return function(c=i,...l){return o.produce(c,f=>n.call(this,f,...l))}}typeof n!="function"&&vr(6),a!==void 0&&typeof a!="function"&&vr(7);let s;if(In(r)){const i=wy(this),o=Ed(r,void 0);let u=!0;try{s=n(o),u=!1}finally{u?bd(i):xd(i)}return xy(i,a),Ey(s,i)}else if(!r||typeof r!="object"){if(s=n(r),s===void 0&&(s=r),s===UE&&(s=void 0),this.autoFreeze_&&Rp(s,!0),a){const i=[],o=[];$n("Patches").generateReplacementPatches_(r,s,i,o),a(i,o)}return s}else vr(1,r)},this.produceWithPatches=(r,n)=>{if(typeof r=="function")return(o,...u)=>this.produceWithPatches(o,c=>r(c,...u));let a,s;return[this.produce(r,n,(o,u)=>{a=o,s=u}),a,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){In(t)||vr(8),ma(t)&&(t=g_(t));const r=wy(this),n=Ed(t,void 0);return n[Kt].isManual_=!0,xd(r),n}finishDraft(t,r){const n=t&&t[Kt];(!n||!n.isManual_)&&vr(9);const{scope_:a}=n;return xy(a,r),Ey(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=$n("Patches").applyPatches_;return ma(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Ed(e,t){const r=_o(e)?$n("MapSet").proxyMap_(e,t):No(e)?$n("MapSet").proxySet_(e,t):h_(e,t);return(t?t.scope_:HE()).drafts_.push(r),r}function g_(e){return ma(e)||vr(10,e),GE(e)}function GE(e){if(!In(e)||Ro(e))return e;const t=e[Kt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=yd(e,t.scope_.immer_.useStrictShallowCopy_)}else r=yd(e,!0);return Gi(r,(n,a)=>{VE(r,n,GE(a))}),t&&(t.finalized_=!1),r}var Gt=new m_,y_=Gt.produce;Gt.produceWithPatches.bind(Gt);Gt.setAutoFreeze.bind(Gt);Gt.setUseStrictShallowCopy.bind(Gt);Gt.applyPatches.bind(Gt);Gt.createDraft.bind(Gt);Gt.finishDraft.bind(Gt);var Q={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=Q.levels(e,t);return r?n=n.slice(1):n=n.slice(0,-1),n},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var a=e[n],s=t[n];if(a!==s)break;r.push(a)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),s=e[r],i=t[r];return Q.equals(n,a)&&s>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),a=t.slice(0,r);return Q.equals(n,a)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),s=e[r],i=t[r];return Q.equals(n,a)&&s<i},equals(e,t){return e.length===t.length&&e.every((r,n)=>r===t[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return Q.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&Q.compare(e,t)===0},isBefore(e,t){return Q.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&Q.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&Q.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&Q.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&Q.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1),a=e[e.length-1],s=t[t.length-1];return a!==s&&Q.equals(r,n)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return r&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!Q.isAncestor(t,e)&&!Q.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:a="forward"}=r;if(e.length===0)return n;switch(t.type){case"insert_node":{var{path:s}=t;(Q.equals(s,n)||Q.endsBefore(s,n)||Q.isAncestor(s,n))&&(n[s.length-1]+=1);break}case"remove_node":{var{path:i}=t;if(Q.equals(i,n)||Q.isAncestor(i,n))return null;Q.endsBefore(i,n)&&(n[i.length-1]-=1);break}case"merge_node":{var{path:o,position:u}=t;Q.equals(o,n)||Q.endsBefore(o,n)?n[o.length-1]-=1:Q.isAncestor(o,n)&&(n[o.length-1]-=1,n[o.length]+=u);break}case"split_node":{var{path:c,position:l}=t;if(Q.equals(c,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else Q.endsBefore(c,n)?n[c.length-1]+=1:Q.isAncestor(c,n)&&e[c.length]>=l&&(n[c.length-1]+=1,n[c.length]-=l);break}case"move_node":{var{path:f,newPath:d}=t;if(Q.equals(f,d))return n;if(Q.isAncestor(f,n)||Q.equals(f,n)){var v=d.slice();return Q.endsBefore(f,d)&&f.length<d.length&&(v[f.length-1]-=1),v.concat(n.slice(f.length))}else Q.isSibling(f,d)&&(Q.isAncestor(d,n)||Q.equals(d,n))?Q.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:Q.endsBefore(d,n)||Q.equals(d,n)||Q.isAncestor(d,n)?(Q.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):Q.endsBefore(f,n)&&(Q.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1);break}}return n}};function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function b_(e,t){if(bs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x_(e){var t=b_(e,"string");return bs(t)==="symbol"?t:String(t)}function Sa(e,t,r){return t=x_(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cy(Object(r),!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Py=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return[...t.slice(0,r),...a,...t.slice(r)]},xs=function(t,r,n){for(var a=arguments.length,s=new Array(a>3?a-3:0),i=3;i<a;i++)s[i-3]=arguments[i];return[...t.slice(0,r),...s,...t.slice(r+n)]},Oy=xs,Ip=(e,t,r)=>{if(t.length===0)throw new Error("Cannot modify the editor");for(var n=Ae.get(e,t),a=t.slice(),s=r(n);a.length>1;){var i=a.pop(),o=Ae.get(e,a);s=Xe(Xe({},o),{},{children:xs(o.children,i,1,s)})}var u=a.pop();e.children=xs(e.children,u,1,s)},Gn=(e,t,r)=>{t.length===0?e.children=r(e.children):Ip(e,t,n=>{if(ot.isText(n))throw new Error("Cannot get the element at path [".concat(t,"] because it refers to a leaf node: ").concat(rr.stringify(n)));return Xe(Xe({},n),{},{children:r(n.children)})})},Ay=(e,t,r)=>Ip(e,t,n=>{if(!ot.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(rr.stringify(n)));return r(n)}),w_={transform(e,t){var r=!1;switch(t.type){case"insert_node":{var{path:n,node:a}=t;Gn(e,Q.parent(n),z=>{var M=n[n.length-1];if(M>z.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));return Py(z,M,a)}),r=!0;break}case"insert_text":{var{path:s,offset:i,text:o}=t;if(o.length===0)break;Ay(e,s,z=>{var M=z.text.slice(0,i),q=z.text.slice(i);return Xe(Xe({},z),{},{text:M+o+q})}),r=!0;break}case"merge_node":{var{path:u}=t,c=u[u.length-1],l=Q.previous(u),f=l[l.length-1];Gn(e,Q.parent(u),z=>{var M=z[c],q=z[f],se;if(ot.isText(M)&&ot.isText(q))se=Xe(Xe({},q),{},{text:q.text+M.text});else if(!ot.isText(M)&&!ot.isText(q))se=Xe(Xe({},q),{},{children:q.children.concat(M.children)});else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(u,"] to nodes of different interfaces: ").concat(rr.stringify(M)," ").concat(rr.stringify(q)));return xs(z,f,2,se)}),r=!0;break}case"move_node":{var{path:d,newPath:v}=t,h=d[d.length-1];if(Q.isAncestor(d,v))throw new Error("Cannot move a path [".concat(d,"] to new path [").concat(v,"] because the destination is inside itself."));var g=Ae.get(e,d);Gn(e,Q.parent(d),z=>Oy(z,h,1));var x=Q.transform(d,t),y=x[x.length-1];Gn(e,Q.parent(x),z=>Py(z,y,g)),r=!0;break}case"remove_node":{var{path:p}=t,w=p[p.length-1];if(Gn(e,Q.parent(p),z=>Oy(z,w,1)),e.selection){var C=Xe({},e.selection);for(var[P,_]of je.points(C)){var R=mt.transform(P,t);if(C!=null&&R!=null)C[_]=R;else{var E=void 0,A=void 0;for(var[S,B]of Ae.texts(e))if(Q.compare(B,p)===-1)E=[S,B];else{A=[S,B];break}var k=!1;E&&A&&(Q.equals(A[1],p)?k=!Q.hasPrevious(A[1]):k=Q.common(E[1],p).length<Q.common(A[1],p).length),E&&!k?C[_]={path:E[1],offset:E[0].text.length}:A?C[_]={path:A[1],offset:0}:C=null}}e.selection=C}break}case"remove_text":{var{path:T,offset:j,text:L}=t;if(L.length===0)break;Ay(e,T,z=>{var M=z.text.slice(0,j),q=z.text.slice(j+L.length);return Xe(Xe({},z),{},{text:M+q})}),r=!0;break}case"set_node":{var{path:J,properties:I,newProperties:Y}=t;if(J.length===0)throw new Error("Cannot set properties on the root node!");Ip(e,J,z=>{var M=Xe({},z);for(var q in Y){if(q==="children"||q==="text")throw new Error('Cannot set the "'.concat(q,'" property of nodes!'));var se=Y[q];se==null?delete M[q]:M[q]=se}for(var ne in I)Y.hasOwnProperty(ne)||delete M[ne];return M});break}case"set_selection":{var{newProperties:W}=t;if(W==null){e.selection=null;break}if(e.selection==null){if(!je.isRange(W))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(rr.stringify(W)," when there is no current selection."));e.selection=Xe({},W);break}var Z=Xe({},e.selection);for(var ie in W){var le=W[ie];if(le==null){if(ie==="anchor"||ie==="focus")throw new Error('Cannot remove the "'.concat(ie,'" selection property'));delete Z[ie]}else Z[ie]=le}e.selection=Z;break}case"split_node":{var{path:oe,position:me,properties:ue}=t,ye=oe[oe.length-1];if(oe.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(oe,"] because the root node cannot be split."));Gn(e,Q.parent(oe),z=>{var M=z[ye],q,se;if(ot.isText(M)){var ne=M.text.slice(0,me),m=M.text.slice(me);q=Xe(Xe({},M),{},{text:ne}),se=Xe(Xe({},ue),{},{text:m})}else{var D=M.children.slice(0,me),O=M.children.slice(me);q=Xe(Xe({},M),{},{children:D}),se=Xe(Xe({},ue),{},{children:O})}return xs(z,ye,1,q,se)}),r=!0;break}}if(r&&e.selection){var be=Xe({},e.selection);for(var[Te,$]of je.points(be))be[$]=mt.transform(Te,t);e.selection=be}}},E_={insertNodes(e,t,r){e.insertNodes(t,r)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,r){e.setNodes(t,r)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,r){e.unsetNodes(t,r)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,r){e.wrapNodes(t,r)}},D_={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,r){e.setPoint(t,r)},setSelection(e,t){e.setSelection(t)}},Ct=e=>typeof e=="object"&&e!==null,YE=(e,t)=>{for(var r in e){var n=e[r],a=t[r];if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var s=0;s<n.length;s++)if(n[s]!==a[s])return!1}else if(Ct(n)&&Ct(a)){if(!YE(n,a))return!1}else if(n!==a)return!1}for(var i in t)if(e[i]===void 0&&t[i]!==void 0)return!1;return!0};function C_(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ws(e,t){if(e==null)return{};var r=C_(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var P_=["anchor","focus"];function Sy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sy(Object(r),!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var je={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:a}=e;return je.isBackward(e)===r?[n,a]:[a,n]},end(e){var[,t]=je.edges(e);return t},equals(e,t){return mt.equals(e.anchor,t.anchor)&&mt.equals(e.focus,t.focus)},surrounds(e,t){var r=je.intersection(e,t);return r?je.equals(r,t):!1},includes(e,t){if(je.isRange(t)){if(je.includes(e,t.anchor)||je.includes(e,t.focus))return!0;var[r,n]=je.edges(e),[a,s]=je.edges(t);return mt.isBefore(r,a)&&mt.isAfter(n,s)}var[i,o]=je.edges(e),u=!1,c=!1;return mt.isPoint(t)?(u=mt.compare(t,i)>=0,c=mt.compare(t,o)<=0):(u=Q.compare(t,i.path)>=0,c=Q.compare(t,o.path)<=0),u&&c},intersection(e,t){var r=ws(e,P_),[n,a]=je.edges(e),[s,i]=je.edges(t),o=mt.isBefore(n,s)?s:n,u=mt.isBefore(a,i)?a:i;return mt.isBefore(u,o)?null:O_({anchor:o,focus:u},r)},isBackward(e){var{anchor:t,focus:r}=e;return mt.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return mt.equals(t,r)},isExpanded(e){return!je.isCollapsed(e)},isForward(e){return!je.isBackward(e)},isRange(e){return Ct(e)&&mt.isPoint(e.anchor)&&mt.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=je.edges(e);return t},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===null)return null;var{affinity:n="inward"}=r,a,s;if(n==="inward"){var i=je.isCollapsed(e);je.isForward(e)?(a="forward",s=i?a:"backward"):(a="backward",s=i?a:"forward")}else n==="outward"?je.isForward(e)?(a="backward",s="forward"):(a="forward",s="backward"):(a=n,s=n);var o=mt.transform(e.anchor,t,{affinity:a}),u=mt.transform(e.focus,t,{affinity:s});return!o||!u?null:{anchor:o,focus:u}}},By=function(t){var{deep:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ct(t))return!1;var n=typeof t.apply=="function";if(n)return!1;var a=r?Ae.isNodeList(t.children):Array.isArray(t.children);return a},gn={isAncestor(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ct(e)&&Ae.isNodeList(e.children,{deep:t})},isElement:By,isElementList(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(e)&&e.every(r=>gn.isElement(r,{deep:t}))},isElementProps(e){return e.children!==void 0},isElementType:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return By(t)&&t[n]===r},matches(e,t){for(var r in t)if(r!=="children"&&e[r]!==t[r])return!1;return!0}},A_=["children"],S_=["text"],Ae={ancestor(e,t){var r=Ae.get(e,t);if(ot.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(rr.stringify(r)));return r},ancestors(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of Q.ancestors(t,r)){var a=Ae.ancestor(e,n),s=[a,n];yield s}}()},child(e,t){if(ot.isText(e))throw new Error("Cannot get the child of a text node: ".concat(rr.stringify(e)));var r=e.children[t];if(r==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(rr.stringify(e)));return r},children(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,a=Ae.ancestor(e,t),{children:s}=a,i=n?s.length-1:0;n?i>=0:i<s.length;){var o=Ae.child(a,i),u=t.concat(i);yield[o,u],i=n?i-1:i+1}}()},common(e,t,r){var n=Q.common(t,r),a=Ae.get(e,n);return[a,n]},descendant(e,t){var r=Ae.get(e,t);if(lr.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(rr.stringify(r)));return r},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Ae.nodes(e,t))n.length!==0&&(yield[r,n])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Ae.nodes(e,t))gn.isElement(r)&&(yield[r,n])}()},extractProps(e){if(gn.isAncestor(e)){var t=ws(e,A_);return t}else{var t=ws(e,S_);return t}},first(e,t){for(var r=t.slice(),n=Ae.get(e,r);n&&!(ot.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(ot.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(rr.stringify(e)));var r=y_({children:e.children},n=>{var[a,s]=je.edges(t),i=Ae.nodes(n,{reverse:!0,pass:d=>{var[,v]=d;return!je.includes(t,v)}});for(var[,o]of i){if(!je.includes(t,o)){var u=Ae.parent(n,o),c=o[o.length-1];u.children.splice(c,1)}if(Q.equals(o,s.path)){var l=Ae.leaf(n,o);l.text=l.text.slice(0,s.offset)}if(Q.equals(o,a.path)){var f=Ae.leaf(n,o);f.text=f.text.slice(a.offset)}}lr.isEditor(n)&&(n.selection=null)});return r.children},get(e,t){var r=Ae.getIf(e,t);if(r===void 0)throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(rr.stringify(e)));return r},getIf(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(ot.isText(r)||!r.children[a])return;r=r.children[a]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(ot.isText(r)||!r.children[a])return!1;r=r.children[a]}return!0},isNode(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ot.isText(e)||gn.isElement(e,{deep:t})||lr.isEditor(e,{deep:t})},isNodeList(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(e)&&e.every(r=>Ae.isNode(r,{deep:t}))},last(e,t){for(var r=t.slice(),n=Ae.get(e,r);n&&!(ot.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],r.push(a)}return[n,r]},leaf(e,t){var r=Ae.get(e,t);if(!ot.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(rr.stringify(r)));return r},levels(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of Q.levels(t,r)){var a=Ae.get(e,n);yield[a,n]}}()},matches(e,t){return gn.isElement(e)&&gn.isElementProps(t)&&gn.matches(e,t)||ot.isText(e)&&ot.isTextProps(t)&&ot.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=t,{from:a=[],to:s}=t,i=new Set,o=[],u=e;!(s&&(n?Q.isBefore(o,s):Q.isAfter(o,s)));){if(i.has(u)||(yield[u,o]),!i.has(u)&&!ot.isText(u)&&u.children.length!==0&&(r==null||r([u,o])===!1)){i.add(u);var c=n?u.children.length-1:0;Q.isAncestor(o,a)&&(c=a[o.length]),o=o.concat(c),u=Ae.get(e,o);continue}if(o.length===0)break;if(!n){var l=Q.next(o);if(Ae.has(e,l)){o=l,u=Ae.get(e,o);continue}}if(n&&o[o.length-1]!==0){var f=Q.previous(o);o=f,u=Ae.get(e,o);continue}o=Q.parent(o),u=Ae.get(e,o),i.add(u)}}()},parent(e,t){var r=Q.parent(t),n=Ae.get(e,r);if(ot.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string(e){return ot.isText(e)?e.text:e.children.map(Ae.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Ae.nodes(e,t))ot.isText(r)&&(yield[r,n])}()}};function ky(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ky(Object(r),!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ky(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Va={isNodeOperation(e){return Va.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Ct(e))return!1;switch(e.type){case"insert_node":return Q.isPath(e.path)&&Ae.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&Q.isPath(e.path);case"merge_node":return typeof e.position=="number"&&Q.isPath(e.path)&&Ct(e.properties);case"move_node":return Q.isPath(e.path)&&Q.isPath(e.newPath);case"remove_node":return Q.isPath(e.path)&&Ae.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&Q.isPath(e.path);case"set_node":return Q.isPath(e.path)&&Ct(e.properties)&&Ct(e.newProperties);case"set_selection":return e.properties===null&&je.isRange(e.newProperties)||e.newProperties===null&&je.isRange(e.properties)||Ct(e.properties)&&Ct(e.newProperties);case"split_node":return Q.isPath(e.path)&&typeof e.position=="number"&&Ct(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Va.isOperation(t))},isSelectionOperation(e){return Va.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Va.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return at(at({},e),{},{type:"remove_node"});case"insert_text":return at(at({},e),{},{type:"remove_text"});case"merge_node":return at(at({},e),{},{type:"split_node",path:Q.previous(e.path)});case"move_node":{var{newPath:t,path:r}=e;if(Q.equals(t,r))return e;if(Q.isSibling(r,t))return at(at({},e),{},{path:t,newPath:r});var n=Q.transform(r,e),a=Q.transform(Q.next(r),e);return at(at({},e),{},{path:n,newPath:a})}case"remove_node":return at(at({},e),{},{type:"insert_node"});case"remove_text":return at(at({},e),{},{type:"insert_text"});case"set_node":{var{properties:s,newProperties:i}=e;return at(at({},e),{},{properties:i,newProperties:s})}case"set_selection":{var{properties:o,newProperties:u}=e;return o==null?at(at({},e),{},{properties:u,newProperties:null}):u==null?at(at({},e),{},{properties:null,newProperties:o}):at(at({},e),{},{properties:u,newProperties:o})}case"split_node":return at(at({},e),{},{type:"merge_node",path:Q.next(e.path)})}}},B_=function(t){var{deep:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ct(t))return!1;var n=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Ct(t.marks))&&(t.selection===null||je.isRange(t.selection))&&(!r||Ae.isNodeList(t.children))&&Va.isOperationList(t.operations);return n},lr={above(e,t){return e.above(t)},addMark(e,t,r){e.addMark(t,r)},after(e,t,r){return e.after(t,r)},before(e,t,r){return e.before(t,r)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,r){e.insertFragment(t,r)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,r){return e.isEdge(t,r)},isEditor(e){return B_(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,r){return e.isEnd(t,r)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,r){return e.isStart(t,r)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,r){return e.leaf(t,r)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,r){return e.node(t,r)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,r){return e.parent(t,r)},path(e,t,r){return e.path(t,r)},pathRef(e,t,r){return e.pathRef(t,r)},pathRefs(e){return e.pathRefs()},point(e,t,r){return e.point(t,r)},pointRef(e,t,r){return e.pointRef(t,r)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,r){return e.range(t,r)},rangeRef(e,t,r){return e.rangeRef(t,r)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,r){return e.string(t,r)},unhangRange(e,t,r){return e.unhangRange(t,r)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,r)=>e.shouldMergeNodesRemovePrevNode(t,r)};function Fy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fy(Object(r),!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var mt={compare(e,t){var r=Q.compare(e.path,t.path);return r===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter(e,t){return mt.compare(e,t)===1},isBefore(e,t){return mt.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&Q.equals(e.path,t.path)},isPoint(e){return Ct(e)&&typeof e.offset=="number"&&Q.isPath(e.path)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===null)return null;var{affinity:n="forward"}=r,{path:a,offset:s}=e;switch(t.type){case"insert_node":case"move_node":{a=Q.transform(a,t,r);break}case"insert_text":{Q.equals(t.path,a)&&(t.offset<s||t.offset===s&&n==="forward")&&(s+=t.text.length);break}case"merge_node":{Q.equals(t.path,a)&&(s+=t.position),a=Q.transform(a,t,r);break}case"remove_text":{Q.equals(t.path,a)&&t.offset<=s&&(s-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(Q.equals(t.path,a)||Q.isAncestor(t.path,a))return null;a=Q.transform(a,t,r);break}case"split_node":{if(Q.equals(t.path,a)){if(t.position===s&&n==null)return null;(t.position<s||t.position===s&&n==="forward")&&(s-=t.position,a=Q.transform(a,t,Ty(Ty({},r),{},{affinity:"forward"})))}else a=Q.transform(a,t,r);break}default:return e}return{path:a,offset:s}}},_y=void 0,rr={setScrubber(e){_y=e},stringify(e){return JSON.stringify(e,_y)}},k_=["text"],F_=["anchor","focus","merge"];function Ny(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ny(Object(r),!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ny(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ot={equals(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function a(s){var i=ws(s,k_);return i}return YE(n?a(e):e,n?a(t):t)},isText(e){return Ct(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>ot.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var r in t)if(r!=="text"&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[{leaf:Fr({},e)}];for(var n of t){var{anchor:a,focus:s,merge:i}=n,o=ws(n,F_),[u,c]=je.edges(n),l=[],f=0,d=u.offset,v=c.offset,h=i??Object.assign;for(var{leaf:g}of r){var{length:x}=g.text,y=f;if(f+=x,d<=y&&f<=v){h(g,o),l.push({leaf:g});continue}if(d!==v&&(d===f||v===y)||d>f||v<y||v===y&&y!==0){l.push({leaf:g});continue}var p=g,w=void 0,C=void 0;if(v<f){var P=v-y;C={leaf:Fr(Fr({},p),{},{text:p.text.slice(P)})},p=Fr(Fr({},p),{},{text:p.text.slice(0,P)})}if(d>y){var _=d-y;w={leaf:Fr(Fr({},p),{},{text:p.text.slice(0,_)})},p=Fr(Fr({},p),{},{text:p.text.slice(_)})}h(p,o),w&&l.push(w),l.push({leaf:p}),C&&l.push(C)}r=l}if(r.length>1){var R=0;for(var[E,A]of r.entries()){var S=R,B=S+A.leaf.text.length,k={start:S,end:B};E===0&&(k.isFirst=!0),E===r.length-1&&(k.isLast=!0),A.position=k,R=B}}return r}},T_=e=>e.selection?e.selection:e.children.length>0?lr.end(e,[]):[0],Ye;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Ye||(Ye={}));Ye.L,Ye.L|Ye.V|Ye.LV|Ye.LVT,Ye.LV|Ye.V,Ye.V|Ye.T,Ye.LVT|Ye.T,Ye.T,Ye.Any,Ye.Extend|Ye.ZWJ,Ye.Any,Ye.SpacingMark,Ye.Prepend,Ye.Any,Ye.ZWJ,Ye.ExtPict,Ye.RI,Ye.RI;var __={delete(e,t){e.delete(t)},insertFragment(e,t,r){e.insertFragment(t,r)},insertText(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};lr.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:a=T_(e)}=r;if(Q.isPath(a)&&(a=lr.range(e,a)),je.isRange(a))if(je.isCollapsed(a))a=a.anchor;else{var s=je.end(a);if(!n&&lr.void(e,{at:s}))return;var i=je.start(a),o=lr.pointRef(e,i),u=lr.pointRef(e,s);jy.delete(e,{at:a,voids:n});var c=o.unref(),l=u.unref();a=c||l,jy.setSelection(e,{anchor:a,focus:a})}if(!(!n&&lr.void(e,{at:a})||lr.elementReadOnly(e,{at:a}))){var{path:f,offset:d}=a;t.length>0&&e.apply({type:"insert_text",path:f,offset:d,text:t})}})}};function Ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ry(Object(r),!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ry(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var jy=ni(ni(ni(ni({},w_),E_),D_),__),ai=e=>{if(!e.api.isCollapsed())return null;const t=e.selection.anchor,r=e.api.range(t.path);if(!r)return null;const n=e.api.isStart(t,r)?"start":e.api.isEnd(t,r)?"end":null;if(!n)return null;const a=ge.parent(e,t.path)??null,s=(()=>{if(!a||!ve.isElement(a))return!1;const l=nn(e,a.type)?.rules.selection?.affinity;return l==="hard"||l==="directional"})(),i=s?[a,fe.parent(t.path)]:[ge.get(e,t.path),t.path];if(n==="start"&&t.path.at(-1)===0&&!s)return[null,i];const o=n==="end"?Q.next(i[1]):Q.previous(i[1]),u=ge.get(e,o),c=u?[u,o]:null;return n==="end"?[i,c]:[c,i]},N_=(e,t)=>{const{marks:r,selection:n}=e;if(!n)return;const a=c=>r&&SE(ge.extractProps(c),r)&&Object.keys(r).length>1,[s,i]=t;if(!s||!i){const c=s||i;return!r||a(c[0])?c===s?"backward":"forward":void 0}const o=r&&(s&&a(s[0])?"backward":i&&a(i[0])?"forward":null),u=n.anchor.offset===0?"forward":"backward";return u==="backward"&&o==="forward"||Jr&&u==="forward"&&o!=="backward"?"forward":"backward"},Iy=(e,t,r)=>{const n=Object.keys(ge.extractProps(t));return(ve.isElement(t)?[t.type]:n).some(s=>nn(e,s)?.rules.selection?.affinity===r)},ef=(e,t,r)=>{const[n,a]=t;return n&&Iy(e,n[0],r)||a&&Iy(e,a[0],r)},tf=(e,t,r)=>{const n=u=>{e.marks=u,e.api.onChange()},a=u=>{e.tf.setSelection({anchor:u,focus:u})},[s,i]=t;if(r==="backward"){if(s===null){n({});return}const u=e.api.end(s[1]);if(u&&a(u),ve.isElement(s[0]))return;n(null);return}if(s===null){n(null);return}if(i===null){n({});return}const o=e.api.end(s[1]);a(o),!ve.isElement(i[0])&&n(ge.extractProps(i[0]))},R_=dt({key:"affinity"}).overrideEditor(({editor:e,tf:{deleteBackward:t,insertText:r,move:n}})=>({transforms:{deleteBackward:a=>{(()=>{if(a==="character"&&e.api.isCollapsed()){const[i]=ai(e)??[null],o=i&&(Ge.isText(i[0])?i[0].text:ge.string(i[0]));t(a);const u=ai(e);if(u&&ef(e,u,"directional")&&!$y(u)){const c=o&&o.length>1?"backward":"forward";tf(e,u,c)}return!0}})()||t(a)},insertText(a,s){return(()=>{if(!e.selection||e.api.isExpanded())return;const o=e.selection.focus.path,u=ge.get(e,o);if(!u)return;const l=Object.keys(ge.extractProps(u)).filter(h=>nn(e,h)?.rules.selection?.affinity==="outward");if(!l.length||!e.api.isEnd(e.selection.focus,o))return;const f=e.api.start(o,{next:!0}),d=[];let v=null;if(f){const h=f.path;v=ge.get(e,h)||null}for(const h of l){if(!u[h])continue;v?.[h]||d.push(h)}d.length>0&&e.tf.removeMarks(d)})(),r(a,s)},move:a=>{(()=>{const{distance:i=1,reverse:o=!1,unit:u="character"}=a||{};if(u==="character"&&i===1&&e.api.isCollapsed()){const c=ai(e);if(c&&ef(e,c,"hard"))return c&&c[o?0:1]===null&&N_(e,c)===(o?"forward":"backward")?(tf(e,c,o?"backward":"forward"),!0):(n({...a,unit:"offset"}),!0);n(a);const l=ai(e);return l&&ef(e,l,"directional")&&!$y(l)&&tf(e,l,o?"forward":"backward"),!0}})()||n(a)}}})),$y=e=>{const[t,r]=e;return t&&ve.isElement(t[0])||r&&ve.isElement(r[0])},j_=dt({key:"debug",options:{isProduction:!0,logger:{error:(e,t,r)=>console.error(`${t?`[${t}] `:""}${e}`,r),info:(e,t,r)=>console.info(`${t?`[${t}] `:""}${e}`,r),log:(e,t,r)=>console.log(`${t?`[${t}] `:""}${e}`,r),warn:(e,t,r)=>console.warn(`${t?`[${t}] `:""}${e}`,r)},logLevel:"error",throwErrors:!0}}).extendEditorApi(({getOptions:e})=>{const t=(r,n,a,s)=>{};return{debug:{error:(r,n,a)=>t(),info:(r,n,a)=>t(),log:(r,n,a)=>t(),warn:(r,n,a)=>t()}}}),I_=(e,t,r)=>{const n=e.getOptions(Ci),a=Di.get(e)??!1;if(r){const s={...n,...FE(r,BE)};e.setOptions(Ci,s)}Di.set(e,!0),t(),Di.set(e,a),e.setOptions(Ci,n)},Di=new WeakMap,Ci=dt({key:"dom",options:{scrollMode:"last",scrollOperations:{insert_node:!0,insert_text:!0},scrollOptions:{scrollMode:"if-needed"}}}).extendEditorApi(({editor:e})=>({isScrolling:()=>Di.get(e)??!1})).extendEditorTransforms(({editor:e})=>({withScrolling:V(I_,e)})).overrideEditor(({api:e,editor:t,getOption:r,tf:{apply:n}})=>({transforms:{apply(a){if(e.isScrolling()){n(a);const s=r("scrollOperations");if(!s[a.type])return;const i=t.operations.filter(v=>!!s[v.type]);if(i.length===0)return;const u=r("scrollMode")==="first"?i[0]:i.at(-1);if(!u)return;const{offset:c,path:l}=u.path?u:{};if(!l)return;const f=r("scrollOptions"),d={offset:c??0,path:l};e.scrollIntoView(d,f);return}return n(a)}}})).overrideEditor(({editor:e,tf:{apply:t}})=>({transforms:{apply(r){if(r.type==="set_selection"){const{properties:n}=r;e.dom.prevSelection=n,t(r),e.dom.currentKeyboardEvent=null;return}t(r)}}})),$_="​",Vs=e=>e.nodeType===Node.ELEMENT_NODE,JE=(e,t)=>{if(!t(e))return;let n=e.firstChild;for(;n;){const a=n,s=n.previousSibling;n=n.nextSibling,JE(a,t),!a.previousSibling&&!a.nextSibling&&!a.parentNode&&n&&s!==n.previousSibling&&n.parentNode?n=s?s.nextSibling:e.firstChild:!a.previousSibling&&!a.nextSibling&&!a.parentNode&&n&&!n.previousSibling&&!n.nextSibling&&!n.parentNode&&(s?n=s.nextSibling?s.nextSibling.nextSibling:null:e.firstChild&&(n=e.firstChild.nextSibling))}},$p=(e,t)=>{JE(e,r=>Vs(r)?t(r):!0)},ZE=e=>e.nodeType===Node.TEXT_NODE,M_=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","math","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","svg","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR"]),Mp=e=>{if(!Vs(e))return!1;const t=e,r=M_.has(t.tagName),n=t.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&t.parentElement?Mp(t.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},Zi=e=>Vs(e)?!Mp(e):!1,L_=(e,{shouldCollapseWhiteSpace:t=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:a=!0}={})=>(n==="all"&&(e=e.replace(/^\s+/,"")),r==="single-newline"&&(e=e.replace(/\n$/,"")),t&&(a?e=e.replaceAll(/\s+/g," "):(e=e.replaceAll(/[^\S\n\r]+/g," "),e=e.replaceAll(/^[^\S\n\r]+/gm,""),e=e.replaceAll(/[^\S\n\r]+$/gm,""))),e),z_=e=>{let t=e;for(;;){if(t.nextSibling)t=t.nextSibling;else{if(t=t.parentElement,t&&Zi(t))return!0;t=t?.nextSibling||null}if(!t||Zi(t))return!0;if((t.textContent||"").length>0)return!1}},q_=e=>{e.inlineFormattingContext?e.inlineFormattingContext.atStart=!1:e.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},My=e=>{e.inlineFormattingContext=null},U_=(e,t)=>{const r=e.textContent||"",n=r.trim()==="";(t.inlineFormattingContext||!n)&&q_(t);const{whiteSpaceRule:a}=t,s=a!=="normal"?"collapse":!t.inlineFormattingContext||t.inlineFormattingContext.atStart||t.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse",i=a==="normal"?"collapse":z_(e)?"single-newline":"collapse",o={normal:!0,pre:!1,"pre-line":!0}[a],c=L_(r||"",{shouldCollapseWhiteSpace:o,trimEnd:i,trimStart:s,whiteSpaceIncludesNewlines:a!=="pre-line"});t.inlineFormattingContext&&o&&(t.inlineFormattingContext.lastHasTrailingWhiteSpace=c.endsWith(" ")),e.textContent=c},W_=(e,t)=>{if(Vs(e)){QE(e,t);return}if(ZE(e)){U_(e,t);return}XE(e,t)},XE=(e,t)=>{const r=Array.from(e.childNodes);for(const n of r)W_(n,t)},V_=e=>{const t=e.style.whiteSpace;switch(t){case"break-spaces":case"pre":case"pre-wrap":return"pre";case"normal":case"nowrap":return"normal";case"pre-line":return"pre-line"}return e.tagName==="PRE"?"pre":t==="initial"?"normal":null},QE=(e,t)=>{const r=Mp(e),n=t.whiteSpaceRule,a=V_(e);a&&(t.whiteSpaceRule=a),r||My(t),XE(e,t),r||My(t),t.whiteSpaceRule=n},H_=e=>{const t=e.cloneNode(!0);return QE(t,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),t},jo=(e,t,r=!1)=>Array.from(t.childNodes).flatMap(n=>n.nodeType===1&&!Ki(n)&&r?jo(e,n,r):t1(e)(n)),K_=(e,t)=>{if(t.nodeName==="BODY")return Oa("fragment",{},jo(e,t))},G_=e=>{if(e.nodeName==="BR")return`
`},Y_=({element:e,type:t})=>{if(!t_(e,t)&&!qE(e))return;const r={};if(Object.entries(e.dataset).forEach(([n,a])=>{if(n.startsWith("slate")&&a&&!["slateInline","slateLeaf","slateNode","slateVoid"].includes(n)){const s=n.slice(5).charAt(0).toLowerCase()+n.slice(6);if(a===void 0)return;let i=a;a==="true"?i=!0:a==="false"?i=!1:Number.isNaN(Number(a))||(i=Number(a)),r[s]=i}}),Object.keys(r).length>0)return r},J_=({editor:e,element:t,plugin:r})=>{const n=r.parsers.html?.deserializer?.toNodeProps,s=r.parsers.html?.deserializer?.disableDefaultNodeProps??!1?{}:Y_({...pt(e,r),element:t});if(!n)return s;const i=n({...pt(e,r),element:t})??{};return{...s,...i}},Z_=e=>{let t=e.parsers?.html?.deserializer;const r=t?.rules??[],a=r.some(s=>s.validClassName?.includes(`slate-${e.key}`))?r:[{validClassName:`slate-${e.key}`,validNodeName:"*"},...r];return t||(t={rules:a}),t.rules=a,t},e1=(e,t,{deserializeLeaf:r,element:n})=>{const{node:{isElement:a,isLeaf:s}}=t,i=Z_(t);if(!i)return;const{attributeNames:o,isElement:u,isLeaf:c,query:l,rules:f}=i;let{parse:d}=i;const v=u||a,h=c||s;if(!r&&!v||r&&!h||f&&!f.some(({validAttribute:C,validClassName:P,validNodeName:_="*",validStyle:R})=>{if(_){const E=Lt(_);if(E.length>0&&!E.includes(n.nodeName)&&_!=="*")return!1}if(P&&!n.classList.contains(P))return!1;if(R)for(const[E,A]of Object.entries(R)){if(!Lt(A).includes(n.style[E])&&A!=="*"||A==="*"&&!n.style[E])return;const B=t.inject.nodeProps?.defaultNodeValue;if(B&&B===n.style[E])return!1}if(C)if(typeof C=="string"){if(!n.getAttributeNames().includes(C))return!1}else for(const[E,A]of Object.entries(C)){const S=Lt(A),B=n.getAttribute(E);if(!Ve(B)||!S.includes(B))return!1}return!0})||l&&!l({...pt(e,t),element:n}))return;if(!d)if(v)d=({type:w})=>({type:w});else if(h)d=({type:w})=>({[w]:!0});else return;const g=Ki(n)?{}:d({...pt(e,t),element:n,node:{}})??{},x=J_({editor:e,element:n,plugin:t});let y={...g,...x};if(Object.keys(y).length===0)return;if(Tp(e,t).forEach(w=>{const C=w.parsers?.html?.deserializer?.parse?.({...pt(e,t),element:n,node:y});C&&!Ki(n)&&(y={...y,...C})}),o){const w={},C=n.getAttributeNames();for(const P of C)o.includes(P)&&(w[P]=n.getAttribute(P));Object.keys(w).length>0&&(y.attributes=w)}return{...i,node:y}},X_=(e,t)=>{let r;return[...e.meta.pluginList].reverse().some(n=>(r=e1(e,n,{element:t}),!!r)),r},Q_=(e,t,r=!1)=>{const n=X_(e,t);if(n){const{node:a,withoutChildren:s}=n;let i=a.children??jo(e,t,r);return(i.length===0||s||zE(t))&&(i=[{text:""}]),Oa("element",a,i)}},eN=(e,t)=>{let r={};return[...e.meta.pluginList].reverse().forEach(n=>{const a=e1(e,n,{deserializeLeaf:!0,element:t});a&&(r={...r,...a.node})}),r},tN=(e,t)=>{const r=eN(e,t);return jo(e,t).reduce((n,a)=>{if(!a)return n;if(ve.isElement(a))Object.keys(r).length>0&&o_({node:a,query:{filter:([s])=>Ge.isText(s)},source:r}),n.push(a);else{const s={...r};Ge.isText(a)&&a.text&&Object.keys(s).forEach(i=>{s[i]&&a[i]&&(s[i]=a[i])}),n.push(Oa("text",s,a))}return n},[])},rN=e=>{if(ZE(e))return e.parentElement?.dataset.platePreventDeserialization?"":e.textContent||""},t1=e=>t=>{const r=rN(t);if(r)return r;if(!Vs(t))return null;const n=G_(t);if(n)return n;const a=K_(e,t);if(a)return a;const s=Q_(e,t,Ki(t));return s||tN(e,t)},nN=(e,t)=>t1(e)(t),aN=e=>{const t=document.createElement("body");return t.innerHTML=e,t},sN=(e,{collapseWhiteSpace:t=!0,defaultElementPlugin:r,element:n})=>{typeof n=="string"&&(n=aN(n)),t&&(n=H_(n));const a=nN(e,n);return EN(e,{defaultElementPlugin:r,descendants:a})},iN=(e,t)=>{let r=null;return $p(e,n=>t(n)?(r=n,!1):!0),r},Io=(e,t)=>!!iN(e,t),oN=e=>new DOMParser().parseFromString(e,"text/html"),r1=e=>`<body>${e.trim().replaceAll(new RegExp($_,"g"),"")}</body>`,uN=we({key:"html"}).extendApi(({editor:e})=>({deserialize:V(sN,e)})).extend({parser:{format:"text/html",deserialize:({api:e,data:t})=>{const r=oN(t);return e.html.deserialize({element:r.body})}}}),Ly=dt({key:"length"}).overrideEditor(({editor:e,getOptions:t,tf:{apply:r}})=>({transforms:{apply(n){e.tf.withoutNormalizing(()=>{r(n);const a=t();if(a.maxLength){const s=e.api.string([]).length;if(s>a.maxLength){const i=s-a.maxLength;e.tf.delete({distance:i,reverse:!0,unit:"character"})}}})}}})),cN=({editor:e,getOptions:t,tf:{apply:r,insertNode:n,insertNodes:a}})=>{const s=()=>({[t().idKey??""]:t().idCreator()}),i=c=>{const{filter:l,filterText:f}=t();return l(c)&&(!f||c[0]?.type!==void 0)},o=c=>{const{idKey:l="",reuseId:f}=t();!f&&e.api.some({at:[],match:{[l]:c[l]}})&&delete c[l]},u=c=>{const{idKey:l=""}=t();if(Ve(c._id)){const f=c._id;delete c._id,e.api.some({at:[],match:{[l]:f}})||(c[l]=f)}};return{transforms:{apply(c){const{allow:l,disableInsertOverrides:f,exclude:d,idCreator:v,idKey:h="",reuseId:g}=t(),x={allow:l,exclude:d,filter:i};if(c.type==="insert_node"){const y=oa(c.node);return vs({apply:o,node:y,query:x,source:{}}),_T({node:y,path:c.path,query:x,source:s}),f||vs({apply:u,node:y,query:x,source:{}}),r({...c,node:y})}if(c.type==="split_node"){const y=c.properties;let p=c.properties[h];if(un([y,c.path],x))return(!g||p===void 0||e.api.some({at:[],match:{[h]:p}}))&&(p=v()),r({...c,properties:{...c.properties,[h]:p}});p&&delete c.properties[h]}return r(c)},insertNode(c){const{disableInsertOverrides:l,idKey:f=""}=t();!l&&c[f]&&(Object.isExtensible(c)||(c=oa(c)),c._id=c[f]),n(c)},insertNodes(c,l){const f=Lt(c).filter(h=>!!h);if(f.length===0)return;const{disableInsertOverrides:d,idKey:v=""}=t();a(f.map(h=>(!d&&h[v]&&(Object.isExtensible(h)||(h=oa(h)),h._id=h[v]),h)),l)}}}},lN=dt({key:"nodeId",options:{filterInline:!0,filterText:!0,idKey:"id",normalizeInitialValue:!1,filter:()=>!0,idCreator:()=>_n(10)},normalizeInitialValue:({editor:e,getOptions:t})=>{const{allow:r,exclude:n,filter:a,filterInline:s,filterText:i,idKey:o,normalizeInitialValue:u}=t();if(!u){const l=e.children[0],f=e.children.at(-1);if(l?.id&&f?.id)return}const c=l=>{const[f,d]=l;if(!f[o]&&un([f,d],{allow:r,exclude:n,filter:v=>{const[h]=v;return i&&!ve.isElement(h)||s&&ve.isElement(h)&&!e.api.isBlock(h)?!1:a(v)}})){if(!e.api.node(d))return;e.tf.withoutSaving(()=>{e.tf.setNodes({[o]:t().idCreator()},{at:d})})}ve.isElement(f)&&f.children.forEach((v,h)=>{c([v,[...d,h]])})};e.children.forEach((l,f)=>{c([l,[f]])})}}).overrideEditor(cN),fN=e=>{e.meta.pluginCache.normalizeInitialValue.forEach(t=>{const r=e.getPlugin({key:t});LE(e.dom.readOnly,r,"normalizeInitialValue")||r.normalizeInitialValue?.({...pt(e,r),value:e.children})})},dN=async(e,{autoSelect:t,selection:r,shouldNormalizeEditor:n,value:a})=>{if(a!==null&&(typeof a=="string"?e.children=e.api.html.deserialize({element:a}):typeof a=="function"?e.children=await a(e):a&&(e.children=a),(!e.children||e.children?.length===0)&&(e.children=e.api.create.value())),r)e.selection=r;else if(t){const i=(t==="start"?"start":"end")==="start"?e.api.start([]):e.api.end([]);e.tf.select(i)}e.children.length>0&&fN(e),n&&e.tf.normalize({force:!0})},pN=(e,{match:t,reverse:r}={})=>{if(!e.selection||!e.api.isCollapsed())return;const n=e.api.block();if(!n)return;const s=e.api.above({at:n[1],match:Lw(e,(o,u)=>u.length===1||u.length>1&&!!o.type&&!fT(e,e.meta.pluginCache.node.isStrictSiblings).includes(o.type),{match:t})})?.[1]??n[1],i=r?s:fe.next(s);if(i)return e.tf.insertNodes(e.api.create.block(),{at:i,select:!0}),!0},hN=(e,{at:t}={})=>{const r=e.api.block({at:t});if(!r?.[0])return;const[n,a]=r;return e.tf.withoutNormalizing(()=>{const{id:s,type:i,...o}=ge.extractProps(n);Object.keys(o).forEach(c=>{e.tf.unsetNodes(c,{at:a})});const u=e.getType(Fo.key);n.type!==u&&e.tf.setNodes({type:u},{at:a})}),!0},vN=(e,t)=>{let r=t;typeof t=="string"?r=e.api.html.deserialize({element:t}):(!t||t.length===0)&&(r=e.api.create.value()),e.tf.replaceNodes(r,{at:[],children:!0})},mN=we({key:"slateExtension"}).extendEditorTransforms(({editor:e})=>({init:V(dN,e),insertExitBreak:V(pN,e),resetBlock:V(hN,e),setValue:V(vN,e)})),gN=e=>t=>Ge.isText(t)||ve.isElement(t)&&e.api.isInline(t),yN=e=>()=>({children:[],type:e}),bN=(e,t)=>e.some((r,n,a)=>{const s=a[n-1];return n!==0?t(r)!==t(s):!1}),xN=(e,t,r)=>{const n=bN(e,t),{fragment:a}=e.reduce((s,i)=>{if(n&&t(i)){let o=s.precedingBlock;o||(o=r(),s.precedingBlock=o,s.fragment.push(o)),o.children.push(i)}else s.fragment.push(i),s.precedingBlock=null;return s},{fragment:[],precedingBlock:null});return a},wN=e=>e.length===0?[{text:""}]:e,n1=(e,t,r)=>(e=wN(e),e=xN(e,t,r),e=e.map(n=>ve.isElement(n)?{...n,children:n1(n.children,t,r)}:n),e),EN=(e,{defaultElementPlugin:t=Fo,descendants:r})=>{const n=gN(e),a=e.getType(t.key),s=yN(a);return n1(r,n,s)},a1=(e,t,{data:r,dataTransfer:n})=>t.every(a=>{const s=a.parser?.query;return!s||s({...pt(e,a),data:r,dataTransfer:n})}),DN=we({key:"parser"}).overrideEditor(({editor:e,tf:{insertData:t}})=>({transforms:{insertData(r){[...e.meta.pluginList].reverse().some(a=>{const s=a.parser;if(!s)return!1;const i=Tp(e,a),{deserialize:o,format:u,mimeTypes:c}=s;if(!u)return!1;const l=Array.isArray(u)?u:[u],f=c||l.map(d=>d.includes("/")?d:`text/${d}`);for(const d of f){let v=r.getData(d);if(!v||!a1(e,i,{data:v,dataTransfer:r}))continue;v=FT(e,i,{data:v,dataTransfer:r});let h=o?.({...pt(e,a),data:v,dataTransfer:r});if(h?.length&&(h=TT(e,i,{data:v,dataTransfer:r,fragment:h}),h.length!==0))return kT(e,i,{data:v,dataTransfer:r,fragment:h}),!0}return!1})||t(r)}}})),CN=({affinity:e,maxLength:t,nodeId:r,plugins:n=[]})=>{let a=r,s=[j_,mN,Ci,DT,BT,DN,t?Ly.configure({options:{maxLength:t}}):Ly,uN,wT,lN.configure({enabled:a!==!1,options:a===!1?void 0:a}),R_.configure({enabled:e}),Fo];const i=new Map(n.map(o=>[o.key,o]));return s=s.map(o=>{const u=i.get(o.key);if(u){const c=n.findIndex(l=>l.key===o.key);return c!==-1&&n.splice(c,1),u}return o}),s},PN=(e,{id:t,affinity:r=!0,autoSelect:n,maxLength:a,nodeId:s,plugins:i=[],readOnly:o=!1,rootPlugin:u,selection:c,shouldNormalizeEditor:l,skipInitialization:f,value:d,...v}={})=>{const h=e;h.id=t??h.id??_n(),h.meta.key=h.meta.key??_n(),h.meta.isFallback=!1,h.dom={composing:!1,currentKeyboardEvent:null,focused:!1,prevSelection:null,readOnly:o},h.getApi=()=>h.api,h.getTransforms=()=>h.transforms,h.getPlugin=p=>cT(h,p),h.getType=p=>lT(h,p),h.getInjectProps=p=>{const w=h.getPlugin(p).inject?.nodeProps??{};return w.nodeKey=w.nodeKey??h.getType(p.key),w.styleKey=w.styleKey??w.nodeKey,w},h.getOptionsStore=p=>h.getPlugin(p).optionsStore,h.getOptions=p=>h.getOptionsStore(p)?h.getOptionsStore(p).get("state"):h.getPlugin(p).options,h.getOption=(p,w,...C)=>{const P=h.getOptionsStore(p);if(!P)return h.getPlugin(p).options[w];if(!(w in P.get("state"))&&!(w in P.selectors)){h.api.debug.error(`editor.getOption: ${w} option is not defined in plugin ${p.key}.`,"OPTION_UNDEFINED");return}return P.get(w,...C)},h.setOption=(p,w,...C)=>{const P=h.getOptionsStore(p);if(P){if(!(w in P.get("state"))){h.api.debug.error(`editor.setOption: ${w} option is not defined in plugin ${p.key}.`,"OPTION_UNDEFINED");return}P.set(w,...C)}},h.setOptions=(p,w)=>{const C=h.getOptionsStore(p);C&&(typeof w=="object"?C.set("state",P=>{Object.assign(P,w)}):typeof w=="function"&&C.set("state",w))};const g=CN({affinity:r,maxLength:a,nodeId:s,plugins:i});let x=we({key:"root",priority:1e4,...v,override:{...v.override,components:{...v.components,...v.override?.components}},plugins:[...g,...i]});u&&(x=u(x)),pT(h,[x]);const y=h.tf.normalizeNode;return h.tf.normalizeNode=(...p)=>{if(h.api.shouldNormalizeNode(p[0]))return y(...p)},h.normalizeNode=h.tf.normalizeNode,f||h.tf.init({autoSelect:n,selection:c,shouldNormalizeEditor:l,value:d}),h},ON=({editor:e=qw(),...t}={})=>PN(e,t),AN={a:"a",ai:"ai",aiChat:"aiChat",audio:"audio",blockquote:"blockquote",bold:"bold",callout:"callout",code:"code",codeBlock:"code_block",codeLine:"code_line",codeSyntax:"code_syntax",column:"column",columnGroup:"column_group",comment:"comment",date:"date",emojiInput:"emoji_input",equation:"equation",excalidraw:"excalidraw",file:"file",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",highlight:"highlight",hr:"hr",img:"img",inlineEquation:"inline_equation",italic:"italic",kbd:"kbd",li:"li",lic:"lic",link:"a",listTodoClassic:"action_item",mediaEmbed:"media_embed",mention:"mention",mentionInput:"mention_input",olClassic:"ol",p:"p",searchHighlight:"search_highlight",slashInput:"slash_input",strikethrough:"strikethrough",sub:"subscript",suggestion:"suggestion",sup:"superscript",table:"table",tag:"tag",td:"td",th:"th",toc:"toc",toggle:"toggle",tr:"tr",ulClassic:"ul",underline:"underline",video:"video"},SN={backgroundColor:"backgroundColor",color:"color",fontFamily:"fontFamily",fontSize:"fontSize",fontWeight:"fontWeight",indent:"indent",lineHeight:"lineHeight",listType:"listStyleType",textAlign:"textAlign",textIndent:"textIndent"},U={...AN,...SN,exitBreak:"exitBreak",heading:["h1","h2","h3","h4","h5","h6"],html:"html",list:"list",listChecked:"checked",listRestart:"listRestart",listRestartPolite:"listRestartPolite",listStart:"listStart",listTodo:"todo",normalizeTypes:"normalizeTypes",placeholder:"placeholder",singleBlock:"singleBlock",singleLine:"singleLine",trailingBlock:"trailingBlock"};we({key:U.exitBreak,editOnly:!0}).extendTransforms(({editor:e})=>({insert:t=>e.tf.insertExitBreak(t),insertBefore:t=>e.tf.insertExitBreak({...t,reverse:!0})}));var BN=({editor:e,getOptions:t,tf:{normalizeNode:r}})=>({transforms:{normalizeNode([n,a]){const{rules:s,onError:i}=t();if(!(a.length===0&&s.some(({path:u,strictType:c,type:l})=>{const f=ge.get(e,u);if(f){if(c&&ve.isElement(f)&&f.type!==c){const{children:d,...v}=e.api.create.block({type:c});return e.tf.setNodes(v,{at:u}),!0}}else try{return e.tf.insertNodes(e.api.create.block({type:c??l}),{at:u}),!0}catch(d){i?.(d)}return!1})))return r([n,a])}}});dt({key:U.normalizeTypes,options:{rules:[]}}).overrideEditor(BN);we({key:U.singleBlock,override:{enabled:{[U.trailingBlock]:!1}}}).overrideEditor(({editor:e,tf:{normalizeNode:t}})=>({transforms:{insertBreak(){e.tf.insertSoftBreak()},normalizeNode(r){const[n,a]=r;if(a.length===0&&e.children.length>1){e.tf.withoutNormalizing(()=>{for(;e.children.length>1;)e.tf.insertText(`
`,{at:e.api.start([1])}),e.tf.mergeNodes({at:[1],match:(s,i)=>i.length===1})});return}t(r)}}}));var s1=Symbol.for("immer-nothing"),zy=Symbol.for("immer-draftable"),Yt=Symbol.for("immer-state");function mr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ga=Object.getPrototypeOf;function ya(e){return!!e&&!!e[Yt]}function Mn(e){return e?i1(e)||Array.isArray(e)||!!e[zy]||!!e.constructor?.[zy]||Mo(e)||Lo(e):!1}var kN=Object.prototype.constructor.toString();function i1(e){if(!e||typeof e!="object")return!1;const t=ga(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===kN}function Xi(e,t){$o(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function $o(e){const t=e[Yt];return t?t.type_:Array.isArray(e)?1:Mo(e)?2:Lo(e)?3:0}function Dd(e,t){return $o(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function o1(e,t,r){const n=$o(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function FN(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Mo(e){return e instanceof Map}function Lo(e){return e instanceof Set}function yn(e){return e.copy_||e.base_}function Cd(e,t){if(Mo(e))return new Map(e);if(Lo(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=i1(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Yt];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(ga(e),n)}else{const n=ga(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Lp(e,t=!1){return zo(e)||ya(e)||!Mn(e)||($o(e)>1&&(e.set=e.add=e.clear=e.delete=TN),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Lp(n,!0))),e}function TN(){mr(2)}function zo(e){return Object.isFrozen(e)}var _N={};function Ln(e){const t=_N[e];return t||mr(0,e),t}var Es;function u1(){return Es}function NN(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qy(e,t){t&&(Ln("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pd(e){Od(e),e.drafts_.forEach(RN),e.drafts_=null}function Od(e){e===Es&&(Es=e.parent_)}function Uy(e){return Es=NN(Es,e)}function RN(e){const t=e[Yt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Wy(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Yt].modified_&&(Pd(t),mr(4)),Mn(e)&&(e=Qi(t,e),t.parent_||eo(t,e)),t.patches_&&Ln("Patches").generateReplacementPatches_(r[Yt].base_,e,t.patches_,t.inversePatches_)):e=Qi(t,r,[]),Pd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==s1?e:void 0}function Qi(e,t,r){if(zo(t))return t;const n=t[Yt];if(!n)return Xi(t,(a,s)=>Vy(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return eo(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),Xi(s,(o,u)=>Vy(e,n,a,o,u,r,i)),eo(e,a,!1),r&&e.patches_&&Ln("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Vy(e,t,r,n,a,s,i){if(ya(a)){const o=s&&t&&t.type_!==3&&!Dd(t.assigned_,n)?s.concat(n):void 0,u=Qi(e,a,o);if(o1(r,n,u),ya(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Mn(a)&&!zo(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Qi(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&eo(e,a)}}function eo(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Lp(t,r)}function jN(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:u1(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=zp;r&&(a=[n],s=Ds);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var zp={get(e,t){if(t===Yt)return e;const r=yn(e);if(!Dd(r,t))return IN(e,r,t);const n=r[t];return e.finalized_||!Mn(n)?n:n===rf(e.base_,t)?(nf(e),e.copy_[t]=Sd(n,e)):n},has(e,t){return t in yn(e)},ownKeys(e){return Reflect.ownKeys(yn(e))},set(e,t,r){const n=c1(yn(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=rf(yn(e),t),s=a?.[Yt];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(FN(r,a)&&(r!==void 0||Dd(e.base_,t)))return!0;nf(e),Ad(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return rf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,nf(e),Ad(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=yn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){mr(11)},getPrototypeOf(e){return ga(e.base_)},setPrototypeOf(){mr(12)}},Ds={};Xi(zp,(e,t)=>{Ds[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ds.deleteProperty=function(e,t){return Ds.set.call(this,e,t,void 0)};Ds.set=function(e,t,r){return zp.set.call(this,e[0],t,r,e[0])};function rf(e,t){const r=e[Yt];return(r?yn(r):e)[t]}function IN(e,t,r){const n=c1(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function c1(e,t){if(!(t in e))return;let r=ga(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ga(r)}}function Ad(e){e.modified_||(e.modified_=!0,e.parent_&&Ad(e.parent_))}function nf(e){e.copy_||(e.copy_=Cd(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $N=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(r,n,a)=>{if(typeof r=="function"&&typeof n!="function"){const i=n;n=r;const o=this;return function(c=i,...l){return o.produce(c,f=>n.call(this,f,...l))}}typeof n!="function"&&mr(6),a!==void 0&&typeof a!="function"&&mr(7);let s;if(Mn(r)){const i=Uy(this),o=Sd(r,void 0);let u=!0;try{s=n(o),u=!1}finally{u?Pd(i):Od(i)}return qy(i,a),Wy(s,i)}else if(!r||typeof r!="object"){if(s=n(r),s===void 0&&(s=r),s===s1&&(s=void 0),this.autoFreeze_&&Lp(s,!0),a){const i=[],o=[];Ln("Patches").generateReplacementPatches_(r,s,i,o),a(i,o)}return s}else mr(1,r)},this.produceWithPatches=(r,n)=>{if(typeof r=="function")return(o,...u)=>this.produceWithPatches(o,c=>r(c,...u));let a,s;return[this.produce(r,n,(o,u)=>{a=o,s=u}),a,s]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Mn(t)||mr(8),ya(t)&&(t=MN(t));const r=Uy(this),n=Sd(t,void 0);return n[Yt].isManual_=!0,Od(r),n}finishDraft(t,r){const n=t&&t[Yt];(!n||!n.isManual_)&&mr(9);const{scope_:a}=n;return qy(a,r),Wy(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Ln("Patches").applyPatches_;return ya(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Sd(e,t){const r=Mo(e)?Ln("MapSet").proxyMap_(e,t):Lo(e)?Ln("MapSet").proxySet_(e,t):jN(e,t);return(t?t.scope_:u1()).drafts_.push(r),r}function MN(e){return ya(e)||mr(10,e),l1(e)}function l1(e){if(!Mn(e)||zo(e))return e;const t=e[Yt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Cd(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Cd(e,!0);return Xi(r,(n,a)=>{o1(r,n,l1(a))}),t&&(t.finalized_=!1),r}var Jt=new $N,LN=Jt.produce;Jt.produceWithPatches.bind(Jt);Jt.setAutoFreeze.bind(Jt);Jt.setUseStrictShallowCopy.bind(Jt);Jt.applyPatches.bind(Jt);Jt.createDraft.bind(Jt);Jt.finishDraft.bind(Jt);var re={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=re.levels(e,t);return r?n=n.slice(1):n=n.slice(0,-1),n},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var a=e[n],s=t[n];if(a!==s)break;r.push(a)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),s=e[r],i=t[r];return re.equals(n,a)&&s>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),a=t.slice(0,r);return re.equals(n,a)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),s=e[r],i=t[r];return re.equals(n,a)&&s<i},equals(e,t){return e.length===t.length&&e.every((r,n)=>r===t[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return re.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&re.compare(e,t)===0},isBefore(e,t){return re.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&re.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&re.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&re.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&re.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1),a=e[e.length-1],s=t[t.length-1];return a!==s&&re.equals(r,n)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return r&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!re.isAncestor(t,e)&&!re.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:a="forward"}=r;if(e.length===0)return n;switch(t.type){case"insert_node":{var{path:s}=t;(re.equals(s,n)||re.endsBefore(s,n)||re.isAncestor(s,n))&&(n[s.length-1]+=1);break}case"remove_node":{var{path:i}=t;if(re.equals(i,n)||re.isAncestor(i,n))return null;re.endsBefore(i,n)&&(n[i.length-1]-=1);break}case"merge_node":{var{path:o,position:u}=t;re.equals(o,n)||re.endsBefore(o,n)?n[o.length-1]-=1:re.isAncestor(o,n)&&(n[o.length-1]-=1,n[o.length]+=u);break}case"split_node":{var{path:c,position:l}=t;if(re.equals(c,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else re.endsBefore(c,n)?n[c.length-1]+=1:re.isAncestor(c,n)&&e[c.length]>=l&&(n[c.length-1]+=1,n[c.length]-=l);break}case"move_node":{var{path:f,newPath:d}=t;if(re.equals(f,d))return n;if(re.isAncestor(f,n)||re.equals(f,n)){var v=d.slice();return re.endsBefore(f,d)&&f.length<d.length&&(v[f.length-1]-=1),v.concat(n.slice(f.length))}else re.isSibling(f,d)&&(re.isAncestor(d,n)||re.equals(d,n))?re.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:re.endsBefore(d,n)||re.equals(d,n)||re.isAncestor(d,n)?(re.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):re.endsBefore(f,n)&&(re.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1);break}}return n}};function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function zN(e,t){if(Cs(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qN(e){var t=zN(e,"string");return Cs(t)==="symbol"?t:String(t)}function Ba(e,t,r){return t=qN(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hy(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ky=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return[...t.slice(0,r),...a,...t.slice(r)]},Ps=function(t,r,n){for(var a=arguments.length,s=new Array(a>3?a-3:0),i=3;i<a;i++)s[i-3]=arguments[i];return[...t.slice(0,r),...s,...t.slice(r+n)]},Gy=Ps,qp=(e,t,r)=>{if(t.length===0)throw new Error("Cannot modify the editor");for(var n=Se.get(e,t),a=t.slice(),s=r(n);a.length>1;){var i=a.pop(),o=Se.get(e,a);s=Qe(Qe({},o),{},{children:Ps(o.children,i,1,s)})}var u=a.pop();e.children=Ps(e.children,u,1,s)},Yn=(e,t,r)=>{t.length===0?e.children=r(e.children):qp(e,t,n=>{if(tt.isText(n))throw new Error("Cannot get the element at path [".concat(t,"] because it refers to a leaf node: ").concat(nr.stringify(n)));return Qe(Qe({},n),{},{children:r(n.children)})})},Yy=(e,t,r)=>qp(e,t,n=>{if(!tt.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(nr.stringify(n)));return r(n)}),UN={transform(e,t){var r=!1;switch(t.type){case"insert_node":{var{path:n,node:a}=t;Yn(e,re.parent(n),z=>{var M=n[n.length-1];if(M>z.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));return Ky(z,M,a)}),r=!0;break}case"insert_text":{var{path:s,offset:i,text:o}=t;if(o.length===0)break;Yy(e,s,z=>{var M=z.text.slice(0,i),q=z.text.slice(i);return Qe(Qe({},z),{},{text:M+o+q})}),r=!0;break}case"merge_node":{var{path:u}=t,c=u[u.length-1],l=re.previous(u),f=l[l.length-1];Yn(e,re.parent(u),z=>{var M=z[c],q=z[f],se;if(tt.isText(M)&&tt.isText(q))se=Qe(Qe({},q),{},{text:q.text+M.text});else if(!tt.isText(M)&&!tt.isText(q))se=Qe(Qe({},q),{},{children:q.children.concat(M.children)});else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(u,"] to nodes of different interfaces: ").concat(nr.stringify(M)," ").concat(nr.stringify(q)));return Ps(z,f,2,se)}),r=!0;break}case"move_node":{var{path:d,newPath:v}=t,h=d[d.length-1];if(re.isAncestor(d,v))throw new Error("Cannot move a path [".concat(d,"] to new path [").concat(v,"] because the destination is inside itself."));var g=Se.get(e,d);Yn(e,re.parent(d),z=>Gy(z,h,1));var x=re.transform(d,t),y=x[x.length-1];Yn(e,re.parent(x),z=>Ky(z,y,g)),r=!0;break}case"remove_node":{var{path:p}=t,w=p[p.length-1];if(Yn(e,re.parent(p),z=>Gy(z,w,1)),e.selection){var C=Qe({},e.selection);for(var[P,_]of Ie.points(C)){var R=gt.transform(P,t);if(C!=null&&R!=null)C[_]=R;else{var E=void 0,A=void 0;for(var[S,B]of Se.texts(e))if(re.compare(B,p)===-1)E=[S,B];else{A=[S,B];break}var k=!1;E&&A&&(re.equals(A[1],p)?k=!re.hasPrevious(A[1]):k=re.common(E[1],p).length<re.common(A[1],p).length),E&&!k?C[_]={path:E[1],offset:E[0].text.length}:A?C[_]={path:A[1],offset:0}:C=null}}e.selection=C}break}case"remove_text":{var{path:T,offset:j,text:L}=t;if(L.length===0)break;Yy(e,T,z=>{var M=z.text.slice(0,j),q=z.text.slice(j+L.length);return Qe(Qe({},z),{},{text:M+q})}),r=!0;break}case"set_node":{var{path:J,properties:I,newProperties:Y}=t;if(J.length===0)throw new Error("Cannot set properties on the root node!");qp(e,J,z=>{var M=Qe({},z);for(var q in Y){if(q==="children"||q==="text")throw new Error('Cannot set the "'.concat(q,'" property of nodes!'));var se=Y[q];se==null?delete M[q]:M[q]=se}for(var ne in I)Y.hasOwnProperty(ne)||delete M[ne];return M});break}case"set_selection":{var{newProperties:W}=t;if(W==null){e.selection=null;break}if(e.selection==null){if(!Ie.isRange(W))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(nr.stringify(W)," when there is no current selection."));e.selection=Qe({},W);break}var Z=Qe({},e.selection);for(var ie in W){var le=W[ie];if(le==null){if(ie==="anchor"||ie==="focus")throw new Error('Cannot remove the "'.concat(ie,'" selection property'));delete Z[ie]}else Z[ie]=le}e.selection=Z;break}case"split_node":{var{path:oe,position:me,properties:ue}=t,ye=oe[oe.length-1];if(oe.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(oe,"] because the root node cannot be split."));Yn(e,re.parent(oe),z=>{var M=z[ye],q,se;if(tt.isText(M)){var ne=M.text.slice(0,me),m=M.text.slice(me);q=Qe(Qe({},M),{},{text:ne}),se=Qe(Qe({},ue),{},{text:m})}else{var D=M.children.slice(0,me),O=M.children.slice(me);q=Qe(Qe({},M),{},{children:D}),se=Qe(Qe({},ue),{},{children:O})}return Ps(z,ye,1,q,se)}),r=!0;break}}if(r&&e.selection){var be=Qe({},e.selection);for(var[Te,$]of Ie.points(be))be[$]=gt.transform(Te,t);e.selection=be}}},WN={insertNodes(e,t,r){e.insertNodes(t,r)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,r){e.setNodes(t,r)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,r){e.unsetNodes(t,r)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,r){e.wrapNodes(t,r)}},VN={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,r){e.setPoint(t,r)},setSelection(e,t){e.setSelection(t)}},Pt=e=>typeof e=="object"&&e!==null,f1=(e,t)=>{for(var r in e){var n=e[r],a=t[r];if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var s=0;s<n.length;s++)if(n[s]!==a[s])return!1}else if(Pt(n)&&Pt(a)){if(!f1(n,a))return!1}else if(n!==a)return!1}for(var i in t)if(e[i]===void 0&&t[i]!==void 0)return!1;return!0};function HN(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Os(e,t){if(e==null)return{};var r=HN(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var KN=["anchor","focus"];function Jy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jy(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ie={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:a}=e;return Ie.isBackward(e)===r?[n,a]:[a,n]},end(e){var[,t]=Ie.edges(e);return t},equals(e,t){return gt.equals(e.anchor,t.anchor)&&gt.equals(e.focus,t.focus)},surrounds(e,t){var r=Ie.intersection(e,t);return r?Ie.equals(r,t):!1},includes(e,t){if(Ie.isRange(t)){if(Ie.includes(e,t.anchor)||Ie.includes(e,t.focus))return!0;var[r,n]=Ie.edges(e),[a,s]=Ie.edges(t);return gt.isBefore(r,a)&&gt.isAfter(n,s)}var[i,o]=Ie.edges(e),u=!1,c=!1;return gt.isPoint(t)?(u=gt.compare(t,i)>=0,c=gt.compare(t,o)<=0):(u=re.compare(t,i.path)>=0,c=re.compare(t,o.path)<=0),u&&c},intersection(e,t){var r=Os(e,KN),[n,a]=Ie.edges(e),[s,i]=Ie.edges(t),o=gt.isBefore(n,s)?s:n,u=gt.isBefore(a,i)?a:i;return gt.isBefore(u,o)?null:GN({anchor:o,focus:u},r)},isBackward(e){var{anchor:t,focus:r}=e;return gt.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return gt.equals(t,r)},isExpanded(e){return!Ie.isCollapsed(e)},isForward(e){return!Ie.isBackward(e)},isRange(e){return Pt(e)&&gt.isPoint(e.anchor)&&gt.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=Ie.edges(e);return t},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===null)return null;var{affinity:n="inward"}=r,a,s;if(n==="inward"){var i=Ie.isCollapsed(e);Ie.isForward(e)?(a="forward",s=i?a:"backward"):(a="backward",s=i?a:"forward")}else n==="outward"?Ie.isForward(e)?(a="backward",s="forward"):(a="forward",s="backward"):(a=n,s=n);var o=gt.transform(e.anchor,t,{affinity:a}),u=gt.transform(e.focus,t,{affinity:s});return!o||!u?null:{anchor:o,focus:u}}},Zy=function(t){var{deep:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Pt(t))return!1;var n=typeof t.apply=="function";if(n)return!1;var a=r?Se.isNodeList(t.children):Array.isArray(t.children);return a},bn={isAncestor(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Pt(e)&&Se.isNodeList(e.children,{deep:t})},isElement:Zy,isElementList(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(e)&&e.every(r=>bn.isElement(r,{deep:t}))},isElementProps(e){return e.children!==void 0},isElementType:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Zy(t)&&t[n]===r},matches(e,t){for(var r in t)if(r!=="children"&&e[r]!==t[r])return!1;return!0}},YN=["children"],JN=["text"],Se={ancestor(e,t){var r=Se.get(e,t);if(tt.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(nr.stringify(r)));return r},ancestors(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of re.ancestors(t,r)){var a=Se.ancestor(e,n),s=[a,n];yield s}}()},child(e,t){if(tt.isText(e))throw new Error("Cannot get the child of a text node: ".concat(nr.stringify(e)));var r=e.children[t];if(r==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(nr.stringify(e)));return r},children(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,a=Se.ancestor(e,t),{children:s}=a,i=n?s.length-1:0;n?i>=0:i<s.length;){var o=Se.child(a,i),u=t.concat(i);yield[o,u],i=n?i-1:i+1}}()},common(e,t,r){var n=re.common(t,r),a=Se.get(e,n);return[a,n]},descendant(e,t){var r=Se.get(e,t);if(fr.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(nr.stringify(r)));return r},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Se.nodes(e,t))n.length!==0&&(yield[r,n])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Se.nodes(e,t))bn.isElement(r)&&(yield[r,n])}()},extractProps(e){if(bn.isAncestor(e)){var t=Os(e,YN);return t}else{var t=Os(e,JN);return t}},first(e,t){for(var r=t.slice(),n=Se.get(e,r);n&&!(tt.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(tt.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(nr.stringify(e)));var r=LN({children:e.children},n=>{var[a,s]=Ie.edges(t),i=Se.nodes(n,{reverse:!0,pass:d=>{var[,v]=d;return!Ie.includes(t,v)}});for(var[,o]of i){if(!Ie.includes(t,o)){var u=Se.parent(n,o),c=o[o.length-1];u.children.splice(c,1)}if(re.equals(o,s.path)){var l=Se.leaf(n,o);l.text=l.text.slice(0,s.offset)}if(re.equals(o,a.path)){var f=Se.leaf(n,o);f.text=f.text.slice(a.offset)}}fr.isEditor(n)&&(n.selection=null)});return r.children},get(e,t){var r=Se.getIf(e,t);if(r===void 0)throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(nr.stringify(e)));return r},getIf(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(tt.isText(r)||!r.children[a])return;r=r.children[a]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(tt.isText(r)||!r.children[a])return!1;r=r.children[a]}return!0},isNode(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return tt.isText(e)||bn.isElement(e,{deep:t})||fr.isEditor(e,{deep:t})},isNodeList(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(e)&&e.every(r=>Se.isNode(r,{deep:t}))},last(e,t){for(var r=t.slice(),n=Se.get(e,r);n&&!(tt.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],r.push(a)}return[n,r]},leaf(e,t){var r=Se.get(e,t);if(!tt.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(nr.stringify(r)));return r},levels(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of re.levels(t,r)){var a=Se.get(e,n);yield[a,n]}}()},matches(e,t){return bn.isElement(e)&&bn.isElementProps(t)&&bn.matches(e,t)||tt.isText(e)&&tt.isTextProps(t)&&tt.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=t,{from:a=[],to:s}=t,i=new Set,o=[],u=e;!(s&&(n?re.isBefore(o,s):re.isAfter(o,s)));){if(i.has(u)||(yield[u,o]),!i.has(u)&&!tt.isText(u)&&u.children.length!==0&&(r==null||r([u,o])===!1)){i.add(u);var c=n?u.children.length-1:0;re.isAncestor(o,a)&&(c=a[o.length]),o=o.concat(c),u=Se.get(e,o);continue}if(o.length===0)break;if(!n){var l=re.next(o);if(Se.has(e,l)){o=l,u=Se.get(e,o);continue}}if(n&&o[o.length-1]!==0){var f=re.previous(o);o=f,u=Se.get(e,o);continue}o=re.parent(o),u=Se.get(e,o),i.add(u)}}()},parent(e,t){var r=re.parent(t),n=Se.get(e,r);if(tt.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string(e){return tt.isText(e)?e.text:e.children.map(Se.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Se.nodes(e,t))tt.isText(r)&&(yield[r,n])}()}};function Xy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xy(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ha={isNodeOperation(e){return Ha.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Pt(e))return!1;switch(e.type){case"insert_node":return re.isPath(e.path)&&Se.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&re.isPath(e.path);case"merge_node":return typeof e.position=="number"&&re.isPath(e.path)&&Pt(e.properties);case"move_node":return re.isPath(e.path)&&re.isPath(e.newPath);case"remove_node":return re.isPath(e.path)&&Se.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&re.isPath(e.path);case"set_node":return re.isPath(e.path)&&Pt(e.properties)&&Pt(e.newProperties);case"set_selection":return e.properties===null&&Ie.isRange(e.newProperties)||e.newProperties===null&&Ie.isRange(e.properties)||Pt(e.properties)&&Pt(e.newProperties);case"split_node":return re.isPath(e.path)&&typeof e.position=="number"&&Pt(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Ha.isOperation(t))},isSelectionOperation(e){return Ha.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Ha.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return st(st({},e),{},{type:"remove_node"});case"insert_text":return st(st({},e),{},{type:"remove_text"});case"merge_node":return st(st({},e),{},{type:"split_node",path:re.previous(e.path)});case"move_node":{var{newPath:t,path:r}=e;if(re.equals(t,r))return e;if(re.isSibling(r,t))return st(st({},e),{},{path:t,newPath:r});var n=re.transform(r,e),a=re.transform(re.next(r),e);return st(st({},e),{},{path:n,newPath:a})}case"remove_node":return st(st({},e),{},{type:"insert_node"});case"remove_text":return st(st({},e),{},{type:"insert_text"});case"set_node":{var{properties:s,newProperties:i}=e;return st(st({},e),{},{properties:i,newProperties:s})}case"set_selection":{var{properties:o,newProperties:u}=e;return o==null?st(st({},e),{},{properties:u,newProperties:null}):u==null?st(st({},e),{},{properties:null,newProperties:o}):st(st({},e),{},{properties:u,newProperties:o})}case"split_node":return st(st({},e),{},{type:"merge_node",path:re.next(e.path)})}}},ZN=function(t){var{deep:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Pt(t))return!1;var n=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Pt(t.marks))&&(t.selection===null||Ie.isRange(t.selection))&&(!r||Se.isNodeList(t.children))&&Ha.isOperationList(t.operations);return n},fr={above(e,t){return e.above(t)},addMark(e,t,r){e.addMark(t,r)},after(e,t,r){return e.after(t,r)},before(e,t,r){return e.before(t,r)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,r){e.insertFragment(t,r)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,r){return e.isEdge(t,r)},isEditor(e){return ZN(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,r){return e.isEnd(t,r)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,r){return e.isStart(t,r)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,r){return e.leaf(t,r)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,r){return e.node(t,r)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,r){return e.parent(t,r)},path(e,t,r){return e.path(t,r)},pathRef(e,t,r){return e.pathRef(t,r)},pathRefs(e){return e.pathRefs()},point(e,t,r){return e.point(t,r)},pointRef(e,t,r){return e.pointRef(t,r)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,r){return e.range(t,r)},rangeRef(e,t,r){return e.rangeRef(t,r)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,r){return e.string(t,r)},unhangRange(e,t,r){return e.unhangRange(t,r)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,r)=>e.shouldMergeNodesRemovePrevNode(t,r)};function Qy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qy(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var gt={compare(e,t){var r=re.compare(e.path,t.path);return r===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter(e,t){return gt.compare(e,t)===1},isBefore(e,t){return gt.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&re.equals(e.path,t.path)},isPoint(e){return Pt(e)&&typeof e.offset=="number"&&re.isPath(e.path)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===null)return null;var{affinity:n="forward"}=r,{path:a,offset:s}=e;switch(t.type){case"insert_node":case"move_node":{a=re.transform(a,t,r);break}case"insert_text":{re.equals(t.path,a)&&(t.offset<s||t.offset===s&&n==="forward")&&(s+=t.text.length);break}case"merge_node":{re.equals(t.path,a)&&(s+=t.position),a=re.transform(a,t,r);break}case"remove_text":{re.equals(t.path,a)&&t.offset<=s&&(s-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(re.equals(t.path,a)||re.isAncestor(t.path,a))return null;a=re.transform(a,t,r);break}case"split_node":{if(re.equals(t.path,a)){if(t.position===s&&n==null)return null;(t.position<s||t.position===s&&n==="forward")&&(s-=t.position,a=re.transform(a,t,eb(eb({},r),{},{affinity:"forward"})))}else a=re.transform(a,t,r);break}default:return e}return{path:a,offset:s}}},tb=void 0,nr={setScrubber(e){tb=e},stringify(e){return JSON.stringify(e,tb)}},XN=["text"],QN=["anchor","focus","merge"];function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var tt={equals(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function a(s){var i=Os(s,XN);return i}return f1(n?a(e):e,n?a(t):t)},isText(e){return Pt(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>tt.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var r in t)if(r!=="text"&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[{leaf:Tr({},e)}];for(var n of t){var{anchor:a,focus:s,merge:i}=n,o=Os(n,QN),[u,c]=Ie.edges(n),l=[],f=0,d=u.offset,v=c.offset,h=i??Object.assign;for(var{leaf:g}of r){var{length:x}=g.text,y=f;if(f+=x,d<=y&&f<=v){h(g,o),l.push({leaf:g});continue}if(d!==v&&(d===f||v===y)||d>f||v<y||v===y&&y!==0){l.push({leaf:g});continue}var p=g,w=void 0,C=void 0;if(v<f){var P=v-y;C={leaf:Tr(Tr({},p),{},{text:p.text.slice(P)})},p=Tr(Tr({},p),{},{text:p.text.slice(0,P)})}if(d>y){var _=d-y;w={leaf:Tr(Tr({},p),{},{text:p.text.slice(0,_)})},p=Tr(Tr({},p),{},{text:p.text.slice(_)})}h(p,o),w&&l.push(w),l.push({leaf:p}),C&&l.push(C)}r=l}if(r.length>1){var R=0;for(var[E,A]of r.entries()){var S=R,B=S+A.leaf.text.length,k={start:S,end:B};E===0&&(k.isFirst=!0),E===r.length-1&&(k.isLast=!0),A.position=k,R=B}}return r}},eR=e=>e.selection?e.selection:e.children.length>0?fr.end(e,[]):[0],Je;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Je||(Je={}));Je.L,Je.L|Je.V|Je.LV|Je.LVT,Je.LV|Je.V,Je.V|Je.T,Je.LVT|Je.T,Je.T,Je.Any,Je.Extend|Je.ZWJ,Je.Any,Je.SpacingMark,Je.Prepend,Je.Any,Je.ZWJ,Je.ExtPict,Je.RI,Je.RI;var tR={delete(e,t){e.delete(t)},insertFragment(e,t,r){e.insertFragment(t,r)},insertText(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};fr.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:a=eR(e)}=r;if(re.isPath(a)&&(a=fr.range(e,a)),Ie.isRange(a))if(Ie.isCollapsed(a))a=a.anchor;else{var s=Ie.end(a);if(!n&&fr.void(e,{at:s}))return;var i=Ie.start(a),o=fr.pointRef(e,i),u=fr.pointRef(e,s);ab.delete(e,{at:a,voids:n});var c=o.unref(),l=u.unref();a=c||l,ab.setSelection(e,{anchor:a,focus:a})}if(!(!n&&fr.void(e,{at:a})||fr.elementReadOnly(e,{at:a}))){var{path:f,offset:d}=a;t.length>0&&e.apply({type:"insert_text",path:f,offset:d,text:t})}})}};function nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nb(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ab=si(si(si(si({},UN),WN),VN),tR);we({key:U.singleLine,override:{enabled:{[U.trailingBlock]:!1}}}).overrideEditor(({editor:e,tf:{normalizeNode:t}})=>({transforms:{insertBreak(){},insertSoftBreak(){},normalizeNode(r){const[n,a]=r;if(tt.isText(n)){const s=n.text.replace(/[\r\n\u2028\u2029]/g,"");if(s!==n.text){e.tf.insertText(s,{at:a});return}}if(a.length===0&&e.children.length>1){e.tf.withoutNormalizing(()=>{for(;e.children.length>1;)e.tf.mergeNodes({at:[1],match:(s,i)=>i.length===1})});return}t(r)}}}));var rR=({editor:e,getOptions:t,tf:{normalizeNode:r}})=>({transforms:{normalizeNode([n,a]){const{level:s,type:i,...o}=t();if(a.length===0){const u=e.api.last([],{level:s}),c=u?.[0];if(!c||c.type!==i&&un(u,o)){const l=u?fe.next(u[1]):[0];e.tf.insertNodes(e.api.create.block({type:i},l),{at:l});return}}return r([n,a])}}});dt({key:U.trailingBlock,options:{level:0}}).overrideEditor(rR).extend(({editor:e})=>({options:{type:e.getType(U.p)}}));const d1=e=>{switch(e){case"center":return"text-center";case"right":return"text-right";case"justify":return"text-justify";default:return"text-left"}},nR=e=>Ee.jsx("p",{...e.attributes,className:`${d1(e.element.align)} text-center text-base mb-4`,children:e.children});var af,sb;function aR(){if(sb)return af;sb=1,af=a;var e="֑-߿יִ-﷽ﹰ-ﻼ",t="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",r=new RegExp("^[^"+t+"]*["+e+"]"),n=new RegExp("^[^"+e+"]*["+t+"]");function a(s){return s=String(s||""),r.test(s)?"rtl":n.test(s)?"ltr":"neutral"}return af}var sR=aR();const p1=Dt(sR);var sf,ib;function iR(){if(ib)return sf;ib=1;var e=on(),t=function(){return e.Date.now()};return sf=t,sf}var of,ob;function oR(){if(ob)return of;ob=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return of=t,of}var uf,ub;function uR(){if(ub)return uf;ub=1;var e=oR(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return uf=r,uf}var cf,cb;function cR(){if(cb)return cf;cb=1;var e=uR(),t=ir(),r=lC(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,i=/^0o[0-7]+$/i,o=parseInt;function u(c){if(typeof c=="number")return c;if(r(c))return n;if(t(c)){var l=typeof c.valueOf=="function"?c.valueOf():c;c=t(l)?l+"":l}if(typeof c!="string")return c===0?c:+c;c=e(c);var f=s.test(c);return f||i.test(c)?o(c.slice(2),f?2:8):a.test(c)?n:+c}return cf=u,cf}var lf,lb;function h1(){if(lb)return lf;lb=1;var e=ir(),t=iR(),r=cR(),n="Expected a function",a=Math.max,s=Math.min;function i(o,u,c){var l,f,d,v,h,g,x=0,y=!1,p=!1,w=!0;if(typeof o!="function")throw new TypeError(n);u=r(u)||0,e(c)&&(y=!!c.leading,p="maxWait"in c,d=p?a(r(c.maxWait)||0,u):d,w="trailing"in c?!!c.trailing:w);function C(T){var j=l,L=f;return l=f=void 0,x=T,v=o.apply(L,j),v}function P(T){return x=T,h=setTimeout(E,u),y?C(T):v}function _(T){var j=T-g,L=T-x,J=u-j;return p?s(J,d-L):J}function R(T){var j=T-g,L=T-x;return g===void 0||j>=u||j<0||p&&L>=d}function E(){var T=t();if(R(T))return A(T);h=setTimeout(E,_(T))}function A(T){return h=void 0,w&&l?C(T):(l=f=void 0,v)}function S(){h!==void 0&&clearTimeout(h),x=0,l=g=f=h=void 0}function B(){return h===void 0?v:A(t())}function k(){var T=t(),j=R(T);if(l=arguments,f=this,g=T,j){if(h===void 0)return P(g);if(p)return clearTimeout(h),h=setTimeout(E,u),C(g)}return h===void 0&&(h=setTimeout(E,u)),v}return k.cancel=S,k.flush=B,k}return lf=i,lf}var lR=h1();const fR=Dt(lR);var ff,fb;function dR(){if(fb)return ff;fb=1;var e=h1(),t=ir(),r="Expected a function";function n(a,s,i){var o=!0,u=!0;if(typeof a!="function")throw new TypeError(r);return t(i)&&(o="leading"in i?!!i.leading:o,u="trailing"in i?!!i.trailing:u),e(a,s,{leading:o,maxWait:s,trailing:u})}return ff=n,ff}var pR=dR();const hR=Dt(pR),db=e=>typeof e=="object"&&e!=null&&e.nodeType===1,pb=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",ii=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return pb(r.overflowY,t)||pb(r.overflowX,t)||(n=>{const a=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)})(e)}return!1},oi=(e,t,r,n,a,s,i,o)=>s<e&&i>t||s>e&&i<t?0:s<=e&&o<=r||i>=t&&o>=r?s-e-n:i>t&&o<r||s<e&&o>r?i-t+a:0,vR=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},hb=(e,t)=>{var r,n,a,s;if(typeof document>"u")return[];const{scrollMode:i,block:o,inline:u,boundary:c,skipOverflowHiddenElements:l}=t,f=typeof c=="function"?c:J=>J!==c;if(!db(e))throw new TypeError("Invalid target");const d=document.scrollingElement||document.documentElement,v=[];let h=e;for(;db(h)&&f(h);){if(h=vR(h),h===d){v.push(h);break}h!=null&&h===document.body&&ii(h)&&!ii(document.documentElement)||h!=null&&ii(h,l)&&v.push(h)}const g=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,x=(s=(a=window.visualViewport)==null?void 0:a.height)!=null?s:innerHeight,{scrollX:y,scrollY:p}=window,{height:w,width:C,top:P,right:_,bottom:R,left:E}=e.getBoundingClientRect(),{top:A,right:S,bottom:B,left:k}=(J=>{const I=window.getComputedStyle(J);return{top:parseFloat(I.scrollMarginTop)||0,right:parseFloat(I.scrollMarginRight)||0,bottom:parseFloat(I.scrollMarginBottom)||0,left:parseFloat(I.scrollMarginLeft)||0}})(e);let T=o==="start"||o==="nearest"?P-A:o==="end"?R+B:P+w/2-A+B,j=u==="center"?E+C/2-k+S:u==="end"?_+S:E-k;const L=[];for(let J=0;J<v.length;J++){const I=v[J],{height:Y,width:W,top:Z,right:ie,bottom:le,left:oe}=I.getBoundingClientRect();if(i==="if-needed"&&P>=0&&E>=0&&R<=x&&_<=g&&(I===d&&!ii(I)||P>=Z&&R<=le&&E>=oe&&_<=ie))return L;const me=getComputedStyle(I),ue=parseInt(me.borderLeftWidth,10),ye=parseInt(me.borderTopWidth,10),be=parseInt(me.borderRightWidth,10),Te=parseInt(me.borderBottomWidth,10);let $=0,z=0;const M="offsetWidth"in I?I.offsetWidth-I.clientWidth-ue-be:0,q="offsetHeight"in I?I.offsetHeight-I.clientHeight-ye-Te:0,se="offsetWidth"in I?I.offsetWidth===0?0:W/I.offsetWidth:0,ne="offsetHeight"in I?I.offsetHeight===0?0:Y/I.offsetHeight:0;if(d===I)$=o==="start"?T:o==="end"?T-x:o==="nearest"?oi(p,p+x,x,ye,Te,p+T,p+T+w,w):T-x/2,z=u==="start"?j:u==="center"?j-g/2:u==="end"?j-g:oi(y,y+g,g,ue,be,y+j,y+j+C,C),$=Math.max(0,$+p),z=Math.max(0,z+y);else{$=o==="start"?T-Z-ye:o==="end"?T-le+Te+q:o==="nearest"?oi(Z,le,Y,ye,Te+q,T,T+w,w):T-(Z+Y/2)+q/2,z=u==="start"?j-oe-ue:u==="center"?j-(oe+W/2)+M/2:u==="end"?j-ie+be+M:oi(oe,ie,W,ue,be+M,j,j+C,C);const{scrollLeft:m,scrollTop:D}=I;$=ne===0?0:Math.max(0,Math.min(D+$/ne,I.scrollHeight-Y/ne+q)),z=se===0?0:Math.max(0,Math.min(m+z/se,I.scrollWidth-W/se+M)),T+=D-$,j+=m-z}L.push({el:I,top:$,left:z})}return L},mR=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function gR(e,t){if(!e.isConnected||!(a=>{let s=a;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(e))return;const r=(a=>{const s=window.getComputedStyle(a);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(e);if((a=>typeof a=="object"&&typeof a.behavior=="function")(t))return t.behavior(hb(e,t));const n=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:a,top:s,left:i}of hb(e,mR(t))){const o=s-r.top+r.bottom,u=i-r.left+r.right;a.scroll({top:o,left:u,behavior:n})}}var Sn=[],yR=function(){return Sn.some(function(e){return e.activeTargets.length>0})},bR=function(){return Sn.some(function(e){return e.skippedTargets.length>0})},vb="ResizeObserver loop completed with undelivered notifications.",xR=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:vb}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=vb),window.dispatchEvent(e)},As;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(As||(As={}));var Bn=function(e){return Object.freeze(e)},wR=function(){function e(t,r){this.inlineSize=t,this.blockSize=r,Bn(this)}return e}(),v1=function(){function e(t,r,n,a){return this.x=t,this.y=r,this.width=n,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Bn(this)}return e.prototype.toJSON=function(){var t=this,r=t.x,n=t.y,a=t.top,s=t.right,i=t.bottom,o=t.left,u=t.width,c=t.height;return{x:r,y:n,top:a,right:s,bottom:i,left:o,width:u,height:c}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Up=function(e){return e instanceof SVGElement&&"getBBox"in e},m1=function(e){if(Up(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var a=e,s=a.offsetWidth,i=a.offsetHeight;return!(s||i||e.getClientRects().length)},mb=function(e){var t;if(e instanceof Element)return!0;var r=(t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},ER=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ts=typeof window<"u"?window:{},ui=new WeakMap,gb=/auto|scroll/,DR=/^tb|vertical/,CR=/msie|trident/i.test(ts.navigator&&ts.navigator.userAgent),Dr=function(e){return parseFloat(e||"0")},ua=function(e,t,r){return e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=!1),new wR((r?t:e)||0,(r?e:t)||0)},yb=Bn({devicePixelContentBoxSize:ua(),borderBoxSize:ua(),contentBoxSize:ua(),contentRect:new v1(0,0,0,0)}),g1=function(e,t){if(t===void 0&&(t=!1),ui.has(e)&&!t)return ui.get(e);if(m1(e))return ui.set(e,yb),yb;var r=getComputedStyle(e),n=Up(e)&&e.ownerSVGElement&&e.getBBox(),a=!CR&&r.boxSizing==="border-box",s=DR.test(r.writingMode||""),i=!n&&gb.test(r.overflowY||""),o=!n&&gb.test(r.overflowX||""),u=n?0:Dr(r.paddingTop),c=n?0:Dr(r.paddingRight),l=n?0:Dr(r.paddingBottom),f=n?0:Dr(r.paddingLeft),d=n?0:Dr(r.borderTopWidth),v=n?0:Dr(r.borderRightWidth),h=n?0:Dr(r.borderBottomWidth),g=n?0:Dr(r.borderLeftWidth),x=f+c,y=u+l,p=g+v,w=d+h,C=o?e.offsetHeight-w-e.clientHeight:0,P=i?e.offsetWidth-p-e.clientWidth:0,_=a?x+p:0,R=a?y+w:0,E=n?n.width:Dr(r.width)-_-P,A=n?n.height:Dr(r.height)-R-C,S=E+x+P+p,B=A+y+C+w,k=Bn({devicePixelContentBoxSize:ua(Math.round(E*devicePixelRatio),Math.round(A*devicePixelRatio),s),borderBoxSize:ua(S,B,s),contentBoxSize:ua(E,A,s),contentRect:new v1(f,u,E,A)});return ui.set(e,k),k},y1=function(e,t,r){var n=g1(e,r),a=n.borderBoxSize,s=n.contentBoxSize,i=n.devicePixelContentBoxSize;switch(t){case As.DEVICE_PIXEL_CONTENT_BOX:return i;case As.BORDER_BOX:return a;default:return s}},PR=function(){function e(t){var r=g1(t);this.target=t,this.contentRect=r.contentRect,this.borderBoxSize=Bn([r.borderBoxSize]),this.contentBoxSize=Bn([r.contentBoxSize]),this.devicePixelContentBoxSize=Bn([r.devicePixelContentBoxSize])}return e}(),b1=function(e){if(m1(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},OR=function(){var e=1/0,t=[];Sn.forEach(function(i){if(i.activeTargets.length!==0){var o=[];i.activeTargets.forEach(function(c){var l=new PR(c.target),f=b1(c.target);o.push(l),c.lastReportedSize=y1(c.target,c.observedBox),f<e&&(e=f)}),t.push(function(){i.callback.call(i.observer,o,i.observer)}),i.activeTargets.splice(0,i.activeTargets.length)}});for(var r=0,n=t;r<n.length;r++){var a=n[r];a()}return e},bb=function(e){Sn.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(a){a.isActive()&&(b1(a.target)>e?r.activeTargets.push(a):r.skippedTargets.push(a))})})},AR=function(){var e=0;for(bb(e);yR();)e=OR(),bb(e);return bR()&&xR(),e>0},df,x1=[],SR=function(){return x1.splice(0).forEach(function(e){return e()})},BR=function(e){if(!df){var t=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return SR()}).observe(r,n),df=function(){r.textContent="".concat(t?t--:t++)}}x1.push(e),df()},kR=function(e){BR(function(){requestAnimationFrame(e)})},Pi=0,FR=function(){return!!Pi},TR=250,_R={attributes:!0,characterData:!0,childList:!0,subtree:!0},xb=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],wb=function(e){return e===void 0&&(e=0),Date.now()+e},pf=!1,NR=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var r=this;if(t===void 0&&(t=TR),!pf){pf=!0;var n=wb(t);kR(function(){var a=!1;try{a=AR()}finally{if(pf=!1,t=n-wb(),!FR())return;a?r.run(1e3):t>0?r.run(t):r.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,r=function(){return t.observer&&t.observer.observe(document.body,_R)};document.body?r():ts.addEventListener("DOMContentLoaded",r)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),xb.forEach(function(r){return ts.addEventListener(r,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),xb.forEach(function(r){return ts.removeEventListener(r,t.listener,!0)}),this.stopped=!0)},e}(),Bd=new NR,Eb=function(e){!Pi&&e>0&&Bd.start(),Pi+=e,!Pi&&Bd.stop()},RR=function(e){return!Up(e)&&!ER(e)&&getComputedStyle(e).display==="inline"},jR=function(){function e(t,r){this.target=t,this.observedBox=r||As.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=y1(this.target,this.observedBox,!0);return RR(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),IR=function(){function e(t,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=r}return e}(),ci=new WeakMap,Db=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return-1},li=function(){function e(){}return e.connect=function(t,r){var n=new IR(t,r);ci.set(t,n)},e.observe=function(t,r,n){var a=ci.get(t),s=a.observationTargets.length===0;Db(a.observationTargets,r)<0&&(s&&Sn.push(a),a.observationTargets.push(new jR(r,n&&n.box)),Eb(1),Bd.schedule())},e.unobserve=function(t,r){var n=ci.get(t),a=Db(n.observationTargets,r),s=n.observationTargets.length===1;a>=0&&(s&&Sn.splice(Sn.indexOf(n),1),n.observationTargets.splice(a,1),Eb(-1))},e.disconnect=function(t){var r=this,n=ci.get(t);n.observationTargets.slice().forEach(function(a){return r.unobserve(t,a.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),$R=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");li.connect(this,t)}return e.prototype.observe=function(t,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!mb(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");li.observe(this,t,r)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!mb(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");li.unobserve(this,t)},e.prototype.disconnect=function(){li.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function MR(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function to(e,t){if(e==null)return{};var r=MR(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function LR(e,t){if(Ss(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ss(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zR(e){var t=LR(e,"string");return Ss(t)==="symbol"?t:String(t)}function lt(e,t,r){return t=zR(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wp=K.createContext(null),Br=()=>{var e=K.useContext(Wp);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},ae=de;function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var qR=25,UR=200,WR=function(){},VR=e=>e?.constructor.name==="DataTransfer";function HR(e){var{editor:t,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=e,a=!1,s=null,i=null,o=null,u=0,c=!1,l=()=>{var k=Gr.get(t);if(Gr.delete(t),k){var{selection:T}=t,j=Xh(t,k);j&&(!T||!H.equals(j,T))&&X.select(t,j)}},f=()=>{var k=Kr.get(t);if(Kr.delete(t),!!k){if(k.at){var T=De.isPoint(k.at)?Xf(t,k.at):Xh(t,k.at);if(!T)return;var j=b.range(t,T);(!t.selection||!H.equals(t.selection,j))&&X.select(t,T)}k.run()}},d=()=>{if(i&&(clearTimeout(i),i=null),o&&(clearTimeout(o),o=null),!C()&&!w()){l();return}a||(a=!0,setTimeout(()=>a=!1)),w()&&(a="action");var k=t.selection&&b.rangeRef(t,t.selection,{affinity:"forward"});Nr.set(t,t.marks),WR("flush",Kr.get(t),It.get(t));for(var T=C(),j;j=(L=It.get(t))===null||L===void 0?void 0:L[0];){var L,J,I=yr.get(t);I!==void 0&&(yr.delete(t),t.marks=I),I&&c===!1&&(c=null);var Y=cO(j);(!t.selection||!H.equals(t.selection,Y))&&X.select(t,Y),j.diff.text?b.insertText(t,j.diff.text):b.deleteFragment(t),It.set(t,(J=It.get(t))===null||J===void 0?void 0:J.filter(ie=>{var{id:le}=ie;return le!==j.id})),sO(t,j)||(T=!1,Kr.delete(t),Nr.delete(t),a="action",Gr.delete(t),r.cancel(),n.cancel(),k?.unref())}var W=k?.unref();if(W&&!Gr.get(t)&&(!t.selection||!H.equals(W,t.selection))&&X.select(t,W),w()){f();return}T&&r(),r.flush(),n.flush(),l();var Z=Nr.get(t);Nr.delete(t),Z!==void 0&&(t.marks=Z,t.onChange())},v=k=>{s&&clearTimeout(s),s=setTimeout(()=>{Dn.set(t,!1),d()},qR)},h=k=>{Dn.set(t,!0),s&&(clearTimeout(s),s=null)},g=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,j=Yf.get(t);if(j){if(C()||T){j.style.display="none";return}j.style.removeProperty("display")}},x=(k,T)=>{var j,L=(j=It.get(t))!==null&&j!==void 0?j:[];It.set(t,L);var J=te.leaf(t,k),I=L.findIndex(Z=>N.equals(Z.path,k));if(I<0){var Y=Ew(J.text,T);Y&&L.push({path:k,diff:T,id:u++}),g();return}var W=uO(J.text,L[I].diff,T);if(!W){L.splice(I,1),g();return}L[I]=fi(fi({},L[I]),{},{diff:W})},y=function(T){var{at:j}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};c=!1,Gr.delete(t),r.cancel(),n.cancel(),w()&&d(),Kr.set(t,{at:j,run:T}),o=setTimeout(d)},p=k=>{var T;if(i&&(clearTimeout(i),i=null),!ia.get(t)){var{inputType:j}=k,L=null,J=k.dataTransfer||k.data||void 0;c!==!1&&j!=="insertText"&&j!=="insertCompositionText"&&(c=!1);var[I]=k.getTargetRanges();I&&(L=ae.toSlateRange(t,I,{exactMatch:!1,suppressThrow:!0}));var Y=ae.getWindow(t),W=Y.getSelection();if(!L&&W&&(I=W,L=ae.toSlateRange(t,W,{exactMatch:!1,suppressThrow:!0})),L=(T=L)!==null&&T!==void 0?T:t.selection,!!L){var Z=!0;if(j.startsWith("delete")){if(H.isExpanded(L)){var[ie,le]=H.edges(L),oe=te.leaf(t,ie.path);if(oe.text.length===ie.offset&&le.offset===0){var me=b.next(t,{at:ie.path,match:ce.isText});me&&N.equals(me[1],le.path)&&(L={anchor:le,focus:le})}}var ue=j.endsWith("Backward")?"backward":"forward",[ye,be]=H.edges(L),[Te,$]=b.leaf(t,ye.path),z={text:"",start:ye.offset,end:be.offset},M=It.get(t),q=M?.find(Ne=>N.equals(Ne.path,$)),se=q?[q.diff,z]:[z],ne=ww(Te.text,...se);if(ne.length===0&&(Z=!1),H.isExpanded(L)){if(Z&&N.equals(L.anchor.path,L.focus.path)){var m={path:L.anchor.path,offset:ye.offset},D=b.range(t,m,m);return R(D),x(L.anchor.path,{text:"",end:be.offset,start:ye.offset})}return y(()=>b.deleteFragment(t,{direction:ue}),{at:L})}}switch(j){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return y(()=>b.deleteFragment(t),{at:L});case"deleteContent":case"deleteContentForward":{var{anchor:O}=L;if(Z&&H.isCollapsed(L)){var G=te.leaf(t,O.path);if(O.offset<G.text.length)return x(O.path,{text:"",start:O.offset,end:O.offset+1})}return y(()=>b.deleteForward(t),{at:L})}case"deleteContentBackward":{var he,{anchor:Ce}=L,_e=Gf(I)?I.isCollapsed:!!((he=I)!==null&&he!==void 0&&he.collapsed);return Z&&_e&&H.isCollapsed(L)&&Ce.offset>0?x(Ce.path,{text:"",start:Ce.offset-1,end:Ce.offset}):y(()=>b.deleteBackward(t),{at:L})}case"deleteEntireSoftLine":return y(()=>{b.deleteBackward(t,{unit:"line"}),b.deleteForward(t,{unit:"line"})},{at:L});case"deleteHardLineBackward":return y(()=>b.deleteBackward(t,{unit:"block"}),{at:L});case"deleteSoftLineBackward":return y(()=>b.deleteBackward(t,{unit:"line"}),{at:L});case"deleteHardLineForward":return y(()=>b.deleteForward(t,{unit:"block"}),{at:L});case"deleteSoftLineForward":return y(()=>b.deleteForward(t,{unit:"line"}),{at:L});case"deleteWordBackward":return y(()=>b.deleteBackward(t,{unit:"word"}),{at:L});case"deleteWordForward":return y(()=>b.deleteForward(t,{unit:"word"}),{at:L});case"insertLineBreak":return y(()=>b.insertSoftBreak(t),{at:L});case"insertParagraph":return y(()=>b.insertBreak(t),{at:L});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(VR(J))return y(()=>ae.insertData(t,J),{at:L});var Pe=J??"";if(yr.get(t)&&(Pe=Pe.replace("\uFEFF","")),j==="insertText"&&/.*\n.*\n$/.test(Pe)&&(Pe=Pe.slice(0,-1)),Pe.includes(`
`))return y(()=>{var Ne=Pe.split(`
`);Ne.forEach((Ke,ur)=>{Ke&&b.insertText(t,Ke),ur!==Ne.length-1&&b.insertSoftBreak(t)})},{at:L});if(N.equals(L.anchor.path,L.focus.path)){var[qe,Nt]=H.edges(L),He={start:qe.offset,end:Nt.offset,text:Pe};if(Pe&&c&&j==="insertCompositionText"){var Bt=c.start+c.text.search(/\S|$/),Rt=He.start+He.text.search(/\S|$/);Rt===Bt+1&&He.end===c.start+c.text.length?(He.start-=1,c=null,S()):c=!1}else j==="insertText"?c===null?c=He:c&&H.isCollapsed(L)&&c.end+c.text.length===qe.offset?c=fi(fi({},c),{},{text:c.text+Pe}):c=!1:c=!1;if(Z){x(qe.path,He);return}}return y(()=>b.insertText(t,Pe),{at:L})}}}}},w=()=>!!Kr.get(t),C=()=>{var k;return!!((k=It.get(t))!==null&&k!==void 0&&k.length)},P=()=>w()||C(),_=()=>a,R=k=>{Gr.set(t,k),i&&(clearTimeout(i),i=null);var{selection:T}=t;if(k){var j=!T||!N.equals(T.anchor.path,k.anchor.path),L=!T||!N.equals(T.anchor.path.slice(0,-1),k.anchor.path.slice(0,-1));(j&&c||L)&&(c=!1),(j||C())&&(i=setTimeout(d,UR))}},E=()=>{(w()||!C())&&d()},A=k=>{C()||(g(!0),setTimeout(g))},S=()=>{w()||(o=setTimeout(d))},B=k=>{if(!(C()||w())&&k.some(j=>Qd(t,j,k))){var T;(T=bw.get(t))===null||T===void 0||T()}};return{flush:d,scheduleFlush:S,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:P,isFlushing:_,handleUserSelect:R,handleCompositionEnd:v,handleCompositionStart:h,handleDOMBeforeInput:p,handleKeyDown:A,handleDomMutations:B,handleInput:E}}function KR(){var e=K.useRef(!1);return K.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var zr=gi?K.useLayoutEffect:K.useEffect;function GR(e,t,r){var[n]=K.useState(()=>new MutationObserver(t));zr(()=>{n.takeRecords()}),K.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(e.current,r),()=>n.disconnect()},[n,e,r])}var YR=["node"];function Pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pb(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ZR={subtree:!0,childList:!0,characterData:!0},XR=Tt?e=>{var{node:t}=e,r=to(e,YR);if(!Tt)return null;var n=Br(),a=KR(),[s]=K.useState(()=>HR(JR({editor:n},r)));return GR(t,s.handleDomMutations,ZR),tp.set(n,s.scheduleFlush),a&&s.flush(),s}:()=>null;function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ej=e=>{var{isLast:t,leaf:r,parent:n,text:a}=e,s=Br(),i=ae.findPath(s,a),o=N.parent(i),u=!!r[xw];return s.isVoid(n)?F.createElement(hf,{length:te.string(n).length}):r.text===""&&n.children[n.children.length-1]===a&&!s.isInline(n)&&b.string(s,o)===""?F.createElement(hf,{isLineBreak:!0,isMarkPlaceholder:u}):r.text===""?F.createElement(hf,{isMarkPlaceholder:u}):t&&r.text.slice(-1)===`
`?F.createElement(Ab,{isTrailing:!0,text:r.text}):F.createElement(Ab,{text:r.text})},Ab=e=>{var{text:t,isTrailing:r=!1}=e,n=K.useRef(null),a=()=>"".concat(t??"").concat(r?`
`:""),[s]=K.useState(a);return zr(()=>{var i=a();n.current&&n.current.textContent!==i&&(n.current.textContent=i)}),F.createElement(tj,{ref:n},s)},tj=K.memo(K.forwardRef((e,t)=>F.createElement("span",{"data-slate-string":!0,ref:t},e.children))),hf=e=>{var{length:t=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=e,a={"data-slate-zero-width":r?"n":"z","data-slate-length":t};return n&&(a["data-slate-mark-placeholder"]=!0),F.createElement("span",QR({},a),!Tt||!r?"\uFEFF":null,r?F.createElement("br",null):null)};function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var rj=Tt?300:0;function nj(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function Bb(e){e.current&&(clearTimeout(e.current),e.current=null)}var aj=e=>F.createElement(oj,w1({},e)),sj=e=>{var{leaf:t,isLast:r,text:n,parent:a,renderPlaceholder:s,renderLeaf:i=aj,leafPosition:o}=e,u=Br(),c=K.useRef(null),l=K.useRef(null),[f,d]=K.useState(!1),v=K.useRef(null),h=K.useCallback(w=>{if(nj(c,w==null),w==null){var C;Yf.delete(u),(C=t.onPlaceholderResize)===null||C===void 0||C.call(t,null)}else{if(Yf.set(u,w),!c.current){var P=window.ResizeObserver||$R;c.current=new P(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,w)})}c.current.observe(w),l.current=w}},[l,t,u]),g=F.createElement(ej,{isLast:r,leaf:t,parent:a,text:n}),x=!!t[la];if(K.useEffect(()=>(x?v.current||(v.current=setTimeout(()=>{d(!0),v.current=null},rj)):(Bb(v),d(!1)),()=>Bb(v)),[x,d]),x&&f){var y={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:hn?"inherit":void 0},contentEditable:!1,ref:h}};g=F.createElement(F.Fragment,null,g,s(y))}var p={"data-slate-leaf":!0};return i({attributes:p,children:g,leaf:t,text:n,leafPosition:o})},ij=F.memo(sj,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&ce.equals(t.leaf,e.leaf)&&t.leaf[la]===e.leaf[la]),oj=e=>{var{attributes:t,children:r}=e;return F.createElement("span",w1({},t),r)};function uj(e,t){var[,r]=K.useReducer(c=>c+1,0),n=K.useRef(),a=K.useRef(()=>null),s=K.useRef(null),i;try{if(e!==a.current||n.current){var o=e();t(s.current,o)?i=s.current:i=o}else i=s.current}catch(c){throw n.current&&cj(c)&&(c.message+=`
The error may be correlated with this previous error:
`.concat(n.current.stack,`

`)),c}a.current=e,s.current=i,n.current=void 0;var u=K.useCallback(()=>{try{var c=a.current();if(t(s.current,c))return;s.current=c}catch(l){l instanceof Error?n.current=l:n.current=new Error(String(l))}r()},[]);return[i,u]}function cj(e){return e instanceof Error}var E1=K.createContext({}),D1=(e,t)=>{var r=Br(),{decorate:n,addEventListener:a}=K.useContext(E1),s=()=>{var c=ae.findPath(r,e);return n([e,c])},i=ce.isText(e)?rp:yo,[o,u]=uj(s,i);return zr(()=>{var c=a(u);return u(),c},[a,u]),K.useMemo(()=>[...o,...t],[o,t])},lj=e=>{var t=K.useRef(new Set),r=K.useRef(e);zr(()=>{r.current=e,t.current.forEach(s=>s())},[e]);var n=K.useCallback(s=>r.current(s),[]),a=K.useCallback(s=>(t.current.add(s),()=>{t.current.delete(s)}),[]);return K.useMemo(()=>({decorate:n,addEventListener:a}),[n,a])};function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var fj=e=>F.createElement(pj,C1({},e)),dj=e=>{for(var{decorations:t,isLast:r,parent:n,renderPlaceholder:a,renderLeaf:s,renderText:i=fj,text:o}=e,u=Br(),c=K.useRef(null),l=D1(o,t),f=ce.decorations(o,l),d=ae.findKey(u,o),v=[],h=0;h<f.length;h++){var{leaf:g,position:x}=f[h];v.push(F.createElement(ij,{isLast:r&&h===f.length-1,key:"".concat(d.id,"-").concat(h),renderPlaceholder:a,leaf:g,leafPosition:x,text:o,parent:n,renderLeaf:s}))}var y=K.useCallback(w=>{var C=go.get(u);w?(C?.set(d,w),An.set(o,w),cs.set(w,o)):(C?.delete(d),An.delete(o),c.current&&cs.delete(c.current)),c.current=w},[c,u,d,o]),p={"data-slate-node":"text",ref:y};return i({text:o,children:v,attributes:p})},P1=F.memo(dj,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderText===e.renderText&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&rp(t.decorations,e.decorations)),pj=e=>{var{attributes:t,children:r}=e;return F.createElement("span",C1({},t),r)};function Fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fb(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var hj=e=>F.createElement(gj,kd({},e)),vj=e=>{var{decorations:t,element:r,renderElement:n=hj,renderChunk:a,renderPlaceholder:s,renderLeaf:i,renderText:o}=e,u=Br(),c=Ur(),l=u.isInline(r),f=D1(r,t),d=ae.findKey(u,r),v=K.useCallback(C=>{var P=go.get(u);C?(P?.set(d,C),An.set(r,C),cs.set(C,r)):(P?.delete(d),An.delete(r))},[u,d,r]),h=S1({decorations:f,node:r,renderElement:n,renderChunk:a,renderPlaceholder:s,renderLeaf:i,renderText:o}),g={"data-slate-node":"element",ref:v};if(l&&(g["data-slate-inline"]=!0),!l&&b.hasInlines(u,r)){var x=te.string(r),y=p1(x);y==="rtl"&&(g.dir=y)}if(b.isVoid(u,r)){g["data-slate-void"]=!0,!c&&l&&(g.contentEditable=!1);var p=l?"span":"div",[[w]]=te.texts(r);h=F.createElement(p,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},F.createElement(P1,{renderPlaceholder:s,decorations:[],isLast:!1,parent:r,text:w})),sa.set(w,0),Za.set(w,r)}return n({attributes:g,children:h,element:r})},mj=F.memo(vj,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderChunk===t.renderChunk&&e.renderText===t.renderText&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&yo(e.decorations,t.decorations)),gj=e=>{var{attributes:t,children:r,element:n}=e,a=Br(),s=a.isInline(n)?"span":"div";return F.createElement(s,kd(kd({},t),{},{style:{position:"relative"}}),r)};class yj{constructor(t,r){var{chunkSize:n,debug:a}=r;lt(this,"root",void 0),lt(this,"chunkSize",void 0),lt(this,"debug",void 0),lt(this,"reachedEnd",void 0),lt(this,"pointerChunk",void 0),lt(this,"pointerIndex",void 0),lt(this,"pointerIndexStack",void 0),lt(this,"cachedPointerNode",void 0),this.root=t,this.chunkSize=n,this.debug=a??!1,this.pointerChunk=t,this.pointerIndex=-1,this.pointerIndexStack=[],this.reachedEnd=!1,this.validateState()}readLeaf(){if(this.reachedEnd)return null;for(;;)if(this.pointerIndex+1<this.pointerSiblings.length){this.pointerIndex++,this.cachedPointerNode=void 0;break}else{if(this.pointerChunk.type==="root")return this.reachedEnd=!0,null;this.exitChunk()}return this.validateState(),this.enterChunkUntilLeaf(!1),this.pointerNode}returnToPreviousLeaf(){if(this.reachedEnd){this.reachedEnd=!1,this.enterChunkUntilLeaf(!0);return}for(;;)if(this.pointerIndex>=1){this.pointerIndex--,this.cachedPointerNode=void 0;break}else if(this.pointerChunk.type==="root"){this.pointerIndex=-1;return}else this.exitChunk();this.validateState(),this.enterChunkUntilLeaf(!0)}insertBefore(t){this.returnToPreviousLeaf(),this.insertAfter(t),this.readLeaf()}insertAfter(t){if(t.length!==0){for(var r=0,n=0;this.pointerChunk.type==="chunk"&&this.pointerIndex===this.pointerSiblings.length-1;){var a=this.chunkSize-this.pointerSiblings.length,s=Math.min(a,t.length);if(s>0){var i=t.splice(0,s);this.rawInsertAfter(i,r)}this.exitChunk(),r++}if(t.length!==0){var o=this.savePointer(),u=null;if(this.readLeaf())for(;this.pointerChunk.type==="chunk"&&this.pointerIndex===0;){var c=this.chunkSize-this.pointerSiblings.length,l=Math.min(c,t.length);if(l>0){var f=t.splice(-l,l);this.pointerIndex=-1,this.cachedPointerNode=void 0,this.rawInsertAfter(f,n),u||(u=this.savePointer())}this.exitChunk(),n++}this.restorePointer(o);var d=Math.max(r,n);this.rawInsertAfter(t,d),u&&this.restorePointer(u),this.validateState()}}}remove(){this.pointerSiblings.splice(this.pointerIndex--,1),this.cachedPointerNode=void 0,this.pointerSiblings.length===0&&this.pointerChunk.type==="chunk"?(this.exitChunk(),this.remove()):this.invalidateChunk(),this.validateState()}invalidateChunk(){for(var t=this.pointerChunk;t.type==="chunk";t=t.parent)this.root.modifiedChunks.add(t)}get atStart(){return this.pointerChunk.type==="root"&&this.pointerIndex===-1}get pointerSiblings(){return this.pointerChunk.children}getPointerNode(){return this.reachedEnd||this.pointerIndex===-1?null:this.pointerSiblings[this.pointerIndex]}get pointerNode(){if(this.cachedPointerNode!==void 0)return this.cachedPointerNode;var t=this.getPointerNode();return this.cachedPointerNode=t,t}getChunkPath(t){for(var r=[],n=t;n.type==="chunk";n=n.parent){var a=n.parent.children.indexOf(n);if(a===-1)return null;r.unshift(a)}return r}savePointer(){if(this.atStart)return"start";if(!this.pointerNode)throw new Error("Cannot save pointer when pointerNode is null");return{chunk:this.pointerChunk,node:this.pointerNode}}restorePointer(t){if(t==="start"){this.pointerChunk=this.root,this.pointerIndex=-1,this.pointerIndexStack=[],this.reachedEnd=!1,this.cachedPointerNode=void 0;return}var{chunk:r,node:n}=t,a=r.children.indexOf(n);if(a===-1)throw new Error("Cannot restore point because saved node is no longer in saved chunk");var s=this.getChunkPath(r);if(!s)throw new Error("Cannot restore point because saved chunk is no longer connected to root");this.pointerChunk=r,this.pointerIndex=a,this.pointerIndexStack=s,this.reachedEnd=!1,this.cachedPointerNode=n,this.validateState()}enterChunk(t){var r;if(((r=this.pointerNode)===null||r===void 0?void 0:r.type)!=="chunk")throw new Error("Cannot enter non-chunk");if(this.pointerIndexStack.push(this.pointerIndex),this.pointerChunk=this.pointerNode,this.pointerIndex=t?this.pointerSiblings.length-1:0,this.cachedPointerNode=void 0,this.validateState(),this.pointerChunk.children.length===0)throw new Error("Cannot enter empty chunk")}enterChunkUntilLeaf(t){for(;((r=this.pointerNode)===null||r===void 0?void 0:r.type)==="chunk";){var r;this.enterChunk(t)}}exitChunk(){if(this.pointerChunk.type==="root")throw new Error("Cannot exit root");var t=this.pointerChunk;this.pointerChunk=t.parent,this.pointerIndex=this.pointerIndexStack.pop(),this.cachedPointerNode=void 0,this.validateState()}rawInsertAfter(t,r){if(t.length!==0){for(var n=(l,f,d)=>{if(d===1)return l;for(var v=[],h=0;h<this.chunkSize;h++){var g=l.slice(h*d,(h+1)*d);if(g.length===0)break;var x={type:"chunk",key:new gw,parent:f,children:[]};x.children=n(g,x,d/this.chunkSize),v.push(x)}return v},a=this.pointerSiblings.length+t.length,s=0,i=this.chunkSize;i<a;i*=this.chunkSize)s++;var o=Math.max(s,r),u=Math.pow(this.chunkSize,o),c=n(t,this.pointerChunk,u);this.pointerSiblings.splice(this.pointerIndex+1,0,...c),this.pointerIndex+=c.length,this.cachedPointerNode=void 0,this.invalidateChunk(),this.validateState()}}validateState(){if(this.debug){var t=n=>{if(n.type==="chunk"){var{parent:a,children:s}=n;if(!a.children.includes(n))throw new Error("Debug: Chunk ".concat(n.key.id," has an incorrect parent property"));s.forEach(t)}};if(this.root.children.forEach(t),this.cachedPointerNode!==void 0&&this.cachedPointerNode!==this.getPointerNode())throw new Error("Debug: The cached pointer is incorrect and has not been invalidated");var r=this.getChunkPath(this.pointerChunk);if(!r)throw new Error("Debug: The pointer chunk is not connected to the root");if(!N.equals(this.pointerIndexStack,r))throw new Error("Debug: The cached index stack [".concat(this.pointerIndexStack.join(", "),"] does not match the path of the pointer chunk [").concat(r.join(", "),"]"))}}}class bj{constructor(t,r){lt(this,"editor",void 0),lt(this,"children",void 0),lt(this,"cachedKeys",void 0),lt(this,"pointerIndex",void 0),this.editor=t,this.children=r,this.cachedKeys=new Array(r.length),this.pointerIndex=0}read(t){if(t===1)return[this.children[this.pointerIndex++]];var r=this.remaining(t);return this.pointerIndex+=t,r}remaining(t){return t===void 0?this.children.slice(this.pointerIndex):this.children.slice(this.pointerIndex,this.pointerIndex+t)}get reachedEnd(){return this.pointerIndex>=this.children.length}lookAhead(t,r){var n=this.children.indexOf(t,this.pointerIndex);if(n>-1)return n-this.pointerIndex;for(var a=this.pointerIndex;a<this.children.length;a++){var s=this.children[a],i=this.findKey(s,a);if(i===r)return a-this.pointerIndex}return-1}toChunkLeaves(t,r){return t.map((n,a)=>({type:"leaf",node:n,key:this.findKey(n,r+a),index:r+a}))}findKey(t,r){var n=this.cachedKeys[r];if(n)return n;var a=ae.findKey(this.editor,t);return this.cachedKeys[r]=a,a}}var xj=(e,t)=>{var{chunkTree:r,children:n,chunkSize:a,rerenderChildren:s=[],onInsert:i,onUpdate:o,onIndexChange:u,debug:c}=t;r.modifiedChunks.clear();for(var l=new yj(r,{chunkSize:a,debug:c}),f=new bj(e,n),d,v=function(){var y=f.lookAhead(d.node,d.key),p=y>0&&r.movedNodeKeys.has(d.key);if(y===-1||p)return l.remove(),1;var w=f.pointerIndex,C=f.read(y+1),P=C.pop();if(C.length){var _=f.toChunkLeaves(C,w);l.insertBefore(_),C.forEach((E,A)=>{i?.(E,w+A)})}var R=f.pointerIndex-1;d.node!==P&&(d.node=P,l.invalidateChunk(),o?.(P,R)),d.index!==R&&(d.index=R,u?.(P,R)),s.includes(R)&&l.invalidateChunk()};d=l.readLeaf();)v();if(!f.reachedEnd){var h=f.remaining(),g=f.toChunkLeaves(h,f.pointerIndex);l.returnToPreviousLeaf(),l.insertAfter(g),h.forEach((x,y)=>{i?.(x,f.pointerIndex+y)})}r.movedNodeKeys.clear()};function Tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tb(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var _b=new WeakMap,O1=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=ae.findKey(t,r),s=_b.get(a);return s||(s={type:"root",movedNodeKeys:new Set,modifiedChunks:new Set,children:[]},_b.set(a,s)),n.reconcile&&xj(t,wj({chunkTree:s,children:r.children},n.reconcile)),s},Ej=e=>{var{children:t}=e;return t},A1=e=>{var{root:t,ancestor:r,renderElement:n,renderChunk:a=Ej}=e;return r.children.map(s=>{if(s.type==="chunk"){var i=s.key.id,o=a({highest:r===t,lowest:s.children.some(c=>c.type==="leaf"),attributes:{"data-slate-chunk":!0},children:F.createElement(Cj,{root:t,ancestor:s,renderElement:n,renderChunk:a})});return F.createElement(K.Fragment,{key:i},o)}var u=s.node;return n(u,s.index,s.key)})},Dj=A1,Cj=F.memo(A1,(e,t)=>e.root===t.root&&e.renderElement===t.renderElement&&e.renderChunk===t.renderChunk&&!t.root.modifiedChunks.has(t.ancestor)),Pj=K.createContext(null),S1=e=>{var{decorations:t,node:r,renderElement:n,renderChunk:a,renderPlaceholder:s,renderText:i,renderLeaf:o}=e,u=Br();ia.set(u,!1);var c=b.isEditor(r),l=!c&&pe.isElement(r)&&!u.isInline(r),f=l&&b.hasInlines(u,r),d=f?null:u.getChunkSize(r),v=!!d,{decorationsByChild:h,childrenToRedecorate:g}=Oj(u,r,t);v||r.children.forEach((w,C)=>{sa.set(w,C),Za.set(w,r)});var x=K.useCallback((w,C,P)=>{var _=P??ae.findKey(u,w);return F.createElement(Pj.Provider,{key:"provider-".concat(_.id),value:w},F.createElement(mj,{decorations:h[C],element:w,key:_.id,renderElement:n,renderChunk:a,renderPlaceholder:s,renderLeaf:o,renderText:i}))},[u,h,n,a,s,o,i]),y=(w,C)=>{var P=ae.findKey(u,w);return F.createElement(P1,{decorations:h[C],key:P.id,isLast:C===r.children.length-1,parent:r,renderPlaceholder:s,renderLeaf:o,renderText:i,text:w})};if(!v)return r.children.map((w,C)=>ce.isText(w)?y(w,C):x(w,C));var p=O1(u,r,{reconcile:{chunkSize:d,rerenderChildren:g,onInsert:(w,C)=>{sa.set(w,C),Za.set(w,r)},onUpdate:(w,C)=>{sa.set(w,C),Za.set(w,r)},onIndexChange:(w,C)=>{sa.set(w,C)}}});return F.createElement(Dj,{root:p,ancestor:p,renderElement:x,renderChunk:a})},Oj=(e,t,r)=>{var n=wO(e,t,r),a=K.useRef(n).current,s=[];a.length=n.length;for(var i=0;i<n.length;i++){var o,u=n[i],c=(o=a[i])!==null&&o!==void 0?o:null;yo(c,u)||(a[i]=u,s.push(i))}return{decorationsByChild:a,childrenToRedecorate:s}},B1=K.createContext(!1),Ur=()=>K.useContext(B1),Vp=K.createContext({});function Aj(){var e=K.useRef(new Set),t=K.useRef(new Set),r=K.useCallback(()=>{e.current.forEach(i=>i())},[]),n=K.useCallback(()=>{t.current.forEach(i=>i()),t.current.clear()},[]),a=K.useCallback(function(i){var{deferred:o=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=o?()=>t.current.add(i):i;return e.current.add(u),()=>{e.current.delete(u)}},[]),s=K.useMemo(()=>({addEventListener:a,flushDeferred:n}),[a,n]);return{selectorContext:s,onChange:r}}function Sj(){var{flushDeferred:e}=K.useContext(Vp);zr(e)}var Bj=()=>{var{addEventListener:e}=K.useContext(Vp),[,t]=K.useReducer(r=>r+1,0);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");return zr(()=>e(t),[e]),Br()};function kj(){var e=Br(),t=K.useRef(!1),r=K.useRef(0),n=K.useCallback(()=>{if(!t.current){t.current=!0;var a=ae.getWindow(e);a.cancelAnimationFrame(r.current),r.current=a.requestAnimationFrame(()=>{t.current=!1})}},[e]);return K.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:t,onUserInput:n}}var Fj=(e,t)=>{var r=[],n=()=>{r=[]},a=i=>{if(t.current){var o=i.filter(u=>Qd(e,u,i));r.push(...o)}};function s(){r.length>0&&(r.reverse().forEach(i=>{i.type!=="characterData"&&(i.removedNodes.forEach(o=>{i.target.insertBefore(o,i.nextSibling)}),i.addedNodes.forEach(o=>{i.target.removeChild(o)}))}),n())}return{registerMutations:a,restoreDOM:s,clear:n}},Tj={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class k1 extends K.Component{constructor(){super(...arguments),lt(this,"context",null),lt(this,"manager",null),lt(this,"mutationObserver",null)}observe(){var t,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(r.current,Tj)}componentDidMount(){var{receivedUserInput:t}=this.props,r=this.context;this.manager=Fj(r,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,r,n,a=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(a!=null&&a.length){var s;(s=this.manager)===null||s===void 0||s.registerMutations(a)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}lt(k1,"contextType",Wp);var _j=Tt?k1:e=>{var{children:t}=e;return F.createElement(F.Fragment,null,t)},F1=K.createContext(!1),Nj=()=>K.useContext(F1),Rj=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderChunk","renderLeaf","renderText","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],jj=["text"];function Nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(r),!0).forEach(function(n){lt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ij=e=>F.createElement(F.Fragment,null,S1(e)),$j=K.forwardRef((e,t)=>{var r=K.useCallback($=>F.createElement(Mj,Cr({},$)),[]),{autoFocus:n,decorate:a=Lj,onDOMBeforeInput:s,placeholder:i,readOnly:o=!1,renderElement:u,renderChunk:c,renderLeaf:l,renderText:f,renderPlaceholder:d=r,scrollSelectionIntoView:v=zj,style:h={},as:g="div",disableDefaultStyles:x=!1}=e,y=to(e,Rj),p=Bj(),[w,C]=K.useState(!1),P=K.useRef(null),_=K.useRef([]),[R,E]=K.useState(),A=K.useRef(!1),{onUserInput:S,receivedUserInput:B}=kj(),[,k]=K.useReducer($=>$+1,0);bw.set(p,k),Jf.set(p,o);var T=K.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);K.useEffect(()=>{P.current&&n&&P.current.focus()},[n]);var j=K.useRef(),L=K.useMemo(()=>hR(()=>{if(ia.get(p)){L();return}var $=ae.toDOMNode(p,p),z=$.getRootNode();if(!A.current&&hn&&z instanceof ShadowRoot){A.current=!0;var M=KP();M?document.execCommand("indent"):X.deselect(p),A.current=!1;return}var q=j.current;if((Tt||!ae.isComposing(p))&&(!T.isUpdatingSelection||q!=null&&q.isFlushing())&&!T.isDraggingInternally){var se=ae.findDocumentOrShadowRoot(p),{activeElement:ne}=se,m=ae.toDOMNode(p,p),D=Ja(se);if(ne===m?(T.latestElement=ne,Zr.set(p,!0)):Zr.delete(p),!D)return X.deselect(p);var{anchorNode:O,focusNode:G}=D,he=ae.hasEditableTarget(p,O)||ae.isTargetInsideNonReadonlyVoid(p,O),Ce=ae.hasTarget(p,G);if(he&&Ce){var _e=ae.toSlateRange(p,D,{exactMatch:!1,suppressThrow:!0});_e&&(!ae.isComposing(p)&&!(q!=null&&q.hasPendingChanges())&&!(q!=null&&q.isFlushing())?X.select(p,_e):q?.handleUserSelect(_e))}o&&(!he||!Ce)&&X.deselect(p)}},100),[p,o,T]),J=K.useMemo(()=>fR(L,0),[L]);j.current=XR({node:P,onDOMSelectionChange:L,scheduleOnDOMSelectionChange:J}),zr(()=>{var $,z,M;P.current&&(M=Xd(P.current))?(yw.set(p,M),yi.set(p,P.current),An.set(p,P.current),cs.set(P.current,p)):An.delete(p);var{selection:q}=p,se=ae.findDocumentOrShadowRoot(p),ne=Ja(se);if(!(!ne||!ae.isFocused(p)||($=j.current)!==null&&$!==void 0&&$.hasPendingAction())){var m=he=>{var Ce=ne.type!=="None";if(!(!q&&!Ce)){var _e=ne.focusNode,Pe;if(Jr&&ne.rangeCount>1){var qe=ne.getRangeAt(0),Nt=ne.getRangeAt(ne.rangeCount-1);qe.startContainer===_e?Pe=Nt.endContainer:Pe=qe.startContainer}else Pe=ne.anchorNode;var He=yi.get(p),Bt=!1;if(He.contains(Pe)&&He.contains(_e)&&(Bt=!0),Ce&&Bt&&q&&!he){var Rt=ae.toSlateRange(p,ne,{exactMatch:!0,suppressThrow:!0});if(Rt&&H.equals(Rt,q)){var Ne;if(!T.hasMarkPlaceholder||(Ne=Pe)!==null&&Ne!==void 0&&(Ne=Ne.parentElement)!==null&&Ne!==void 0&&Ne.hasAttribute("data-slate-mark-placeholder"))return}}if(q&&!ae.hasRange(p,q)){p.selection=ae.toSlateRange(p,ne,{exactMatch:!1,suppressThrow:!0});return}T.isUpdatingSelection=!0;var Ke=null;try{Ke=q&&ae.toDOMRange(p,q)}catch{}return Ke?(ae.isComposing(p)&&!Tt?ne.collapseToEnd():H.isBackward(q)?ne.setBaseAndExtent(Ke.endContainer,Ke.endOffset,Ke.startContainer,Ke.startOffset):ne.setBaseAndExtent(Ke.startContainer,Ke.startOffset,Ke.endContainer,Ke.endOffset),v(p,Ke)):ne.removeAllRanges(),Ke}};ne.rangeCount<=1&&m();var D=((z=j.current)===null||z===void 0?void 0:z.isFlushing())==="action";if(!Tt||!D){setTimeout(()=>{T.isUpdatingSelection=!1});return}var O=null,G=requestAnimationFrame(()=>{if(D){var he=Ce=>{try{var _e=ae.toDOMNode(p,p);_e.focus(),m(Ce)}catch{}};he(),O=setTimeout(()=>{he(!0),T.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(G),O&&clearTimeout(O)}}});var I=K.useCallback($=>{jb(p,$);var z=ae.toDOMNode(p,p),M=z.getRootNode();if(A!=null&&A.current&&hn&&M instanceof ShadowRoot){var q=$.getTargetRanges(),se=q[0],ne=new window.Range;ne.setStart(se.startContainer,se.startOffset),ne.setEnd(se.endContainer,se.endOffset);var m=ae.toSlateRange(p,ne,{exactMatch:!1,suppressThrow:!1});X.select(p,m),$.preventDefault(),$.stopImmediatePropagation();return}if(S(),!o&&ae.hasEditableTarget(p,$.target)&&!qj($,s)){var D;if(j.current)return j.current.handleDOMBeforeInput($);J.flush(),L.flush();var{selection:O}=p,{inputType:G}=$,he=$.dataTransfer||$.data||void 0,Ce=G==="insertCompositionText"||G==="deleteCompositionText";if(Ce&&ae.isComposing(p))return;var _e=!1;if(G==="insertText"&&O&&H.isCollapsed(O)&&$.data&&$.data.length===1&&/[a-z ]/i.test($.data)&&O.anchor.offset!==0&&(_e=!0,p.marks&&(_e=!1),!ia.get(p))){var Pe,qe,{anchor:Nt}=O,[He,Bt]=ae.toDOMPoint(p,Nt),Rt=(Pe=He.parentElement)===null||Pe===void 0?void 0:Pe.closest("a"),Ne=ae.getWindow(p);if(_e&&Rt&&ae.hasDOMNode(p,Rt)){var Ke,ur=Ne?.document.createTreeWalker(Rt,NodeFilter.SHOW_TEXT).lastChild();ur===He&&((Ke=ur.textContent)===null||Ke===void 0?void 0:Ke.length)===Bt&&(_e=!1)}if(_e&&He.parentElement&&(Ne==null||(qe=Ne.getComputedStyle(He.parentElement))===null||qe===void 0?void 0:qe.whiteSpace)==="pre"){var tr=b.above(p,{at:Nt.path,match:Js=>pe.isElement(Js)&&b.isBlock(p,Js)});tr&&te.string(tr[0]).includes("	")&&(_e=!1)}}if((!G.startsWith("delete")||G.startsWith("deleteBy"))&&!ia.get(p)){var[cn]=$.getTargetRanges();if(cn){var $t=ae.toSlateRange(p,cn,{exactMatch:!1,suppressThrow:!1});if(!O||!H.equals(O,$t)){_e=!1;var jt=!Ce&&p.selection&&b.rangeRef(p,p.selection);X.select(p,$t),jt&&Xa.set(p,jt)}}}if(Ce)return;if(_e||$.preventDefault(),O&&H.isExpanded(O)&&G.startsWith("delete")){var tu=G.endsWith("Backward")?"backward":"forward";b.deleteFragment(p,{direction:tu});return}switch(G){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{b.deleteFragment(p);break}case"deleteContent":case"deleteContentForward":{b.deleteForward(p);break}case"deleteContentBackward":{b.deleteBackward(p);break}case"deleteEntireSoftLine":{b.deleteBackward(p,{unit:"line"}),b.deleteForward(p,{unit:"line"});break}case"deleteHardLineBackward":{b.deleteBackward(p,{unit:"block"});break}case"deleteSoftLineBackward":{b.deleteBackward(p,{unit:"line"});break}case"deleteHardLineForward":{b.deleteForward(p,{unit:"block"});break}case"deleteSoftLineForward":{b.deleteForward(p,{unit:"line"});break}case"deleteWordBackward":{b.deleteBackward(p,{unit:"word"});break}case"deleteWordForward":{b.deleteForward(p,{unit:"word"});break}case"insertLineBreak":b.insertSoftBreak(p);break;case"insertParagraph":{b.insertBreak(p);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{G==="insertFromComposition"&&ae.isComposing(p)&&(C(!1),Dn.set(p,!1)),he?.constructor.name==="DataTransfer"?ae.insertData(p,he):typeof he=="string"&&(_e?_.current.push(()=>b.insertText(p,he)):b.insertText(p,he));break}}var Ra=(D=Xa.get(p))===null||D===void 0?void 0:D.unref();Xa.delete(p),Ra&&(!p.selection||!H.equals(p.selection,Ra))&&X.select(p,Ra)}},[p,L,S,s,o,J]),Y=K.useCallback($=>{$==null?(L.cancel(),J.cancel(),yi.delete(p),An.delete(p),P.current&&Wr&&P.current.removeEventListener("beforeinput",I)):Wr&&$.addEventListener("beforeinput",I),P.current=$,typeof t=="function"?t($):t&&(t.current=$)},[L,J,p,I,t]);zr(()=>{var $=ae.getWindow(p),z=q=>{var{target:se}=q,ne=se instanceof HTMLElement?se:null,m=ne?.tagName;m==="INPUT"||m==="TEXTAREA"||J()};$.document.addEventListener("selectionchange",z);var M=()=>{T.isDraggingInternally=!1};return $.document.addEventListener("dragend",M),$.document.addEventListener("drop",M),()=>{$.document.removeEventListener("selectionchange",z),$.document.removeEventListener("dragend",M),$.document.removeEventListener("drop",M)}},[J,T]);var W=a([p,[]]),Z=lj(a),ie=i&&p.children.length===1&&Array.from(te.texts(p)).length===1&&te.string(p)===""&&!w,le=K.useCallback($=>{if($&&ie){var z;E((z=$.getBoundingClientRect())===null||z===void 0?void 0:z.height)}else E(void 0)},[ie]);if(ie){var oe=b.start(p,[]);W.push({[la]:!0,placeholder:i,onPlaceholderResize:le,anchor:oe,focus:oe})}var{marks:me}=p;if(T.hasMarkPlaceholder=!1,p.selection&&H.isCollapsed(p.selection)&&me){var{anchor:ue}=p.selection,ye=te.leaf(p,ue.path),be=to(ye,jj);if(!ce.equals(ye,me,{loose:!0})){T.hasMarkPlaceholder=!0;var Te=Object.fromEntries(Object.keys(be).map($=>[$,null]));W.push(Cr(Cr(Cr({[xw]:!0},Te),me),{},{anchor:ue,focus:ue}))}}return K.useEffect(()=>{setTimeout(()=>{var{selection:$}=p;if($){var{anchor:z}=$,M=te.leaf(p,z.path);if(me&&!ce.equals(M,me,{loose:!0})){yr.set(p,me);return}}yr.delete(p)})}),Sj(),F.createElement(B1.Provider,{value:o},F.createElement(F1.Provider,{value:w},F.createElement(E1.Provider,{value:Z},F.createElement(_j,{node:P,receivedUserInput:B},F.createElement(g,Cr(Cr({role:o?void 0:"textbox","aria-multiline":o?void 0:!0},y),{},{spellCheck:Wr||!gi?y.spellCheck:!1,autoCorrect:Wr||!gi?y.autoCorrect:"false",autoCapitalize:Wr||!gi?y.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!o,zindex:-1,suppressContentEditableWarning:!0,ref:Y,style:Cr(Cr({},x?{}:Cr({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},R?{minHeight:R}:{})),h),onBeforeInput:K.useCallback($=>{if(!Wr&&!o&&!kt($,y.onBeforeInput)&&ae.hasSelectableTarget(p,$.target)&&($.preventDefault(),!ae.isComposing(p))){var z=$.data;b.insertText(p,z)}},[y.onBeforeInput,p,o]),onInput:K.useCallback($=>{if(!kt($,y.onInput)){if(j.current){j.current.handleInput();return}for(var z of _.current)z();_.current=[],ae.isFocused(p)||jb(p,$.nativeEvent)}},[y.onInput,p]),onBlur:K.useCallback($=>{if(!(o||T.isUpdatingSelection||!ae.hasSelectableTarget(p,$.target)||kt($,y.onBlur))){var z=ae.findDocumentOrShadowRoot(p);if(T.latestElement!==z.activeElement){var{relatedTarget:M}=$,q=ae.toDOMNode(p,p);if(M!==q&&!(sr(M)&&M.hasAttribute("data-slate-spacer"))){if(M!=null&&tn(M)&&ae.hasDOMNode(p,M)){var se=ae.toSlateNode(p,M);if(pe.isElement(se)&&!p.isVoid(se))return}if(hn){var ne=Ja(z);ne?.removeAllRanges()}Zr.delete(p)}}}},[o,T.isUpdatingSelection,T.latestElement,p,y.onBlur]),onClick:K.useCallback($=>{if(ae.hasTarget(p,$.target)&&!kt($,y.onClick)&&tn($.target)){var z=ae.toSlateNode(p,$.target),M=ae.findPath(p,z);if(!b.hasPath(p,M)||te.get(p,M)!==z)return;if($.detail===pO&&M.length>=1){var q=M;if(!(pe.isElement(z)&&b.isBlock(p,z))){var se,ne=b.above(p,{match:_e=>pe.isElement(_e)&&b.isBlock(p,_e),at:M});q=(se=ne?.[1])!==null&&se!==void 0?se:M.slice(0,1)}var m=b.range(p,q);X.select(p,m);return}if(o)return;var D=b.start(p,M),O=b.end(p,M),G=b.void(p,{at:D}),he=b.void(p,{at:O});if(G&&he&&N.equals(G[1],he[1])){var Ce=b.range(p,D);X.select(p,Ce)}}},[p,y.onClick,o]),onCompositionEnd:K.useCallback($=>{if(ae.hasSelectableTarget(p,$.target)){var z;if(ae.isComposing(p)&&Promise.resolve().then(()=>{C(!1),Dn.set(p,!1)}),(z=j.current)===null||z===void 0||z.handleCompositionEnd($),kt($,y.onCompositionEnd)||Tt)return;if(!hn&&!QP&&!YP&&!tO&&!eO&&$.data){var M=yr.get(p);yr.delete(p),M!==void 0&&(Nr.set(p,p.marks),p.marks=M),b.insertText(p,$.data);var q=Nr.get(p);Nr.delete(p),q!==void 0&&(p.marks=q)}}},[y.onCompositionEnd,p]),onCompositionUpdate:K.useCallback($=>{ae.hasSelectableTarget(p,$.target)&&!kt($,y.onCompositionUpdate)&&(ae.isComposing(p)||(C(!0),Dn.set(p,!0)))},[y.onCompositionUpdate,p]),onCompositionStart:K.useCallback($=>{if(ae.hasSelectableTarget(p,$.target)){var z;if((z=j.current)===null||z===void 0||z.handleCompositionStart($),kt($,y.onCompositionStart)||Tt)return;C(!0);var{selection:M}=p;if(M&&H.isExpanded(M)){b.deleteFragment(p);return}}},[y.onCompositionStart,p]),onCopy:K.useCallback($=>{ae.hasSelectableTarget(p,$.target)&&!kt($,y.onCopy)&&!Rb($)&&($.preventDefault(),ae.setFragmentData(p,$.clipboardData,"copy"))},[y.onCopy,p]),onCut:K.useCallback($=>{if(!o&&ae.hasSelectableTarget(p,$.target)&&!kt($,y.onCut)&&!Rb($)){$.preventDefault(),ae.setFragmentData(p,$.clipboardData,"cut");var{selection:z}=p;if(z)if(H.isExpanded(z))b.deleteFragment(p);else{var M=te.parent(p,z.anchor.path);b.isVoid(p,M)&&X.delete(p)}}},[o,p,y.onCut]),onDragOver:K.useCallback($=>{if(ae.hasTarget(p,$.target)&&!kt($,y.onDragOver)){var z=ae.toSlateNode(p,$.target);pe.isElement(z)&&b.isVoid(p,z)&&$.preventDefault()}},[y.onDragOver,p]),onDragStart:K.useCallback($=>{if(!o&&ae.hasTarget(p,$.target)&&!kt($,y.onDragStart)){var z=ae.toSlateNode(p,$.target),M=ae.findPath(p,z),q=pe.isElement(z)&&b.isVoid(p,z)||b.void(p,{at:M,voids:!0});if(q){var se=b.range(p,M);X.select(p,se)}T.isDraggingInternally=!0,ae.setFragmentData(p,$.dataTransfer,"drag")}},[o,p,y.onDragStart,T]),onDrop:K.useCallback($=>{if(!o&&ae.hasTarget(p,$.target)&&!kt($,y.onDrop)){$.preventDefault();var z=p.selection,M=ae.findEventRange(p,$),q=$.dataTransfer;X.select(p,M),T.isDraggingInternally&&z&&!H.equals(z,M)&&!b.void(p,{at:M,voids:!0})&&X.delete(p,{at:z}),ae.insertData(p,q),ae.isFocused(p)||ae.focus(p)}},[o,p,y.onDrop,T]),onDragEnd:K.useCallback($=>{!o&&T.isDraggingInternally&&y.onDragEnd&&ae.hasTarget(p,$.target)&&y.onDragEnd($)},[o,T,y,p]),onFocus:K.useCallback($=>{if(!o&&!T.isUpdatingSelection&&ae.hasEditableTarget(p,$.target)&&!kt($,y.onFocus)){var z=ae.toDOMNode(p,p),M=ae.findDocumentOrShadowRoot(p);if(T.latestElement=M.activeElement,Jr&&$.target!==z){z.focus();return}Zr.set(p,!0)}},[o,T,p,y.onFocus]),onKeyDown:K.useCallback($=>{if(!o&&ae.hasEditableTarget(p,$.target)){var z;(z=j.current)===null||z===void 0||z.handleKeyDown($);var{nativeEvent:M}=$;if(ae.isComposing(p)&&M.isComposing===!1&&(Dn.set(p,!1),C(!1)),kt($,y.onKeyDown)||ae.isComposing(p))return;var{selection:q}=p,se=p.children[q!==null?q.focus.path[0]:0],ne=p1(te.string(se))==="rtl";if(ft.isRedo(M)){$.preventDefault();var m=p;typeof m.redo=="function"&&m.redo();return}if(ft.isUndo(M)){$.preventDefault();var D=p;typeof D.undo=="function"&&D.undo();return}if(ft.isMoveLineBackward(M)){$.preventDefault(),X.move(p,{unit:"line",reverse:!0});return}if(ft.isMoveLineForward(M)){$.preventDefault(),X.move(p,{unit:"line"});return}if(ft.isExtendLineBackward(M)){$.preventDefault(),X.move(p,{unit:"line",edge:"focus",reverse:!0});return}if(ft.isExtendLineForward(M)){$.preventDefault(),X.move(p,{unit:"line",edge:"focus"});return}if(ft.isMoveBackward(M)){$.preventDefault(),q&&H.isCollapsed(q)?X.move(p,{reverse:!ne}):X.collapse(p,{edge:ne?"end":"start"});return}if(ft.isMoveForward(M)){$.preventDefault(),q&&H.isCollapsed(q)?X.move(p,{reverse:ne}):X.collapse(p,{edge:ne?"start":"end"});return}if(ft.isMoveWordBackward(M)){$.preventDefault(),q&&H.isExpanded(q)&&X.collapse(p,{edge:"focus"}),X.move(p,{unit:"word",reverse:!ne});return}if(ft.isMoveWordForward(M)){$.preventDefault(),q&&H.isExpanded(q)&&X.collapse(p,{edge:"focus"}),X.move(p,{unit:"word",reverse:ne});return}if(Wr){if((mw||hn)&&q&&(ft.isDeleteBackward(M)||ft.isDeleteForward(M))&&H.isCollapsed(q)){var O=te.parent(p,q.anchor.path);if(pe.isElement(O)&&b.isVoid(p,O)&&(b.isInline(p,O)||b.isBlock(p,O))){$.preventDefault(),b.deleteBackward(p,{unit:"block"});return}}}else{if(ft.isBold(M)||ft.isItalic(M)||ft.isTransposeCharacter(M)){$.preventDefault();return}if(ft.isSoftBreak(M)){$.preventDefault(),b.insertSoftBreak(p);return}if(ft.isSplitBlock(M)){$.preventDefault(),b.insertBreak(p);return}if(ft.isDeleteBackward(M)){$.preventDefault(),q&&H.isExpanded(q)?b.deleteFragment(p,{direction:"backward"}):b.deleteBackward(p);return}if(ft.isDeleteForward(M)){$.preventDefault(),q&&H.isExpanded(q)?b.deleteFragment(p,{direction:"forward"}):b.deleteForward(p);return}if(ft.isDeleteLineBackward(M)){$.preventDefault(),q&&H.isExpanded(q)?b.deleteFragment(p,{direction:"backward"}):b.deleteBackward(p,{unit:"line"});return}if(ft.isDeleteLineForward(M)){$.preventDefault(),q&&H.isExpanded(q)?b.deleteFragment(p,{direction:"forward"}):b.deleteForward(p,{unit:"line"});return}if(ft.isDeleteWordBackward(M)){$.preventDefault(),q&&H.isExpanded(q)?b.deleteFragment(p,{direction:"backward"}):b.deleteBackward(p,{unit:"word"});return}if(ft.isDeleteWordForward(M)){$.preventDefault(),q&&H.isExpanded(q)?b.deleteFragment(p,{direction:"forward"}):b.deleteForward(p,{unit:"word"});return}}}},[o,p,y.onKeyDown]),onPaste:K.useCallback($=>{!o&&ae.hasEditableTarget(p,$.target)&&!kt($,y.onPaste)&&(!Wr||zP($.nativeEvent)||hn)&&($.preventDefault(),ae.insertData(p,$.clipboardData))},[o,p,y.onPaste])}),F.createElement(Ij,{decorations:W,node:p,renderElement:u,renderChunk:c,renderPlaceholder:d,renderLeaf:l,renderText:f}))))))}),Mj=e=>{var{attributes:t,children:r}=e;return F.createElement("span",Cr({},t),r,Tt&&F.createElement("br",null))},Lj=()=>[],zj=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&H.isCollapsed(e.selection))){var r=t.startContainer.parentElement;r.getBoundingClientRect=t.getBoundingClientRect.bind(t),gR(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},kt=(e,t)=>{if(!t)return!1;var r=t(e);return r??(e.isDefaultPrevented()||e.isPropagationStopped())},Rb=e=>tn(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),qj=(e,t)=>{if(!t)return!1;var r=t(e);return r??e.defaultPrevented},jb=(e,t)=>{var r=e;if(t.inputType==="historyUndo"&&typeof r.undo=="function"){r.undo();return}if(t.inputType==="historyRedo"&&typeof r.redo=="function"){r.redo();return}},T1=K.createContext(!1),Uj=()=>K.useContext(T1),_1=parseInt(F.version.split(".")[0],10),Wj=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],Vj=e=>{var{editor:t,children:r,onChange:n,onSelectionChange:a,onValueChange:s,initialValue:i}=e,o=to(e,Wj);F.useState(()=>{if(!te.isNodeList(i))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(wt.stringify(i)));if(!b.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(wt.stringify(t)));t.children=i,Object.assign(t,o)});var{selectorContext:u,onChange:c}=Aj(),l=K.useCallback(v=>{var h;switch(n&&n(t.children),v==null||(h=v.operation)===null||h===void 0?void 0:h.type){case"set_selection":a?.(t.selection);break;default:s?.(t.children)}c()},[t,c,n,a,s]);K.useEffect(()=>(Zf.set(t,l),()=>{Zf.set(t,()=>{})}),[t,l]);var[f,d]=K.useState(ae.isFocused(t));return K.useEffect(()=>{d(ae.isFocused(t))},[t]),zr(()=>{var v=()=>d(ae.isFocused(t));return _1>=17?(document.addEventListener("focusin",v),document.addEventListener("focusout",v),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",v)}):(document.addEventListener("focus",v,!0),document.addEventListener("blur",v,!0),()=>{document.removeEventListener("focus",v,!0),document.removeEventListener("blur",v,!0)})},[]),F.createElement(Vp.Provider,{value:u},F.createElement(Wp.Provider,{value:t},F.createElement(T1.Provider,{value:f},r)))},Hj=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=t;n=dO(n,r);var{onChange:a,apply:s}=n;return n.getChunkSize=()=>null,n.onChange=i=>{var o=_1<18?hC.unstable_batchedUpdates:u=>u();o(()=>{a(i)})},n.apply=i=>{if(i.type==="move_node"){var o=te.parent(n,i.path),u=!!n.getChunkSize(o);if(u){var c=te.get(n,i.path),l=O1(n,o),f=ae.findKey(n,c);l.movedNodeKeys.add(f)}}s(i)},n},Kj=Object.defineProperty,Gj=Object.defineProperties,Yj=Object.getOwnPropertyDescriptors,Ib=Object.getOwnPropertySymbols,Jj=Object.prototype.hasOwnProperty,Zj=Object.prototype.propertyIsEnumerable,$b=(e,t,r)=>t in e?Kj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Xj=(e,t)=>{for(var r in t||(t={}))Jj.call(t,r)&&$b(e,r,t[r]);if(Ib)for(var r of Ib(t))Zj.call(t,r)&&$b(e,r,t[r]);return e},Qj=(e,t)=>Gj(e,Yj(t)),eI=K.createContext(void 0),tI=()=>K.useContext(eI);function N1(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce((r,n)=>r&&N1(e[n],t[n]),!0):e===t}var rI=K.createContext({activeScopes:[],disableScope:()=>{},enableScope:()=>{},hotkeys:[],toggleScope:()=>{}}),nI=()=>K.useContext(rI),R1=new Set(["shift","alt","meta","mod","ctrl","control"]),aI={AltLeft:"alt",AltRight:"alt",ControlLeft:"ctrl",ControlRight:"ctrl",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ShiftLeft:"shift",ShiftRight:"shift",down:"arrowdown",esc:"escape",left:"arrowleft",return:"enter",right:"arrowright",up:"arrowup"};function ba(e){return(aI[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function sI(e){return R1.has(e)}function vf(e,t=","){return e.toLowerCase().split(t)}function mf(e,t="+",r=!1,n){const a=e.toLocaleLowerCase().split(t).map(o=>ba(o)),s={alt:a.includes("alt"),ctrl:a.includes("ctrl")||a.includes("control"),meta:a.includes("meta"),mod:a.includes("mod"),shift:a.includes("shift"),useKey:r},i=a.filter(o=>!R1.has(o));return Qj(Xj({},s),{description:n,keys:i})}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&I1([ba(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&$1([ba(e.code)])})),typeof window<"u"&&window.addEventListener("blur",()=>{Xr.clear()});var Xr=new Set;function j1(e){return Array.isArray(e)}function iI(e,t=","){return(j1(e)?e:e.split(t)).every(n=>Xr.has(n.trim().toLowerCase()))}function I1(e){const t=Array.isArray(e)?e:[e];Xr.has("meta")&&Xr.forEach(r=>!sI(r)&&Xr.delete(r.toLowerCase())),t.forEach(r=>Xr.add(r.toLowerCase()))}function $1(e){const t=Array.isArray(e)?e:[e];e==="meta"?Xr.clear():t.forEach(r=>Xr.delete(r.toLowerCase()))}var Pn={Alt:"Alt",Mod:"Mod",Shift:"Shift"};function oI(e){const t=K.useRef();return N1(t.current,e)||(t.current=e),t.current}function uI(e,t,r){(typeof r=="function"&&r(e,t)||r===!0)&&e.preventDefault()}function cI(e,t,r){return typeof r=="function"?r(e,t):r===!0||r===void 0}function lI(e){return M1(e,["input","textarea","select"])}function M1({target:e},t=!1){const r=e&&e.tagName;return j1(t)?!!(r&&t?.some(n=>n.toLowerCase()===r.toLowerCase())):!!(r&&t&&t)}function fI(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(r=>t.includes(r))||e.includes("*"):!0}var dI=(e,t,r=!1)=>{const{alt:n,ctrl:a,keys:s,meta:i,mod:o,shift:u,useKey:c}=t,{altKey:l,code:f,ctrlKey:d,key:v,metaKey:h,shiftKey:g}=e,x=ba(f);if(c&&s?.length===1&&s.includes(v))return!0;if(!s?.includes(x)&&!["alt","control","ctrl","meta","os","shift","unknown"].includes(x))return!1;if(!r){if(n!==l&&x!=="alt"||u!==g&&x!=="shift")return!1;if(o){if(!h&&!d)return!1}else if(i!==h&&x!=="meta"&&x!=="os"||a!==d&&x!=="ctrl"&&x!=="control")return!1}return s&&s.length===1&&s.includes(x)?!0:s?iI(s):!s},Mb=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},pI=typeof window>"u"?K.useEffect:K.useLayoutEffect;function Fd(e,t,r,n){const[a,s]=K.useState(null),i=K.useRef(!1),o=Array.isArray(r)?Array.isArray(n)?void 0:n:r,u=K.useMemo(()=>Array.isArray(e)&&e.length>0&&Array.isArray(e[0])?e.map(g=>g.map(x=>x.toString()).join(o?.splitKey||"+")).join(o?.delimiter||","):Array.isArray(e)?e.join(o?.delimiter||","):e,[e,o?.splitKey,o?.delimiter]),c=Array.isArray(r)?r:Array.isArray(n)?n:void 0,l=K.useCallback(t,c??[]),f=K.useRef(l);f.current=c?l:t;const d=oI(o),{activeScopes:v}=nI(),h=tI();return pI(()=>{if(d?.enabled===!1||!fI(v,d?.scopes))return;const g=(w,C=!1)=>{var P;if(!(lI(w)&&!M1(w,d?.enableOnFormTags))){if(a!==null){const _=a.getRootNode();if((_ instanceof Document||_ instanceof ShadowRoot)&&_.activeElement!==a&&!a.contains(_.activeElement)){Mb(w);return}}(P=w.target)!=null&&P.isContentEditable&&!d?.enableOnContentEditable||vf(u,d?.delimiter).forEach(_=>{var R,E,A;const S=mf(_,d?.splitKey,d?.useKey);if(dI(w,S,d?.ignoreModifiers)||(R=S.keys)!=null&&R.includes("*")){if(((E=d?.ignoreEventWhenPrevented)==null||E)&&w.defaultPrevented||(A=d?.ignoreEventWhen)!=null&&A.call(d,w)||C&&i.current)return;if(!cI(w,S,d?.enabled)){Mb(w);return}f.current(w,S),uI(w,S,d?.preventDefault),C||(i.current=!0)}})}},x=w=>{w.code!==void 0&&(I1(ba(w.code)),(d?.keydown===void 0&&d?.keyup!==!0||d?.keydown)&&g(w))},y=w=>{w.code!==void 0&&($1(ba(w.code)),i.current=!1,d?.keyup&&g(w,!0))},p=a||o?.document||document;return p.addEventListener("keyup",y),p.addEventListener("keydown",x),h&&vf(u,d?.delimiter).forEach(w=>h.addHotkey(mf(w,d?.splitKey,d?.useKey,d?.description))),()=>{p.removeEventListener("keyup",y),p.removeEventListener("keydown",x),h&&vf(u,d?.delimiter).forEach(w=>h.removeHotkey(mf(w,d?.splitKey,d?.useKey,d?.description)))}},[a,u,d,v]),s}const xt={};let hI=0;function xr(e,t){const r=`atom${++hI}`,n={toString:()=>r};return typeof e=="function"?n.read=e:(n.init=e,n.read=vI,n.write=mI),t&&(n.write=t),n}function vI(e){return e(this)}function mI(e,t,r){return t(this,typeof r=="function"?r(e(this)):r)}const gf=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,yf=e=>"init"in e,bf=e=>!!e.write,ro=new WeakMap,gI=(e,t)=>{ro.set(e,t),e.catch(()=>{}).finally(()=>ro.delete(e))},Lb=(e,t)=>{const r=ro.get(e);r&&(ro.delete(e),r(t))},zb=(e,t)=>{e.status="fulfilled",e.value=t},qb=(e,t)=>{e.status="rejected",e.reason=t},yI=e=>typeof e?.then=="function",$a=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),Ub=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),Jn=e=>!!e&&"v"in e&&e.v instanceof Promise,bI=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,di=e=>{if("e"in e)throw e.e;return e.v},L1=()=>{const e=new WeakMap,t=new WeakMap,r=[],n=new WeakMap;let a,s;(xt?"production":void 0)!=="production"&&(a=new Set,s=new Set);const i=E=>e.get(E),o=(E,A)=>{A.d.forEach((S,B)=>{if(!n.has(B)){const k=i(B);n.set(B,[k,new Set]),k&&o(B,k)}n.get(B)[1].add(E)})},u=(E,A)=>{var S;(xt?"production":void 0)!=="production"&&Object.freeze(A);const B=i(E);if(e.set(E,A),(S=r[r.length-1])==null||S.add(E),n.has(E)||(n.set(E,[B,new Set]),o(E,A)),Jn(B)){const k="v"in A?A.v instanceof Promise?A.v:Promise.resolve(A.v):Promise.reject(A.e);B.v!==k&&Lb(B.v,k)}},c=(E,A,S,B)=>{const k=new Map(B?A.d:null);let T=!1;S.forEach((j,L)=>{!j&&gf(E,L)&&(j=A),j?(k.set(L,j),A.d.get(L)!==j&&(T=!0)):(xt?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(T||A.d.size!==k.size)&&(A.d=k)},l=(E,A,S,B)=>{const k=i(E),T={d:k?.d||new Map,v:A};if(S&&c(E,T,S,B),$a(k,T)&&k.d===T.d)return k;if(Jn(k)&&Jn(T)&&bI(k,T)){if(k.d===T.d)return k;T.v=k.v}return u(E,T),T},f=(E,A,S,B)=>{if(yI(A)){let k;const T=()=>{const L=i(E);if(!Jn(L)||L.v!==j)return;const J=l(E,j,S);t.has(E)&&L.d!==J.d&&P(E,J,L.d)},j=new Promise((L,J)=>{let I=!1;A.then(Y=>{I||(I=!0,zb(j,Y),L(Y),T())},Y=>{I||(I=!0,qb(j,Y),J(Y),T())}),k=Y=>{I||(I=!0,Y.then(W=>zb(j,W),W=>qb(j,W)),L(Y))}});return j.orig=A,j.status="pending",gI(j,L=>{L&&(k(L),B?.())}),l(E,j,S,!0)}return l(E,A,S)},d=(E,A,S)=>{const B=i(E),k={d:B?.d||new Map,e:A};return S&&c(E,k,S),Ub(B,k)&&B.d===k.d?B:(u(E,k),k)},v=(E,A)=>{const S=i(E);if(!A?.(E)&&S&&(t.has(E)||Array.from(S.d).every(([I,Y])=>{if(I===E)return!0;const W=v(I,A);return W===Y||$a(W,Y)})))return S;const B=new Map;let k=!0;const T=I=>{if(gf(E,I)){const W=i(I);if(W)return B.set(I,W),di(W);if(yf(I))return B.set(I,void 0),I.init;throw new Error("no atom init")}const Y=v(I,A);return B.set(I,Y),di(Y)};let j,L;const J={get signal(){return j||(j=new AbortController),j.signal},get setSelf(){return(xt?"production":void 0)!=="production"&&!bf(E)&&console.warn("setSelf function cannot be used with read-only atom"),!L&&bf(E)&&(L=(...I)=>{if((xt?"production":void 0)!=="production"&&k&&console.warn("setSelf function cannot be called in sync"),!k)return y(E,...I)}),L}};try{const I=E.read(T,J);return f(E,I,B,()=>j?.abort())}catch(I){return d(E,I,B)}finally{k=!1}},h=E=>di(v(E)),g=E=>{const A=L=>{var J,I;const Y=new Set((J=t.get(L))==null?void 0:J.t);return(I=n.get(L))==null||I[1].forEach(W=>{Y.add(W)}),Y},S=new Array,B=new Set,k=L=>{if(!B.has(L)){B.add(L);for(const J of A(L))L!==J&&k(J);S.push(L)}};k(E);const T=new Set([E]),j=L=>B.has(L);for(let L=S.length-1;L>=0;--L){const J=S[L],I=i(J);if(!I)continue;let Y=!1;for(const W of I.d.keys())if(W!==J&&T.has(W)){Y=!0;break}if(Y){const W=v(J,j);o(J,W),$a(I,W)||T.add(J)}B.delete(J)}},x=(E,...A)=>{const S=T=>di(v(T)),B=(T,...j)=>{const L=r.length>0;L||r.push(new Set([T]));let J;if(gf(E,T)){if(!yf(T))throw new Error("atom not writable");const I=i(T),Y=f(T,j[0]);$a(I,Y)||g(T)}else J=x(T,...j);if(!L){const I=_(r.pop());(xt?"production":void 0)!=="production"&&a.forEach(Y=>Y({type:"async-write",flushed:I}))}return J};return E.write(S,B,...A)},y=(E,...A)=>{r.push(new Set([E]));const S=x(E,...A),B=_(r.pop());return(xt?"production":void 0)!=="production"&&a.forEach(k=>k({type:"write",flushed:B})),S},p=(E,A,S)=>{var B;const k=t.get(E);if(k)return A&&k.t.add(A),k;const T=S||[];(B=i(E))==null||B.d.forEach((L,J)=>{J!==E&&p(J,E,T)}),v(E);const j={t:new Set(A&&[A]),l:new Set};if(t.set(E,j),(xt?"production":void 0)!=="production"&&s.add(E),bf(E)&&E.onMount){const{onMount:L}=E;T.push(()=>{const J=L((...I)=>y(E,...I));J&&(j.u=J)})}return S||T.forEach(L=>L()),j},w=(E,A)=>!A.l.size&&(!A.t.size||A.t.size===1&&A.t.has(E)),C=(E,A)=>{if(!w(E,A))return;const S=A.u;S&&S(),t.delete(E),(xt?"production":void 0)!=="production"&&s.delete(E);const B=i(E);B?(Jn(B)&&Lb(B.v),B.d.forEach((k,T)=>{if(T!==E){const j=t.get(T);j&&(j.t.delete(E),C(T,j))}})):(xt?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",E)},P=(E,A,S)=>{const B=new Set(A.d.keys()),k=new Set;S?.forEach((T,j)=>{if(B.has(j)){B.delete(j);return}k.add(j);const L=t.get(j);L&&L.t.delete(E)}),B.forEach(T=>{p(T,E)}),k.forEach(T=>{const j=t.get(T);j&&C(T,j)})},_=E=>{let A;(xt?"production":void 0)!=="production"&&(A=new Set);const S=[],B=k=>{var T;if(!n.has(k))return;const[j,L]=n.get(k);n.delete(k),S.push([k,j]),L.forEach(B),(T=i(k))==null||T.d.forEach((J,I)=>B(I))};if(E.forEach(B),S.forEach(([k,T])=>{const j=i(k);if(!j){(xt?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush");return}if(j!==T){const L=t.get(k);L&&j.d!==T?.d&&P(k,j,T?.d),L&&!(!Jn(T)&&($a(T,j)||Ub(T,j)))&&(L.l.forEach(J=>J()),(xt?"production":void 0)!=="production"&&A.add(k))}}),(xt?"production":void 0)!=="production")return A},R=(E,A)=>{const S=p(E),B=_([E]),k=S.l;return k.add(A),(xt?"production":void 0)!=="production"&&a.forEach(T=>T({type:"sub",flushed:B})),()=>{k.delete(A),C(E,S),(xt?"production":void 0)!=="production"&&a.forEach(T=>T({type:"unsub"}))}};return(xt?"production":void 0)!=="production"?{get:h,set:y,sub:R,dev_subscribe_store:E=>(a.add(E),()=>{a.delete(E)}),dev_get_mounted_atoms:()=>s.values(),dev_get_atom_state:E=>e.get(E),dev_get_mounted:E=>t.get(E),dev_restore_atoms:E=>{r.push(new Set);for(const[S,B]of E)yf(S)&&(f(S,B),g(S));const A=_(r.pop());a.forEach(S=>S({type:"restore",flushed:A}))}}:{get:h,set:y,sub:R}};let Ma;const xI=()=>(Ma||(Ma=L1(),(xt?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Ma),globalThis.__JOTAI_DEFAULT_STORE__!==Ma&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Ma),Wb=L1,xn=xI,wI={},EI=K.createContext(void 0),Hp=e=>{const t=K.useContext(EI);return e?.store||t||xn()},DI=e=>typeof e?.then=="function",CI=F.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function z1(e,t){const r=Hp(t),[[n,a,s],i]=K.useReducer(c=>{const l=r.get(e);return Object.is(c[0],l)&&c[1]===r&&c[2]===e?c:[l,r,e]},void 0,()=>[r.get(e),r,e]);let o=n;(a!==r||s!==e)&&(i(),o=r.get(e));const u=t?.delay;return K.useEffect(()=>{const c=r.sub(e,()=>{if(typeof u=="number"){setTimeout(i,u);return}i()});return i(),c},[r,e,u]),K.useDebugValue(o),DI(o)?CI(o):o}function Kp(e,t){const r=Hp(t);return K.useCallback((...a)=>{if((wI?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return r.set(e,...a)},[r,e])}function PI(e,t){return[z1(e,t),Kp(e,t)]}const OI={},xf=(e,t,r)=>(t.has(r)?t:t.set(r,e())).get(r),AI=new WeakMap,SI=(e,t,r,n)=>{const a=xf(()=>new WeakMap,AI,t),s=xf(()=>new WeakMap,a,r);return xf(e,s,n)};function BI(e,t,r=Object.is){return SI(()=>{const n=Symbol(),a=([i,o])=>{if(o===n)return t(i);const u=t(i,o);return r(o,u)?o:u},s=xr(i=>{const o=i(s),u=i(e);return a([u,o])});return s.init=n,s},e,t,r)}const kI=e=>typeof e?.then=="function";function FI(e=()=>{try{return window.localStorage}catch(r){(OI?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(r);return}},t){var r;let n,a;const s={getItem:(u,c)=>{var l,f;const d=h=>{if(h=h||"",n!==h){try{a=JSON.parse(h,t?.reviver)}catch{return c}n=h}return a},v=(f=(l=e())==null?void 0:l.getItem(u))!=null?f:null;return kI(v)?v.then(d):d(v)},setItem:(u,c)=>{var l;return(l=e())==null?void 0:l.setItem(u,JSON.stringify(c,void 0))},removeItem:u=>{var c;return(c=e())==null?void 0:c.removeItem(u)}},i=u=>(c,l,f)=>u(c,d=>{let v;try{v=JSON.parse(d||"")}catch{v=f}l(v)});let o;try{o=(r=e())==null?void 0:r.subscribe}catch{}return!o&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(o=(u,c)=>{if(!(e()instanceof window.Storage))return()=>{};const l=f=>{f.storageArea===e()&&f.key===u&&c(f.newValue)};return window.addEventListener("storage",l),()=>{window.removeEventListener("storage",l)}}),o&&(s.subscribe=i(o)),s}FI();const Vb=new WeakMap;function TI(e,t){const r=Hp(t),n=_I(r);for(const[a,s]of e)(!n.has(a)||t?.dangerouslyForceHydrate)&&(n.add(a),r.set(a,s))}const _I=e=>{let t=Vb.get(e);return t||(t=new WeakSet,Vb.set(e,t)),t};var NI=Object.defineProperty,RI=Object.defineProperties,jI=Object.getOwnPropertyDescriptors,no=Object.getOwnPropertySymbols,q1=Object.prototype.hasOwnProperty,U1=Object.prototype.propertyIsEnumerable,Hb=(e,t,r)=>t in e?NI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pr=(e,t)=>{for(var r in t||(t={}))q1.call(t,r)&&Hb(e,r,t[r]);if(no)for(var r of no(t))U1.call(t,r)&&Hb(e,r,t[r]);return e},II=(e,t)=>RI(e,jI(t)),Gp=(e,t)=>{var r={};for(var n in e)q1.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&no)for(var n of no(e))t.indexOf(n)<0&&U1.call(e,n)&&(r[n]=e[n]);return r},Kb=e=>typeof e=="function"?{__fn:e}:e,$I=e=>e&&typeof e=="object"&&"__fn"in e?e.__fn:e,MI=e=>{const t=xr(Kb(e));return xr(r=>$I(r(t)),(r,n,a)=>n(t,Kb(a)))},LI=(e,t,r={})=>{const n=[];for(const a of Object.keys(e)){const s=t[a];s!==void 0&&n.push([e[a],s])}TI(n,r)},zI=(e,t,{store:r}={})=>{for(const n of Object.keys(e)){const a=t[n],s=e[n],i=Kp(s,{store:r});F.useEffect(()=>{a!=null&&i(a)},[i,a])}},ao=(e,t)=>`${e}:${t}`,Td="provider",_d=F.createContext(new Map),qI=(e,t=Td,r=!0)=>{var n;const a=F.useContext(_d),s=(n=a.get(ao(e,t)))!=null?n:a.get(ao(e,Td));return!s&&r&&console.warn(`Tried to access jotai store '${e}' outside of a matching provider.`),s},UI=e=>{var t=e,{initialValues:r,children:n,store:a,atoms:s}=t,i=Gp(t,["initialValues","children","store","atoms"]);return LI(s,Pr(Pr({},r),i),{store:a}),zI(s,i,{store:a}),F.createElement(F.Fragment,null,n)},WI=(e,t,r={})=>{const n=r.effect;return a=>{var s=a,{store:i,scope:o,children:u,resetKey:c}=s,l=Gp(s,["store","scope","children","resetKey"]);const[f,d]=F.useState(Wb());F.useEffect(()=>{c&&d(Wb())},[c]);const v=F.useContext(_d),h=F.useMemo(()=>{const g=new Map(v);return o&&g.set(ao(e,o),f),g.set(ao(e,Td),f),g},[v,o,f]);return F.createElement(_d.Provider,{value:h},F.createElement(UI,Pr({store:f,atoms:t},l),!!n&&F.createElement(n,null),u))}},wr=(e="")=>e.length>0?e[0].toUpperCase()+e.slice(1):"",VI=(e="")=>`${wr(e)}Provider`,HI=(e="")=>e.length>0?`${e}Store`:"store",KI=(e="")=>`use${wr(e)}Store`,GI=(e="")=>`use${wr(e)}Value`,YI=(e="")=>`get${wr(e)}`,JI=(e="")=>`useSet${wr(e)}`,ZI=(e="")=>`set${wr(e)}`,XI=(e="")=>`use${wr(e)}State`,QI=(e="")=>`subscribe${wr(e)}`,e2=e=>!!e&&typeof e=="object"&&"read"in e&&typeof e.read=="function",Zn=(e,t,r,n)=>Object.fromEntries(Object.entries(e).map(([a,s])=>[t(a),(...i)=>s(r,n,...i)])),Xn=(e,t,r)=>(n,...a)=>e[n](t,r,...a),Oi=(e={})=>typeof e=="string"?{scope:e}:e,t2=e=>{const t=Oi(e);return K.useMemo(()=>t,Object.values(t))},r2=e=>e,Hs=(e,{name:t,delay:r,effect:n,extend:a,infiniteRenderDetectionLimit:s=1e5,suppressWarnings:i})=>{const o=VI(t),u=KI(t),c=HI(t),l={},f={},d={};for(const[I,Y]of Object.entries(e)){const W=e2(Y)?Y:MI(Y);l[I]=W;const Z="write"in W;d[I]=Z,Z&&(f[I]=W)}const v=Pr({},l);if(a){const I=a(l);for(const[Y,W]of Object.entries(I))v[Y]=W,d[Y]="write"in W}const h={},g={},x={},y={},p={},w={},C=(I={})=>{const{scope:Y,store:W,warnIfNoStore:Z=!i}=Oi(I),ie=qI(t,Y,!W&&Z);return W??ie},P=(I,Y,W,Z,ie,le)=>{var oe,me;const ue=Oi(W);Z??(Z=r2);const ye=typeof ie=="function"?ie:void 0;le=(oe=typeof ie=="function"?le:ie)!=null?oe:[Z,ye];const[be,Te]=F.useMemo(()=>[Z,ye],le),$=BI(I,be,Te);return z1($,{store:Y,delay:(me=ue.delay)!=null?me:r})},_=(I,Y,W)=>(Y??xn()).get(I),R=(I,Y,W)=>Kp(I,{store:Y}),E=(I,Y,W)=>(...Z)=>(Y??xn()).set(I,...Z),A=(I,Y,W)=>{const{delay:Z=r}=Oi(W);return PI(I,{store:Y,delay:Z})},S=(I,Y,W)=>Z=>{Y??(Y=xn());const ie=Y.sub(I,()=>{Z(Y.get(I))});return()=>ie()};for(const I of Object.keys(v)){const Y=v[I],W=d[I];h[I]=(Z,ie={},le,oe,me)=>P(Y,Z,ie,le,oe,me),g[I]=(Z,ie={})=>_(Y,Z),w[I]=(Z,ie={},le)=>S(Y,Z)(le),W&&(x[I]=(Z,ie={})=>R(Y,Z),y[I]=(Z,ie={},...le)=>E(Y,Z)(...le),p[I]=(Z,ie={})=>A(Y,Z,ie))}const B=WI(t,f,{effect:n}),k={atom:v,name:t},T=(I={})=>{const Y=t2(I),W=C(Y);return K.useMemo(()=>II(Pr(Pr(Pr(Pr(Pr(Pr({},Zn(h,GI,W,Y)),Zn(g,YI,W,Y)),Zn(x,JI,W,Y)),Zn(y,ZI,W,Y)),Zn(p,XI,W,Y)),Zn(w,QI,W,Y)),{useValue:Xn(h,W,Y),get:Xn(g,W,Y),useSet:Xn(x,W,Y),set:Xn(y,W,Y),useState:Xn(p,W,Y),subscribe:Xn(w,W,Y),useAtomValue:(Z,ie,le,oe)=>P(Z,W,Y,ie,le,oe),getAtom:Z=>_(Z,W),useSetAtom:Z=>R(Z,W),setAtom:Z=>E(Z,W),useAtomState:Z=>A(Z,W,Y),subscribeAtom:Z=>S(Z,W),store:W}),[W,Y])},j=(I,Y)=>{var W;const Z=(W=C(Y))!=null?W:xn();return A(v[I],Z,Y)},L=(I,Y={},W)=>{var Z=Y,{equalityFn:ie,selector:le}=Z,oe=Gp(Z,["equalityFn","selector"]),me;const ue=(me=C(oe))!=null?me:xn();return P(v[I],ue,oe,le,ie??W,ie&&W)},J=(I,Y)=>{var W;const Z=(W=C(Y))!=null?W:xn();return R(v[I],Z)};return{[o]:B,[u]:T,[c]:k,[`use${wr(t)}State`]:j,[`use${wr(t)}Value`]:L,[`use${wr(t)}Set`]:J,name:t}};function At(e,t,r,n,a){return e.useValue(t,r,n,a)}function On(e,t){return e.useSet(t)}function n2(e,t,r,n,a){return e.useAtomValue(t,r,n,a)}var wf,Gb;function a2(){if(Gb)return wf;Gb=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return wf=e,wf}var Ef,Yb;function s2(){if(Yb)return Ef;Yb=1;function e(t,r,n){var a=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(s);++a<s;)i[a]=t[a+r];return i}return Ef=e,Ef}var Df,Jb;function i2(){if(Jb)return Df;Jb=1;var e=Ud(),t=s2();function r(n,a){return a.length<2?n:e(n,t(a,0,-1))}return Df=r,Df}var Cf,Zb;function o2(){if(Zb)return Cf;Zb=1;var e=$s(),t=a2(),r=i2(),n=Ms();function a(s,i){return i=e(i,s),s=r(s,i),s==null||delete s[n(t(i))]}return Cf=a,Cf}var Pf,Xb;function u2(){if(Xb)return Pf;Xb=1;var e=ap();function t(r){return e(r)?void 0:r}return Pf=t,Pf}var Of,Qb;function c2(){if(Qb)return Of;Qb=1;var e=Wd(),t=RE(),r=o2(),n=$s(),a=Ca(),s=u2(),i=CE(),o=kp(),u=1,c=2,l=4,f=i(function(d,v){var h={};if(d==null)return h;var g=!1;v=e(v,function(y){return y=n(y,d),g||(g=y.length>1),y}),a(d,o(d),h),g&&(h=t(h,u|c|l,s));for(var x=v.length;x--;)r(h,v[x]);return h});return Of=f,Of}var l2=c2();const f2=Dt(l2);var ex=Object.prototype.hasOwnProperty;function tx(e,t,r){for(r of e.keys())if(rs(r,t))return r}function rs(e,t){var r,n,a;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&rs(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if(a=n,a&&typeof a=="object"&&(a=tx(t,a),!a)||!t.has(a))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if(a=n[0],a&&typeof a=="object"&&(a=tx(t,a),!a)||!rs(n[1],t.get(a)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(ex.call(e,r)&&++n&&!ex.call(t,r)||!(r in t)||!rs(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}function d2(e){const t=F.useRef(e),r=F.useRef(0);return rs(e,t.current)||(t.current=e,r.current+=1),F.useMemo(()=>t.current,[r.current])}function rx(e,t){return F.useMemo(e,d2(t))}function nx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function p2(...e){return t=>{let r=!1;const n=e.map(a=>{const s=nx(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():nx(e[a],null)}}}}function h2(e){const t=m2(e),r=K.forwardRef((n,a)=>{const{children:s,...i}=n,o=K.Children.toArray(s),u=o.find(y2);if(u){const c=u.props.children,l=o.map(f=>f===u?K.Children.count(c)>1?K.Children.only(null):K.isValidElement(c)?c.props.children:null:f);return Ee.jsx(t,{...i,ref:a,children:K.isValidElement(c)?K.cloneElement(c,void 0,l):null})}return Ee.jsx(t,{...i,ref:a,children:s})});return r.displayName=`${e}.Slot`,r}var v2=h2("Slot");function m2(e){const t=K.forwardRef((r,n)=>{const{children:a,...s}=r;if(K.isValidElement(a)){const i=x2(a),o=b2(s,a.props);return a.type!==K.Fragment&&(o.ref=n?p2(n,i):i),K.cloneElement(a,o)}return K.Children.count(a)>1?K.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var g2=Symbol("radix.slottable");function y2(e){return K.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===g2}function b2(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...o)=>{const u=s(...o);return a(...o),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function x2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Yp=e=>F.forwardRef(({as:t,asChild:r=!1,...n},a)=>{const s=r?v2:t||e;return F.createElement(s,{ref:a,...n})});Yp("div");F.memo(({children:e})=>F.createElement(F.Fragment,null,e));Yp("span");var w2=(e,t)=>{typeof e=="function"?e(t):e!=null&&(e.current=t)},E2=(...e)=>t=>e.forEach(r=>w2(r,t)),Jp=(...e)=>F.useCallback(E2(...e),e),Vn=e=>{const t=Yp(e);return({propsHook:r,stateHook:n}={})=>F.forwardRef(({asChild:a,className:s,getClassName:i,options:o,state:u,...c},l)=>{const f=Ve(u)?u:n?n(o):void 0,{hidden:d,props:v,ref:h}=r?r(f):{hidden:!1,props:{},ref:null},g=Jp(l,h),x=Ve(v?.className)||Ve(s)?Qt(v?.className,s):void 0,y=v?.style||c.style?{...v?.style,...c.style}:void 0;return!a&&d?null:F.createElement(t,{ref:g,asChild:a,...v,className:x,style:y,...c,...c.setProps?.(v??{})??{}})})},D2=typeof window<"u"&&window.document?.createElement!==void 0;D2?F.useLayoutEffect:F.useEffect;function C2(e,t,r=(n,a)=>n===a){const[n,a]=F.useState(()=>e()),s=F.useRef(n);return F.useEffect(()=>{const i=e();r(s.current,i)||(a(i),s.current=i)},t),n}var Af=(e,t=[])=>{const r=F.useRef(e);return r.current=e,F.useCallback((...n)=>r.current(...n),t)};const qr=e=>e,Zp=e=>({_tag:"Left",value:e}),qo=e=>({_tag:"Right",value:e}),P2=(e,t,r)=>r._tag==="Left"?e(r.value):t(r.value),W1={dimap:(e,t,r)=>n=>t(r(e(n))),first:e=>([t,r])=>[e(t),r],right:e=>t=>t._tag==="Left"?t:qo(e(t.value)),wander:e=>t=>t.map(e)},O2={empty:()=>{},foldMap:(e,t)=>{for(let r=0;r<t.length;r++){const n=e(t[r]);if(n!=null)return n}}},A2={empty:()=>[],foldMap:(e,t)=>{let r=[];return t.forEach(n=>{r=r.concat(e(n))}),r}},Xp=e=>({dimap:(t,r,n)=>a=>n(t(a)),first:t=>([r,n])=>t(r),right:t=>r=>r._tag==="Left"?e.empty():t(r.value),wander:t=>r=>e.foldMap(t,r)}),Sf={Equivalence:{Equivalence:"Equivalence",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Iso:{Equivalence:"Iso",Iso:"Iso",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Lens:{Equivalence:"Lens",Iso:"Lens",Lens:"Lens",Prism:"Prism",Traversal:"Traversal",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Prism:{Equivalence:"Prism",Iso:"Prism",Lens:"Prism",Prism:"Prism",Traversal:"Traversal",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:"Setter"},Traversal:{Equivalence:"Traversal",Iso:"Traversal",Lens:"Traversal",Prism:"Traversal",Traversal:"Traversal",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:"Setter"},Getter:{Equivalence:"Getter",Iso:"Getter",Lens:"Getter",Prism:"AffineFold",Traversal:"Fold",Getter:"Getter",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},AffineFold:{Equivalence:"AffineFold",Iso:"AffineFold",Lens:"AffineFold",Prism:"AffineFold",Traversal:"Fold",Getter:"AffineFold",AffineFold:"AffineFold",Fold:"Fold",Setter:void 0},Fold:{Equivalence:"Fold",Iso:"Fold",Lens:"Fold",Prism:"Fold",Traversal:"Fold",Getter:"Fold",AffineFold:"Fold",Fold:"Fold",Setter:void 0},Setter:{Equivalence:void 0,Iso:void 0,Lens:void 0,Prism:void 0,Traversal:void 0,Getter:void 0,AffineFold:void 0,Fold:void 0,Setter:void 0}},ka=(e,t)=>{const r=t;return r._tag=e,r},V1=e=>(e._removable=!0,e);function Re(e,t,r){switch(arguments.length){case 2:{const n=(a,s)=>e(a,t(a,s));return n._tag=Sf[e._tag][t._tag],n._removable=t._removable||!1,n}default:{const n=Sf[e._tag][t._tag],a=(s,i)=>e(s,t(s,r(s,i)));return a._tag=Sf[n][r._tag],a._removable=r._removable||!1,a}}}const S2=ka("Equivalence",(e,t)=>t),Uo=(e,t)=>ka("Iso",(r,n)=>r.dimap(e,t,n)),er=(e,t)=>ka("Lens",(r,n)=>r.dimap(a=>[e(a),a],t,r.first(n))),Qp=(e,t)=>ka("Prism",(r,n)=>r.dimap(e,a=>P2(qr,t,a),r.right(n))),eh=ka("Traversal",(e,t)=>e.dimap(qr,qr,e.wander(t))),B2=e=>ka("Getter",(t,r)=>t.dimap(e,qr,r)),H1=(e,t,r)=>e(W1,t)(r),k2=(e,t,r)=>e(W1,()=>t)(r),F2=(e,t)=>e(Xp({}),qr)(t),T2=(e,t)=>e(Xp(O2),qr)(t),K1=(e,t)=>e(Xp(A2),r=>[r])(t),_2=Uo(e=>e.map((t,r)=>[r,t]),e=>{const t=[...e].sort((n,a)=>n[0]-a[0]),r=[];for(let n=0;n<t.length;++n)(n===t.length-1||t[n][0]!==t[n+1][0])&&r.push(t[n][1]);return r}),ax=e=>er(t=>t[e],([t,r])=>Object.assign(Object.assign({},r),{[e]:t})),N2=e=>er(t=>{const r={};for(const n of e)r[n]=t[n];return r},([t,r])=>{const n=Object.assign({},r);for(const a of e)delete n[a];return Object.assign(n,t)}),G1=e=>er(t=>t[e],([t,r])=>{const n=r.slice();return n[e]=t,n}),th=G1(0),rh=e=>Qp(t=>e(t)?qo(t):Zp(t),qr),Bs=Symbol("__no_match__"),Y1=rh(e=>e!==Bs),J1=Symbol("__remove_me__"),Bf=e=>V1(Re(er(t=>0<=e&&e<t.length?t[e]:Bs,([t,r])=>{if(t===Bs)return r;if(t===J1)return typeof r=="string"?r.substring(0,e)+r.substring(e+1):[...r.slice(0,e),...r.slice(e+1)];if(typeof r=="string")return e===0?t+r.substring(1):e===r.length?r.substring(0,e-1)+t:r.substring(0,e)+t+r.substring(e+1);{const n=r.slice();return n[e]=t,n}}),Y1)),R2=Qp(e=>e===void 0?Zp(void 0):qo(e),qr),j2=e=>Qp(t=>e(t)?qo(t):Zp(t),qr),I2=e=>V1(Re(er(t=>{const r=t.findIndex(e);return r===-1?[Bs,-1]:[t[r],r]},([[t,r],n])=>{if(t===Bs)return n;if(t===J1)return[...n.slice(0,r),...n.slice(r+1)];const a=n.slice();return a[r]=t,a}),th,Y1)),$2=e=>Re(er(t=>{const r=t.map((n,a)=>e(n)?a:null).filter(n=>n!=null);return[r.map(n=>t[n]),r]},([[t,r],n])=>{const a=n.length,s=t.length;let i=0,o=0,u=0;const c=[];for(;i<a;)r[o]===i?(++o,u<s&&(c.push(t[u]),++u)):c.push(n[i]),++i;for(;u<s;)c.push(t[u++]);return c}),th),M2=e=>er(t=>t===void 0?e:t,([t,r])=>t),L2=e=>Re(er(t=>{const r=K1(e,t);return[r,r.length]},([[t,r],n])=>{if(t.length!==r)throw new Error("cannot add/remove elements through partsOf");let a=0;return H1(e,()=>t[a++],n)}),th),z2=e=>er(t=>e(t),([t,r])=>t),q2=e=>er(t=>t,([t,r])=>e(t)),U2=er(e=>{},([e,t])=>e===void 0?t:[e,...t]),W2=er(e=>{},([e,t])=>e===void 0?t:[...t,e]),V2=Re(Uo(e=>e.split(""),e=>e.join("")),eh),H2=Re(Uo(e=>e.split(/\b/),e=>e.join("")),eh,rh(e=>!/\s+/.test(e)));class Ue{constructor(t){this._ref=t}get _tag(){return this._ref._tag}get _removable(){return this._ref._removable}compose(t){return new Ue(Re(this._ref,t._ref))}iso(t,r){return new Ue(Re(this._ref,Uo(t,r)))}lens(t,r){return new Ue(Re(this._ref,er(t,([n,a])=>r(a,n))))}indexed(){return new Ue(Re(this._ref,_2))}prop(t){return new Ue(Re(this._ref,ax(t)))}path(...t){return t.length===1&&(t=t[0].split(".")),new Ue(t.reduce((r,n)=>Re(r,ax(n)),this._ref))}pick(t){return new Ue(Re(this._ref,N2(t)))}nth(t){return new Ue(Re(this._ref,G1(t)))}filter(t){return new Ue(Re(this._ref,$2(t)))}valueOr(t){return new Ue(Re(this._ref,M2(t)))}partsOf(t){const r=typeof t=="function"?t(Z1):t;return new Ue(Re(this._ref,L2(r._ref)))}reread(t){return new Ue(Re(this._ref,z2(t)))}rewrite(t){return new Ue(Re(this._ref,q2(t)))}optional(){return new Ue(Re(this._ref,R2))}guard_(){return t=>this.guard(t)}guard(t){return new Ue(Re(this._ref,j2(t)))}at(t){return new Ue(Re(this._ref,Bf(t)))}head(){return new Ue(Re(this._ref,Bf(0)))}index(t){return new Ue(Re(this._ref,Bf(t)))}find(t){return new Ue(Re(this._ref,I2(t)))}elems(){return new Ue(Re(this._ref,eh))}to(t){return new Ue(Re(this._ref,B2(t)))}when(t){return new Ue(Re(this._ref,rh(t)))}chars(){return new Ue(Re(this._ref,V2))}words(){return new Ue(Re(this._ref,H2))}prependTo(){return new Ue(Re(this._ref,U2))}appendTo(){return new Ue(Re(this._ref,W2))}}const Z1=new Ue(S2);function K2(){return Z1}function G2(e){return t=>F2(e._ref,t)}function Y2(e){return t=>T2(e._ref,t)}function J2(e){return t=>K1(e._ref,t)}function Z2(e){return t=>r=>H1(e._ref,t,r)}function X2(e){return t=>r=>k2(e._ref,t,r)}const sx=(e,t,r)=>(t.has(r)?t:t.set(r,e())).get(r),Q2=new WeakMap,e$=(e,t,r)=>{const n=sx(()=>new WeakMap,Q2,t);return sx(e,n,r)},t$=e=>typeof e=="function";function r$(e,t){return e$(()=>{const r=t(K2());return xr(a=>{const s=a(e);return s instanceof Promise?s.then(i=>ix(r,i)):ix(r,s)},(a,s,i)=>{const o=t$(i)?Z2(r)(i):X2(r)(i),u=a(e);return s(e,u instanceof Promise?u.then(o):o(u))})},e,t)}const ix=(e,t)=>e._tag==="Traversal"?J2(e)(t):e._tag==="Prism"?Y2(e)(t):G2(e)(t);function Qn(e){return typeof e=="function"}function $r(e,...t){return wE({},e,...t,(r,n,a)=>{if(Array.isArray(n))return n;if(a==="options")return{...r,...n}})}function ct(e={}){let t,r;Qn(e)?(t={key:""},r=s=>e(s)):t=e;const n=t.key??"",a=$r({key:n,__apiExtensions:[],__configuration:null,__extensions:r?[r]:[],__selectorExtensions:[],api:{},dependencies:[],editor:{},handlers:{},inject:{},node:{type:n},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},rules:{},shortcuts:{},transforms:{}},e);return a.node.isLeaf&&!Ve(a.node.isDecoration)&&(a.node.isDecoration=!0),a.configure=s=>{const i={...a};return i.__configuration=o=>Qn(s)?s(o):s,ct(i)},a.configurePlugin=(s,i)=>{const o={...a},u=l=>{let f=!1;const d=l.map(v=>{if(v.key===s.key)return f=!0,ct({...v,__configuration:h=>Qn(i)?i(h):i});if(v.plugins&&v.plugins.length>0){const h=u(v.plugins);if(h.found)return f=!0,{...v,plugins:h.plugins}}return v});return{found:f,plugins:d}},c=u(o.plugins);return o.plugins=c.plugins,ct(o)},a.extendEditorApi=s=>{const i={...a};return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!1}],ct(i)},a.extendSelectors=s=>{const i={...a};return i.__selectorExtensions=[...i.__selectorExtensions,s],ct(i)},a.extendApi=s=>{const i={...a};return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!0}],ct(i)},a.extendEditorTransforms=s=>{const i={...a};return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!1,isTransform:!0}],ct(i)},a.extendTransforms=s=>{const i={...a};return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isPluginSpecific:!0,isTransform:!0}],ct(i)},a.overrideEditor=s=>{const i={...a};return i.__apiExtensions=[...i.__apiExtensions,{extension:s,isOverride:!0,isPluginSpecific:!1,isTransform:!0}],ct(i)},a.extend=s=>{let i={...a};return Qn(s)?i.__extensions=[...i.__extensions,s]:i=$r(i,s),ct(i)},a.clone=()=>$r(a),a.extendPlugin=(s,i)=>{const o={...a},u=l=>{let f=!1;const d=l.map(v=>{if(v.key===s.key)return f=!0,ct({...v,__extensions:[...v.__extensions,h=>Qn(i)?i(h):i]});if(v.plugins&&v.plugins.length>0){const h=u(v.plugins);if(h.found)return f=!0,{...v,plugins:h.plugins}}return v});return{found:f,plugins:d}},c=u(o.plugins);return o.plugins=c.plugins,c.found||o.plugins.push(ct({key:s.key,__extensions:[l=>Qn(i)?i(l):i]})),ct(o)},a.withComponent=s=>a.extend({node:{component:s},render:{node:s}}),a}function Ks(e={}){return ct(e)}function vt(e,t){const r=e.getPlugin(t);return{api:e.api,editor:e,plugin:r,setOption:(n,a)=>e.setOption(r,n,a),setOptions:n=>e.setOptions(r,n),tf:e.transforms,type:r.node.type,getOption:(n,...a)=>e.getOption(r,n,...a),getOptions:()=>e.getOptions(r)}}var X1=(e,t)=>{let r=$r({},t);if(r.__resolved=!0,r.__configuration){const s=r.__configuration(vt(e,r));r=$r(r,s),delete r.__configuration}r.__extensions&&r.__extensions.length>0&&(r.__extensions.forEach(s=>{r=$r(r,s(vt(e,r)))}),r.__extensions=[]);const n=r.inject?.targetPluginToInject,a=r.inject?.targetPlugins;return n&&a&&a.length>0&&(r.inject=r.inject||{},r.inject.plugins=We({},r.inject.plugins,Object.fromEntries(a.map(s=>{const i=n({...vt(e,r),targetPlugin:s});return[s,i]})))),r.node?.component&&(r.render.node=r.node.component),r.render?.node&&(r.node.component=r.render.node),n$(e,r),r},n$=(e,t)=>{t.__extensions||e.api.debug.error(`Invalid plugin '${t.key}', you should use createSlatePlugin.`,"USE_CREATE_PLUGIN"),t.node.isElement&&t.node.isLeaf&&e.api.debug.error(`Plugin ${t.key} cannot be both an element and a leaf.`,"PLUGIN_NODE_TYPE")};function a$(e,t){let r=t;const n=e.plugins[t.key];return n||(r.node||(r=ct(r)),r.__resolved?r:X1(e,r))}function s$(e,t){const r=e.getPlugin({key:t});return r.node.type??r.key??""}var i$=(e,t)=>t.map(r=>e.getType(r)),o$=(e,t)=>e.meta.pluginCache.node.types[t],an=(e,t)=>{const r=o$(e,t);return r?e.getPlugin({key:r}):null},u$=(e,t=[])=>{e.plugins={},e.meta.pluginList=[],e.meta.shortcuts={},e.meta.components={},e.meta.pluginCache={decorate:[],handlers:{onChange:[]},inject:{nodeProps:[]},node:{isContainer:[],isElement:[],isInline:[],isLeaf:[],isMarkableVoid:[],isNotSelectable:[],isStrictSiblings:[],isVoid:[],types:{}},normalizeInitialValue:[],render:{aboveEditable:[],aboveNodes:[],aboveSlate:[],afterContainer:[],afterEditable:[],beforeContainer:[],beforeEditable:[],belowNodes:[],belowRootNodes:[]},rules:{match:[]},useHooks:[]};const r=p$(e,t);return h$(e,r),v$(e),c$(e),e.meta.pluginList.forEach(n=>{n.extendEditor&&(e=n.extendEditor(vt(e,n)),vp(e)),l$(e,n),n.node?.isContainer&&e.meta.pluginCache.node.isContainer.push(n.key),e.meta.pluginCache.node.types[n.node.type]=n.key,n.inject?.nodeProps&&e.meta.pluginCache.inject.nodeProps.push(n.key),n.render?.node&&(e.meta.components[n.key]=n.render.node),n.node?.isLeaf&&e.meta.pluginCache.node.isLeaf.push(n.key),n.node?.isElement&&e.meta.pluginCache.node.isElement.push(n.key),n.node?.isInline&&e.meta.pluginCache.node.isInline.push(n.key),n.node?.isVoid&&e.meta.pluginCache.node.isVoid.push(n.key),n.node?.isMarkableVoid&&e.meta.pluginCache.node.isMarkableVoid.push(n.key),n.node?.isStrictSiblings&&e.meta.pluginCache.node.isStrictSiblings.push(n.key),n.node?.isSelectable===!1&&e.meta.pluginCache.node.isNotSelectable.push(n.key),n.render.aboveEditable&&e.meta.pluginCache.render.aboveEditable.push(n.key),n.render.aboveSlate&&e.meta.pluginCache.render.aboveSlate.push(n.key),n.render.afterEditable&&e.meta.pluginCache.render.afterEditable.push(n.key),n.render.beforeEditable&&e.meta.pluginCache.render.beforeEditable.push(n.key),n.rules?.match&&e.meta.pluginCache.rules.match.push(n.key),n.render.afterContainer&&e.meta.pluginCache.render.afterContainer.push(n.key),n.render.beforeContainer&&e.meta.pluginCache.render.beforeContainer.push(n.key),n.render.belowRootNodes&&e.meta.pluginCache.render.belowRootNodes.push(n.key),n.normalizeInitialValue&&e.meta.pluginCache.normalizeInitialValue.push(n.key),n.decorate&&e.meta.pluginCache.decorate.push(n.key),n.render.aboveNodes&&e.meta.pluginCache.render.aboveNodes.push(n.key),n.render.belowNodes&&e.meta.pluginCache.render.belowNodes.push(n.key),n.useHooks&&e.meta.pluginCache.useHooks.push(n.key),n.handlers?.onChange&&e.meta.pluginCache.handlers.onChange.push(n.key)}),f$(e),e},c$=e=>{e.meta.pluginList.forEach(t=>{let r=Us(t.options,{mutative:!0,name:t.key});t.__selectorExtensions&&t.__selectorExtensions.length>0&&t.__selectorExtensions.forEach(n=>{const a=n(vt(e,t));r=r.extendSelectors(()=>a)}),t.optionsStore=r})},l$=(e,t)=>{Object.entries(t.api).forEach(([r,n])=>{e.api[r]=n}),t.__apiExtensions&&t.__apiExtensions.length>0&&(t.__apiExtensions.forEach(({extension:r,isOverride:n,isPluginSpecific:a,isTransform:s})=>{const i=r(vt(e,t));n?(i.api&&(We(e.api,i.api),We(t.api,i.api),Li(e,e.api)),i.transforms&&(We(e.transforms,i.transforms),We(t.transforms,i.transforms),Mi(e,i.transforms))):s?a?(e.transforms[t.key]||(e.transforms[t.key]={}),t.transforms[t.key]||(t.transforms[t.key]={}),We(e.transforms[t.key],i),We(t.transforms[t.key],i)):(We(e.transforms,i),We(t.transforms,i),Mi(e,i)):a?(e.api[t.key]||(e.api[t.key]={}),t.api[t.key]||(t.api[t.key]={}),We(e.api[t.key],i),We(t.api[t.key],i)):(We(e.api,i),We(t.api,i),Li(e,e.api))}),delete t.__apiExtensions)},f$=e=>{e.meta.shortcuts={},e.meta.pluginList.forEach(t=>{Object.entries(t.shortcuts).forEach(([r,n])=>{const a=`${t.key}.${r}`;if(n===null)delete e.meta.shortcuts[a];else if(n&&typeof n=="object"){const s={...n};if(!s.handler){const i=t.transforms?.[t.key],o=t.api?.[t.key];i?.[r]?s.handler=()=>i[r]():o?.[r]&&(s.handler=()=>o[r]())}s.priority=s.priority??t.priority,e.meta.shortcuts[a]=s}})})},d$=(e,t)=>{const r=new Map,n=a=>{const s=X1(e,a);if(s.key){const i=r.get(s.key);i?r.set(s.key,$r(i,s)):r.set(s.key,s)}s.plugins&&s.plugins.length>0&&s.plugins.forEach(n)};return t.forEach(n),r},p$=(e,t)=>{const r=d$(e,t),n=Array.from(r.values()).filter(o=>o.enabled!==!1);n.sort((o,u)=>u.priority-o.priority);const a=[],s=new Set,i=o=>{s.has(o.key)||(s.add(o.key),o.dependencies?.forEach(u=>{const c=r.get(u);c?i(c):e.api.debug.warn(`Plugin "${o.key}" depends on missing plugin "${u}"`,"PLUGIN_DEPENDENCY_MISSING")}),a.push(o))};return n.forEach(i),a},h$=(e,t)=>{e.meta.pluginList=t,e.plugins=Object.fromEntries(t.map(r=>[r.key,r]))},v$=e=>{const t=r=>{let n=[...r];const a={},s={},i={};for(const o of r)o.override.enabled&&Object.assign(a,o.override.enabled),o.override.components&&Object.entries(o.override.components).forEach(([u,c])=>{(!s[u]||o.priority>s[u].priority)&&(s[u]={component:c,priority:o.priority})}),o.override.plugins&&Object.entries(o.override.plugins).forEach(([u,c])=>{i[u]=$r(i[u],c),c.enabled!==void 0&&(a[u]=c.enabled)});return n=n.map(o=>{let u={...o};i[o.key]&&(u=$r(u,i[o.key])),s[o.key]&&(!o.render.node&&!o.node.component||s[o.key].priority>o.priority)&&(u.render.node=s[o.key].component,u.node.component=s[o.key].component);const c=a[o.key]??u.enabled;return Ve(c)&&(u.enabled=c),u}),n.filter(o=>o.enabled!==!1).map(o=>({...o,plugins:t(o.plugins||[])}))};e.meta.pluginList=t(e.meta.pluginList),e.plugins=Object.fromEntries(e.meta.pluginList.map(r=>[r.key,r]))},m$=ct({key:"ast",parser:{format:"application/x-slate-fragment",deserialize:({data:e})=>{const t=decodeURIComponent(window.atob(e));let r;try{r=JSON.parse(t)}catch{}return r}}}),g$=({editor:e})=>Uw(e),y$=ct({key:"history",extendEditor:g$}),Gs=ct({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{rules:[{validNodeName:"P"}],query:({element:e})=>e.style.fontFamily!=="Consolas"}}},rules:{merge:{removeEmpty:!0}}}),b$=e=>{const{editor:t,tf:{insertBreak:r}}=e,n=(s,i,o)=>{const u=t.meta.pluginCache.rules.match;for(const c of u){const l=t.getPlugin({key:c});if(l.rules?.break&&l.rules?.match?.({...e,node:i,path:o,rule:s}))return l.rules.break}return null},a=(s,i)=>s==="reset"?(t.tf.resetBlock({at:i}),!0):s==="exit"?(t.tf.insertExitBreak(),!0):s==="deleteExit"?(t.tf.deleteBackward("character"),t.tf.insertExitBreak(),!0):s==="lineBreak"?(t.tf.insertSoftBreak(),!0):!1;return{transforms:{insertBreak(){if(t.selection&&t.api.isCollapsed()){const s=t.api.block();if(s){const[i,o]=s,c=an(t,i.type)?.rules.break;if(t.api.isEmpty(t.selection,{block:!0})){const x=(n("break.empty",i,o)||c)?.empty;if(a(x,o))return}if(!t.api.isEmpty(t.selection,{block:!0})&&t.api.isAt({end:!0})){const h=t.api.range("before",t.selection);if(h&&t.api.string(h)===`
`){const p=(n("break.emptyLineEnd",i,o)||c)?.emptyLineEnd;if(a(p,o))return}}const f=(n("break.default",i,o)||c)?.default;if(a(f,o))return;if(n("break.splitReset",i,o)?.splitReset??c?.splitReset){const h=t.api.isAt({start:!0});r(),t.tf.resetBlock({at:h?o:fe.next(o)});return}}}r()}}}},x$=e=>{const{editor:t,tf:{deleteBackward:r,deleteForward:n,deleteFragment:a}}=e,s=()=>{t.api.isAt({start:!0})&&t.tf.removeMarks()},i=(u,c,l)=>{const f=t.meta.pluginCache.rules.match;for(const d of f){const v=t.getPlugin({key:d});if(v.rules?.delete&&v.rules?.match?.({...e,node:c,path:l,rule:u}))return v.rules.delete}return null},o=(u,c)=>u==="reset"?(t.tf.resetBlock({at:c}),!0):!1;return{transforms:{deleteBackward(u){if(t.selection&&t.api.isCollapsed()){const c=t.api.block();if(c){const[l,f]=c,v=an(t,l.type)?.rules.delete;if(t.api.isAt({start:!0})){const x=(i("delete.start",l,f)||v)?.start;if(o(x,f))return}if(t.api.isEmpty(t.selection,{block:!0})){const x=(i("delete.empty",l,f)||v)?.empty;if(o(x,f))return}}if(rn.equals(t.selection.anchor,t.api.start([]))){t.tf.resetBlock({at:[0]});return}}r(u),s()},deleteForward(u){n(u),s()},deleteFragment(u){if(t.selection&&Me.equals(t.selection,t.api.range([]))){t.tf.reset({children:!0,select:!0});return}a(u),s()}}}},w$=e=>{const{editor:t,tf:{removeNodes:r}}=e,n=(a,s,i)=>{const o=t.meta.pluginCache.rules.match;for(const u of o){const c=t.getPlugin({key:u});if(c.rules.merge&&c.rules?.match?.({...e,node:s,path:i,rule:a}))return c.rules.merge}return null};return{api:{shouldMergeNodes(a,s,{reverse:i}={}){const[o,u]=a,[,c]=s,[l,f]=i?a:s,[d,v]=i?s:a;if(Ge.isText(o)&&o.text===""&&u.at(-1)!==0)return t.tf.removeNodes({at:u}),!1;const h=(g,x)=>{const y=an(t,g.type);return y?!(!y.rules.merge?.removeEmpty||n("merge.removeEmpty",g,x)?.removeEmpty===!1):!0};return ve.isElement(d)&&t.api.isVoid(d)?(h(d,v)?t.tf.removeNodes({at:u}):ve.isElement(l)&&t.api.isEmpty(l)&&t.tf.removeNodes({at:f}),!1):ve.isElement(o)&&t.api.isEmpty(o)&&fe.isSibling(u,c)&&h(o,u)?(t.tf.removeNodes({at:u}),!1):!0}},transforms:{removeNodes(a={}){if(a.event?.type==="mergeNodes"&&a.at){const s=t.api.node(a.at);if(s){const[i,o]=s;if(ve.isElement(i)){const u=an(t,i.type);if(u){const c=u.rules.merge;if(n("merge.removeEmpty",i,o)?.removeEmpty===!1||c?.removeEmpty===!1)return}}}}r(a)}}}},E$=e=>{const{editor:t,tf:{normalizeNode:r}}=e,n=(a,s,i)=>{const o=t.meta.pluginCache.rules.match;for(const u of o){const c=t.getPlugin({key:u});if(c.rules?.normalize&&c.rules?.match?.({...e,node:s,path:i,rule:a}))return c.rules.normalize}return null};return{transforms:{normalizeNode([a,s]){if(ve.isElement(a)&&a.type){const o=an(t,a.type)?.rules.normalize;if((n("normalize.removeEmpty",a,s)||o)?.removeEmpty&&t.api.isEmpty(a)){t.tf.removeNodes({at:s});return}}r([a,s])}}}},D$=({api:{isInline:e,isSelectable:t,isVoid:r,markableVoid:n},editor:a})=>{const s=a.meta.pluginCache.node.isVoid,i=a.meta.pluginCache.node.isInline,o=a.meta.pluginCache.node.isMarkableVoid,u=a.meta.pluginCache.node.isNotSelectable;return{api:{create:{block:c=>({children:[{text:""}],type:a.getType(Gs.key),...c})},isInline(c){return i.includes(c.type)?!0:e(c)},isSelectable(c){return u.includes(c.type)?!1:t(c)},isVoid(c){return s.includes(c.type)?!0:r(c)},markableVoid(c){return o.includes(c.type)?!0:n(c)}}}},C$=ct({key:"override"}).overrideEditor(D$).overrideEditor(b$).overrideEditor(x$).overrideEditor(w$).overrideEditor(E$),P$=(e,t,{fragment:r,...n})=>{e.tf.withoutNormalizing(()=>{t.some(a=>a.parser?.preInsert?.({...vt(e,a),fragment:r,...n})===!0),e.tf.insertFragment(r)})},O$=(e,t,{data:r,dataTransfer:n})=>(t.forEach(a=>{const s=a.parser?.transformData;s&&(r=s({...vt(e,a),data:r,dataTransfer:n}))}),r),A$=(e,t,{fragment:r,...n})=>(t.forEach(a=>{const s=a.parser?.transformFragment;s&&(r=s({fragment:r,...n,...vt(e,a)}))}),r),ks=({apply:e,node:t,path:r=[],query:n,source:a})=>{un([t,r],n)&&(typeof a=="function"?e(t,a()):e(t,a)),ge.isAncestor(t)&&t.children.forEach((i,o)=>{ks({apply:e,node:i,path:r.concat([o]),query:n,source:a})})},S$=e=>{ks({...e,apply:EE})},B$=(e,t)=>Object.values(e.plugins).filter(r=>t.includes(r.node.type)).map(r=>r.key),ox=(e,t)=>Object.values(e.plugins).find(n=>n.node.type===t)?.key??t,k$=(e,t)=>(r,n)=>{const{inject:{excludeBelowPlugins:a,excludePlugins:s,isBlock:i,isElement:o,isLeaf:u,maxLevel:c,targetPlugins:l}}=t,f=ve.isElement(r)?r:void 0;if(o&&!f||i&&(!f||!e.api.isBlock(f))||u&&f||f?.type&&(s?.includes(ox(e,f.type))||l&&!l.includes(ox(e,f.type))))return!1;if(a||c){if(c&&n.length>c)return!1;if(a){const d=B$(e,a);if(e.api.above({at:n,match:h=>ve.isElement(h)&&d.includes(h.type)}))return!1}}return!0},Q1=(e,t)=>{const r=[];return[...e.meta.pluginList].reverse().forEach(n=>{const a=n.inject.plugins?.[t.key];a&&r.push(a)}),[t,...r]},F$=e=>Object.keys(e).filter(t=>typeof e[t]!="object"&&(!Ge.isText(e)||t!=="text")).map(t=>T$(t)),T$=e=>`data-slate-${AE(e)}`,ux={handlers:!0,inject:!0,normalizeInitialValue:!1,render:!0},qt=(e,t,r)=>e?t.editOnly===!0?ux[r]:typeof t.editOnly=="object"?t.editOnly[r]??ux[r]:!1:!1,_$=(e,t,r,n)=>{const{key:a,inject:{nodeProps:s}}=t,{element:i,text:o}=r,u=i??o;if(!u||!s)return;const{classNames:c,defaultNodeValue:l,nodeKey:f=e.getType(a),query:d,styleKey:v=f,transformClassName:h,transformNodeValue:g,transformProps:x,transformStyle:y,validNodeValues:p}=s;if(!k$(e,t)(u,n(u)))return;const C=d?.({...s,...vt(e,t),nodeProps:r});if(d&&!C)return;const P=u[f];if(!x&&(!Ve(P)||p&&!p.includes(P)||P===l))return;const _={...r,...vt(e,t),nodeValue:P},R=g?.(_)??P;_.value=R;let E={};return i&&f&&P&&(E.className=`slate-${f}-${P}`),(c?.[P]||h)&&(E.className=h?.(_)??c?.[R]),v&&(E.style=y?.(_)??{[v]:R}),x&&(E=x({..._,props:E})??E),E},N$=(e,t,r,n=!1)=>(e.meta.pluginCache.inject.nodeProps.forEach(a=>{const s=e.getPlugin({key:a}),i=_$(e,s,t,r);if(qt(n,s,"inject")||!i)return;const o=t.attributes;t.attributes={...o,...i,className:Qt(o?.className,i.className)||void 0,style:{...o?.style,...i.style}}}),t),R$=(e,t)=>{if(!(e.meta.pluginCache.decorate.length===0&&!t))return r=>{let n=[];const a=s=>{s?.length&&(n=[...n,...s])};return e.meta.pluginCache.decorate.forEach(s=>{const i=e.getPlugin({key:s});a(i.decorate({...vt(e,i),entry:r}))}),t&&a(t({editor:e,entry:r})),n}},eD=e=>e.dataset.slateVoid==="true",j$=e=>e.dataset.slateNode==="element",I$=e=>e.dataset.slateNode==="text",$$=e=>e.dataset.slateString==="true",tD=e=>e.dataset.slateLeaf==="true",so=e=>tD(e)||j$(e)||eD(e)||$$(e)||I$(e),M$=(e,t)=>e.classList.contains(`slate-${t}`),L$=({attributes:e,node:t,plugin:r,props:n})=>{const a={...n,attributes:{...n.attributes}};if(r?.node.props){const s=(typeof r.node.props=="function"?r.node.props(a):r.node.props)??{};a.attributes={...a.attributes,...s}}return e&&r&&(a.attributes={...a.attributes,...PE(e,...r.node.dangerouslyAllowAttributes??[],[...t?F$(t):[]])}),Object.keys(a.attributes).forEach(s=>{a.attributes?.[s]===void 0&&delete a.attributes?.[s]}),a},z$=e=>e?`slate-${e}`:"",q$={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",escape:"escape",extendBackward:"shift+left",extendDownward:"shift+down",extendForward:"shift+right",extendUpward:"shift+up",insertSoftBreak:"shift+enter",italic:"mod+i",moveBackward:"left",moveDownward:"down",moveForward:"right",moveUpward:"up",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",selectAll:"mod+a",splitBlock:"enter",tab:"tab",undo:"mod+z",untab:"shift+tab"},U$={deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},W$={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Le=e=>{const t=q$[e],r=U$[e],n=W$[e],a=t&&Rr.isKeyHotkey(t),s=r&&Rr.isKeyHotkey(r),i=n&&Rr.isKeyHotkey(n);return o=>!!(a?.(o)||Ti&&s?.(o)||!Ti&&i?.(o))},cx=e=>(t,r,{composing:n}={})=>!(!Le(e)(r)||!!n!==t.api.isComposing()),dn={isBold:Le("bold"),isCompose:Le("compose"),isDeleteBackward:Le("deleteBackward"),isDeleteForward:Le("deleteForward"),isDeleteLineBackward:Le("deleteLineBackward"),isDeleteLineForward:Le("deleteLineForward"),isDeleteWordBackward:Le("deleteWordBackward"),isDeleteWordForward:Le("deleteWordForward"),isEscape:Le("escape"),isExtendBackward:Le("extendBackward"),isExtendDownward:Le("extendDownward"),isExtendForward:Le("extendForward"),isExtendLineBackward:Le("extendLineBackward"),isExtendLineForward:Le("extendLineForward"),isExtendUpward:Le("extendUpward"),isItalic:Le("italic"),isMoveBackward:Le("moveBackward"),isMoveDownward:Le("moveDownward"),isMoveForward:Le("moveForward"),isMoveLineBackward:Le("moveLineBackward"),isMoveLineForward:Le("moveLineForward"),isMoveUpward:Le("moveUpward"),isMoveWordBackward:Le("moveWordBackward"),isMoveWordForward:Le("moveWordForward"),isRedo:Le("redo"),isSelectAll:Le("selectAll"),isSoftBreak:Le("insertSoftBreak"),isSplitBlock:Le("splitBlock"),isTab:cx("tab"),isTransposeCharacter:Le("transposeCharacter"),isUndo:Le("undo"),isUntab:cx("untab")},V$=e=>{ks({...e,apply:We})},rD=Symbol.for("immer-nothing"),lx=Symbol.for("immer-draftable"),Zt=Symbol.for("immer-state");function gr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xa=Object.getPrototypeOf;function wa(e){return!!e&&!!e[Zt]}function zn(e){return e?nD(e)||Array.isArray(e)||!!e[lx]||!!e.constructor?.[lx]||Vo(e)||Ho(e):!1}var H$=Object.prototype.constructor.toString();function nD(e){if(!e||typeof e!="object")return!1;const t=xa(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===H$}function io(e,t){Wo(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Wo(e){const t=e[Zt];return t?t.type_:Array.isArray(e)?1:Vo(e)?2:Ho(e)?3:0}function Nd(e,t){return Wo(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function aD(e,t,r){const n=Wo(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function K$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Vo(e){return e instanceof Map}function Ho(e){return e instanceof Set}function wn(e){return e.copy_||e.base_}function Rd(e,t){if(Vo(e))return new Map(e);if(Ho(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=nD(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Zt];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(xa(e),n)}else{const n=xa(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function nh(e,t=!1){return Ko(e)||wa(e)||!zn(e)||(Wo(e)>1&&(e.set=e.add=e.clear=e.delete=G$),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>nh(n,!0))),e}function G$(){gr(2)}function Ko(e){return Object.isFrozen(e)}var Y$={};function qn(e){const t=Y$[e];return t||gr(0,e),t}var Fs;function sD(){return Fs}function J$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fx(e,t){t&&(qn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function jd(e){Id(e),e.drafts_.forEach(Z$),e.drafts_=null}function Id(e){e===Fs&&(Fs=e.parent_)}function dx(e){return Fs=J$(Fs,e)}function Z$(e){const t=e[Zt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function px(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Zt].modified_&&(jd(t),gr(4)),zn(e)&&(e=oo(t,e),t.parent_||uo(t,e)),t.patches_&&qn("Patches").generateReplacementPatches_(r[Zt].base_,e,t.patches_,t.inversePatches_)):e=oo(t,r,[]),jd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rD?e:void 0}function oo(e,t,r){if(Ko(t))return t;const n=t[Zt];if(!n)return io(t,(a,s)=>hx(e,n,t,a,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return uo(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let s=a,i=!1;n.type_===3&&(s=new Set(a),a.clear(),i=!0),io(s,(o,u)=>hx(e,n,a,o,u,r,i)),uo(e,a,!1),r&&e.patches_&&qn("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function hx(e,t,r,n,a,s,i){if(wa(a)){const o=s&&t&&t.type_!==3&&!Nd(t.assigned_,n)?s.concat(n):void 0,u=oo(e,a,o);if(aD(r,n,u),wa(u))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(zn(a)&&!Ko(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;oo(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&uo(e,a)}}function uo(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&nh(t,r)}function X$(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:sD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=ah;r&&(a=[n],s=Ts);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var ah={get(e,t){if(t===Zt)return e;const r=wn(e);if(!Nd(r,t))return Q$(e,r,t);const n=r[t];return e.finalized_||!zn(n)?n:n===kf(e.base_,t)?(Ff(e),e.copy_[t]=Md(n,e)):n},has(e,t){return t in wn(e)},ownKeys(e){return Reflect.ownKeys(wn(e))},set(e,t,r){const n=iD(wn(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=kf(wn(e),t),s=a?.[Zt];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(K$(r,a)&&(r!==void 0||Nd(e.base_,t)))return!0;Ff(e),$d(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return kf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ff(e),$d(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){gr(11)},getPrototypeOf(e){return xa(e.base_)},setPrototypeOf(){gr(12)}},Ts={};io(ah,(e,t)=>{Ts[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ts.deleteProperty=function(e,t){return Ts.set.call(this,e,t,void 0)};Ts.set=function(e,t,r){return ah.set.call(this,e[0],t,r,e[0])};function kf(e,t){const r=e[Zt];return(r?wn(r):e)[t]}function Q$(e,t,r){const n=iD(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function iD(e,t){if(!(t in e))return;let r=xa(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xa(r)}}function $d(e){e.modified_||(e.modified_=!0,e.parent_&&$d(e.parent_))}function Ff(e){e.copy_||(e.copy_=Rd(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var eM=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(u=s,...c){return i.produce(u,l=>r.call(this,l,...c))}}typeof r!="function"&&gr(6),n!==void 0&&typeof n!="function"&&gr(7);let a;if(zn(t)){const s=dx(this),i=Md(t,void 0);let o=!0;try{a=r(i),o=!1}finally{o?jd(s):Id(s)}return fx(s,n),px(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===rD&&(a=void 0),this.autoFreeze_&&nh(a,!0),n){const s=[],i=[];qn("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else gr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,u=>t(u,...o));let n,a;return[this.produce(t,r,(i,o)=>{n=i,a=o}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){zn(e)||gr(8),wa(e)&&(e=tM(e));const t=dx(this),r=Md(e,void 0);return r[Zt].isManual_=!0,Id(t),r}finishDraft(e,t){const r=e&&e[Zt];(!r||!r.isManual_)&&gr(9);const{scope_:n}=r;return fx(n,t),px(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=qn("Patches").applyPatches_;return wa(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Md(e,t){const r=Vo(e)?qn("MapSet").proxyMap_(e,t):Ho(e)?qn("MapSet").proxySet_(e,t):X$(e,t);return(t?t.scope_:sD()).drafts_.push(r),r}function tM(e){return wa(e)||gr(10,e),oD(e)}function oD(e){if(!zn(e)||Ko(e))return e;const t=e[Zt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Rd(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Rd(e,!0);return io(r,(n,a)=>{aD(r,n,oD(a))}),t&&(t.finalized_=!1),r}var Xt=new eM,rM=Xt.produce;Xt.produceWithPatches.bind(Xt);Xt.setAutoFreeze.bind(Xt);Xt.setUseStrictShallowCopy.bind(Xt);Xt.applyPatches.bind(Xt);Xt.createDraft.bind(Xt);Xt.finishDraft.bind(Xt);var ee={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=ee.levels(e,t);return r?n=n.slice(1):n=n.slice(0,-1),n},common(e,t){for(var r=[],n=0;n<e.length&&n<t.length;n++){var a=e[n],s=t[n];if(a!==s)break;r.push(a)}return r},compare(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0},endsAfter(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),s=e[r],i=t[r];return ee.equals(n,a)&&s>i},endsAt(e,t){var r=e.length,n=e.slice(0,r),a=t.slice(0,r);return ee.equals(n,a)},endsBefore(e,t){var r=e.length-1,n=e.slice(0,r),a=t.slice(0,r),s=e[r],i=t[r];return ee.equals(n,a)&&s<i},equals(e,t){return e.length===t.length&&e.every((r,n)=>r===t[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return ee.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&ee.compare(e,t)===0},isBefore(e,t){return ee.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&ee.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&ee.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&ee.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&ee.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var r=e.slice(0,-1),n=t.slice(0,-1),a=e[e.length-1],s=t[t.length-1];return a!==s&&ee.equals(r,n)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,n=[],a=0;a<=e.length;a++)n.push(e.slice(0,a));return r&&n.reverse(),n},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!ee.isAncestor(t,e)&&!ee.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var n=[...e],{affinity:a="forward"}=r;if(e.length===0)return n;switch(t.type){case"insert_node":{var{path:s}=t;(ee.equals(s,n)||ee.endsBefore(s,n)||ee.isAncestor(s,n))&&(n[s.length-1]+=1);break}case"remove_node":{var{path:i}=t;if(ee.equals(i,n)||ee.isAncestor(i,n))return null;ee.endsBefore(i,n)&&(n[i.length-1]-=1);break}case"merge_node":{var{path:o,position:u}=t;ee.equals(o,n)||ee.endsBefore(o,n)?n[o.length-1]-=1:ee.isAncestor(o,n)&&(n[o.length-1]-=1,n[o.length]+=u);break}case"split_node":{var{path:c,position:l}=t;if(ee.equals(c,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else ee.endsBefore(c,n)?n[c.length-1]+=1:ee.isAncestor(c,n)&&e[c.length]>=l&&(n[c.length-1]+=1,n[c.length]-=l);break}case"move_node":{var{path:f,newPath:d}=t;if(ee.equals(f,d))return n;if(ee.isAncestor(f,n)||ee.equals(f,n)){var v=d.slice();return ee.endsBefore(f,d)&&f.length<d.length&&(v[f.length-1]-=1),v.concat(n.slice(f.length))}else ee.isSibling(f,d)&&(ee.isAncestor(d,n)||ee.equals(d,n))?ee.endsBefore(f,n)?n[f.length-1]-=1:n[f.length-1]+=1:ee.endsBefore(d,n)||ee.equals(d,n)||ee.isAncestor(d,n)?(ee.endsBefore(f,n)&&(n[f.length-1]-=1),n[d.length-1]+=1):ee.endsBefore(f,n)&&(ee.equals(d,n)&&(n[d.length-1]+=1),n[f.length-1]-=1);break}}return n}};function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function nM(e,t){if(_s(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_s(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aM(e){var t=nM(e,"string");return _s(t)==="symbol"?t:String(t)}function Fa(e,t,r){return t=aM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vx(Object(r),!0).forEach(function(n){Fa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var mx=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return[...t.slice(0,r),...a,...t.slice(r)]},Ns=function(t,r,n){for(var a=arguments.length,s=new Array(a>3?a-3:0),i=3;i<a;i++)s[i-3]=arguments[i];return[...t.slice(0,r),...s,...t.slice(r+n)]},gx=Ns,sh=(e,t,r)=>{if(t.length===0)throw new Error("Cannot modify the editor");for(var n=Be.get(e,t),a=t.slice(),s=r(n);a.length>1;){var i=a.pop(),o=Be.get(e,a);s=et(et({},o),{},{children:Ns(o.children,i,1,s)})}var u=a.pop();e.children=Ns(e.children,u,1,s)},ea=(e,t,r)=>{t.length===0?e.children=r(e.children):sh(e,t,n=>{if(ut.isText(n))throw new Error("Cannot get the element at path [".concat(t,"] because it refers to a leaf node: ").concat(ar.stringify(n)));return et(et({},n),{},{children:r(n.children)})})},yx=(e,t,r)=>sh(e,t,n=>{if(!ut.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(ar.stringify(n)));return r(n)}),sM={transform(e,t){var r=!1;switch(t.type){case"insert_node":{var{path:n,node:a}=t;ea(e,ee.parent(n),z=>{var M=n[n.length-1];if(M>z.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));return mx(z,M,a)}),r=!0;break}case"insert_text":{var{path:s,offset:i,text:o}=t;if(o.length===0)break;yx(e,s,z=>{var M=z.text.slice(0,i),q=z.text.slice(i);return et(et({},z),{},{text:M+o+q})}),r=!0;break}case"merge_node":{var{path:u}=t,c=u[u.length-1],l=ee.previous(u),f=l[l.length-1];ea(e,ee.parent(u),z=>{var M=z[c],q=z[f],se;if(ut.isText(M)&&ut.isText(q))se=et(et({},q),{},{text:q.text+M.text});else if(!ut.isText(M)&&!ut.isText(q))se=et(et({},q),{},{children:q.children.concat(M.children)});else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(u,"] to nodes of different interfaces: ").concat(ar.stringify(M)," ").concat(ar.stringify(q)));return Ns(z,f,2,se)}),r=!0;break}case"move_node":{var{path:d,newPath:v}=t,h=d[d.length-1];if(ee.isAncestor(d,v))throw new Error("Cannot move a path [".concat(d,"] to new path [").concat(v,"] because the destination is inside itself."));var g=Be.get(e,d);ea(e,ee.parent(d),z=>gx(z,h,1));var x=ee.transform(d,t),y=x[x.length-1];ea(e,ee.parent(x),z=>mx(z,y,g)),r=!0;break}case"remove_node":{var{path:p}=t,w=p[p.length-1];if(ea(e,ee.parent(p),z=>gx(z,w,1)),e.selection){var C=et({},e.selection);for(var[P,_]of $e.points(C)){var R=yt.transform(P,t);if(C!=null&&R!=null)C[_]=R;else{var E=void 0,A=void 0;for(var[S,B]of Be.texts(e))if(ee.compare(B,p)===-1)E=[S,B];else{A=[S,B];break}var k=!1;E&&A&&(ee.equals(A[1],p)?k=!ee.hasPrevious(A[1]):k=ee.common(E[1],p).length<ee.common(A[1],p).length),E&&!k?C[_]={path:E[1],offset:E[0].text.length}:A?C[_]={path:A[1],offset:0}:C=null}}e.selection=C}break}case"remove_text":{var{path:T,offset:j,text:L}=t;if(L.length===0)break;yx(e,T,z=>{var M=z.text.slice(0,j),q=z.text.slice(j+L.length);return et(et({},z),{},{text:M+q})}),r=!0;break}case"set_node":{var{path:J,properties:I,newProperties:Y}=t;if(J.length===0)throw new Error("Cannot set properties on the root node!");sh(e,J,z=>{var M=et({},z);for(var q in Y){if(q==="children"||q==="text")throw new Error('Cannot set the "'.concat(q,'" property of nodes!'));var se=Y[q];se==null?delete M[q]:M[q]=se}for(var ne in I)Y.hasOwnProperty(ne)||delete M[ne];return M});break}case"set_selection":{var{newProperties:W}=t;if(W==null){e.selection=null;break}if(e.selection==null){if(!$e.isRange(W))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(ar.stringify(W)," when there is no current selection."));e.selection=et({},W);break}var Z=et({},e.selection);for(var ie in W){var le=W[ie];if(le==null){if(ie==="anchor"||ie==="focus")throw new Error('Cannot remove the "'.concat(ie,'" selection property'));delete Z[ie]}else Z[ie]=le}e.selection=Z;break}case"split_node":{var{path:oe,position:me,properties:ue}=t,ye=oe[oe.length-1];if(oe.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(oe,"] because the root node cannot be split."));ea(e,ee.parent(oe),z=>{var M=z[ye],q,se;if(ut.isText(M)){var ne=M.text.slice(0,me),m=M.text.slice(me);q=et(et({},M),{},{text:ne}),se=et(et({},ue),{},{text:m})}else{var D=M.children.slice(0,me),O=M.children.slice(me);q=et(et({},M),{},{children:D}),se=et(et({},ue),{},{children:O})}return Ns(z,ye,1,q,se)}),r=!0;break}}if(r&&e.selection){var be=et({},e.selection);for(var[Te,$]of $e.points(be))be[$]=yt.transform(Te,t);e.selection=be}}},iM={insertNodes(e,t,r){e.insertNodes(t,r)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,r){e.setNodes(t,r)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,r){e.unsetNodes(t,r)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,r){e.wrapNodes(t,r)}},oM={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,r){e.setPoint(t,r)},setSelection(e,t){e.setSelection(t)}},Ot=e=>typeof e=="object"&&e!==null,uD=(e,t)=>{for(var r in e){var n=e[r],a=t[r];if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var s=0;s<n.length;s++)if(n[s]!==a[s])return!1}else if(Ot(n)&&Ot(a)){if(!uD(n,a))return!1}else if(n!==a)return!1}for(var i in t)if(e[i]===void 0&&t[i]!==void 0)return!1;return!0};function uM(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Rs(e,t){if(e==null)return{};var r=uM(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var cM=["anchor","focus"];function bx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bx(Object(r),!0).forEach(function(n){Fa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var $e={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=t,{anchor:n,focus:a}=e;return $e.isBackward(e)===r?[n,a]:[a,n]},end(e){var[,t]=$e.edges(e);return t},equals(e,t){return yt.equals(e.anchor,t.anchor)&&yt.equals(e.focus,t.focus)},surrounds(e,t){var r=$e.intersection(e,t);return r?$e.equals(r,t):!1},includes(e,t){if($e.isRange(t)){if($e.includes(e,t.anchor)||$e.includes(e,t.focus))return!0;var[r,n]=$e.edges(e),[a,s]=$e.edges(t);return yt.isBefore(r,a)&&yt.isAfter(n,s)}var[i,o]=$e.edges(e),u=!1,c=!1;return yt.isPoint(t)?(u=yt.compare(t,i)>=0,c=yt.compare(t,o)<=0):(u=ee.compare(t,i.path)>=0,c=ee.compare(t,o.path)<=0),u&&c},intersection(e,t){var r=Rs(e,cM),[n,a]=$e.edges(e),[s,i]=$e.edges(t),o=yt.isBefore(n,s)?s:n,u=yt.isBefore(a,i)?a:i;return yt.isBefore(u,o)?null:lM({anchor:o,focus:u},r)},isBackward(e){var{anchor:t,focus:r}=e;return yt.isAfter(t,r)},isCollapsed(e){var{anchor:t,focus:r}=e;return yt.equals(t,r)},isExpanded(e){return!$e.isCollapsed(e)},isForward(e){return!$e.isBackward(e)},isRange(e){return Ot(e)&&yt.isPoint(e.anchor)&&yt.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=$e.edges(e);return t},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===null)return null;var{affinity:n="inward"}=r,a,s;if(n==="inward"){var i=$e.isCollapsed(e);$e.isForward(e)?(a="forward",s=i?a:"backward"):(a="backward",s=i?a:"forward")}else n==="outward"?$e.isForward(e)?(a="backward",s="forward"):(a="forward",s="backward"):(a=n,s=n);var o=yt.transform(e.anchor,t,{affinity:a}),u=yt.transform(e.focus,t,{affinity:s});return!o||!u?null:{anchor:o,focus:u}}},xx=function(t){var{deep:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ot(t))return!1;var n=typeof t.apply=="function";if(n)return!1;var a=r?Be.isNodeList(t.children):Array.isArray(t.children);return a},En={isAncestor(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ot(e)&&Be.isNodeList(e.children,{deep:t})},isElement:xx,isElementList(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(e)&&e.every(r=>En.isElement(r,{deep:t}))},isElementProps(e){return e.children!==void 0},isElementType:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return xx(t)&&t[n]===r},matches(e,t){for(var r in t)if(r!=="children"&&e[r]!==t[r])return!1;return!0}},fM=["children"],dM=["text"],Be={ancestor(e,t){var r=Be.get(e,t);if(ut.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(ar.stringify(r)));return r},ancestors(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of ee.ancestors(t,r)){var a=Be.ancestor(e,n),s=[a,n];yield s}}()},child(e,t){if(ut.isText(e))throw new Error("Cannot get the child of a text node: ".concat(ar.stringify(e)));var r=e.children[t];if(r==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(ar.stringify(e)));return r},children(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,a=Be.ancestor(e,t),{children:s}=a,i=n?s.length-1:0;n?i>=0:i<s.length;){var o=Be.child(a,i),u=t.concat(i);yield[o,u],i=n?i-1:i+1}}()},common(e,t,r){var n=ee.common(t,r),a=Be.get(e,n);return[a,n]},descendant(e,t){var r=Be.get(e,t);if(dr.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(ar.stringify(r)));return r},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Be.nodes(e,t))n.length!==0&&(yield[r,n])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Be.nodes(e,t))En.isElement(r)&&(yield[r,n])}()},extractProps(e){if(En.isAncestor(e)){var t=Rs(e,fM);return t}else{var t=Rs(e,dM);return t}},first(e,t){for(var r=t.slice(),n=Be.get(e,r);n&&!(ut.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(e,t){if(ut.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(ar.stringify(e)));var r=rM({children:e.children},n=>{var[a,s]=$e.edges(t),i=Be.nodes(n,{reverse:!0,pass:d=>{var[,v]=d;return!$e.includes(t,v)}});for(var[,o]of i){if(!$e.includes(t,o)){var u=Be.parent(n,o),c=o[o.length-1];u.children.splice(c,1)}if(ee.equals(o,s.path)){var l=Be.leaf(n,o);l.text=l.text.slice(0,s.offset)}if(ee.equals(o,a.path)){var f=Be.leaf(n,o);f.text=f.text.slice(a.offset)}}dr.isEditor(n)&&(n.selection=null)});return r.children},get(e,t){var r=Be.getIf(e,t);if(r===void 0)throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(ar.stringify(e)));return r},getIf(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(ut.isText(r)||!r.children[a])return;r=r.children[a]}return r},has(e,t){for(var r=e,n=0;n<t.length;n++){var a=t[n];if(ut.isText(r)||!r.children[a])return!1;r=r.children[a]}return!0},isNode(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return ut.isText(e)||En.isElement(e,{deep:t})||dr.isEditor(e,{deep:t})},isNodeList(e){var{deep:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Array.isArray(e)&&e.every(r=>Be.isNode(r,{deep:t}))},last(e,t){for(var r=t.slice(),n=Be.get(e,r);n&&!(ut.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],r.push(a)}return[n,r]},leaf(e,t){var r=Be.get(e,t);if(!ut.isText(r))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(ar.stringify(r)));return r},levels(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of ee.levels(t,r)){var a=Be.get(e,n);yield[a,n]}}()},matches(e,t){return En.isElement(e)&&En.isElementProps(t)&&En.matches(e,t)||ut.isText(e)&&ut.isTextProps(t)&&ut.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=t,{from:a=[],to:s}=t,i=new Set,o=[],u=e;!(s&&(n?ee.isBefore(o,s):ee.isAfter(o,s)));){if(i.has(u)||(yield[u,o]),!i.has(u)&&!ut.isText(u)&&u.children.length!==0&&(r==null||r([u,o])===!1)){i.add(u);var c=n?u.children.length-1:0;ee.isAncestor(o,a)&&(c=a[o.length]),o=o.concat(c),u=Be.get(e,o);continue}if(o.length===0)break;if(!n){var l=ee.next(o);if(Be.has(e,l)){o=l,u=Be.get(e,o);continue}}if(n&&o[o.length-1]!==0){var f=ee.previous(o);o=f,u=Be.get(e,o);continue}o=ee.parent(o),u=Be.get(e,o),i.add(u)}}()},parent(e,t){var r=ee.parent(t),n=Be.get(e,r);if(ut.isText(n))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return n},string(e){return ut.isText(e)?e.text:e.children.map(Be.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of Be.nodes(e,t))ut.isText(r)&&(yield[r,n])}()}};function wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wx(Object(r),!0).forEach(function(n){Fa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ka={isNodeOperation(e){return Ka.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!Ot(e))return!1;switch(e.type){case"insert_node":return ee.isPath(e.path)&&Be.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ee.isPath(e.path);case"merge_node":return typeof e.position=="number"&&ee.isPath(e.path)&&Ot(e.properties);case"move_node":return ee.isPath(e.path)&&ee.isPath(e.newPath);case"remove_node":return ee.isPath(e.path)&&Be.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&ee.isPath(e.path);case"set_node":return ee.isPath(e.path)&&Ot(e.properties)&&Ot(e.newProperties);case"set_selection":return e.properties===null&&$e.isRange(e.newProperties)||e.newProperties===null&&$e.isRange(e.properties)||Ot(e.properties)&&Ot(e.newProperties);case"split_node":return ee.isPath(e.path)&&typeof e.position=="number"&&Ot(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Ka.isOperation(t))},isSelectionOperation(e){return Ka.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Ka.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return it(it({},e),{},{type:"remove_node"});case"insert_text":return it(it({},e),{},{type:"remove_text"});case"merge_node":return it(it({},e),{},{type:"split_node",path:ee.previous(e.path)});case"move_node":{var{newPath:t,path:r}=e;if(ee.equals(t,r))return e;if(ee.isSibling(r,t))return it(it({},e),{},{path:t,newPath:r});var n=ee.transform(r,e),a=ee.transform(ee.next(r),e);return it(it({},e),{},{path:n,newPath:a})}case"remove_node":return it(it({},e),{},{type:"insert_node"});case"remove_text":return it(it({},e),{},{type:"insert_text"});case"set_node":{var{properties:s,newProperties:i}=e;return it(it({},e),{},{properties:i,newProperties:s})}case"set_selection":{var{properties:o,newProperties:u}=e;return o==null?it(it({},e),{},{properties:u,newProperties:null}):u==null?it(it({},e),{},{properties:null,newProperties:o}):it(it({},e),{},{properties:u,newProperties:o})}case"split_node":return it(it({},e),{},{type:"merge_node",path:ee.next(e.path)})}}},pM=function(t){var{deep:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ot(t))return!1;var n=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||Ot(t.marks))&&(t.selection===null||$e.isRange(t.selection))&&(!r||Be.isNodeList(t.children))&&Ka.isOperationList(t.operations);return n},dr={above(e,t){return e.above(t)},addMark(e,t,r){e.addMark(t,r)},after(e,t,r){return e.after(t,r)},before(e,t,r){return e.before(t,r)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteBackward(r)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=t;e.deleteForward(r)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,r){e.insertFragment(t,r)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,r){return e.isEdge(t,r)},isEditor(e){return pM(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,r){return e.isEnd(t,r)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,r){return e.isStart(t,r)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,r){return e.leaf(t,r)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,r){return e.node(t,r)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,r){return e.parent(t,r)},path(e,t,r){return e.path(t,r)},pathRef(e,t,r){return e.pathRef(t,r)},pathRefs(e){return e.pathRefs()},point(e,t,r){return e.point(t,r)},pointRef(e,t,r){return e.pointRef(t,r)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,r){return e.range(t,r)},rangeRef(e,t,r){return e.rangeRef(t,r)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,r){return e.string(t,r)},unhangRange(e,t,r){return e.unhangRange(t,r)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)},shouldMergeNodesRemovePrevNode:(e,t,r)=>e.shouldMergeNodesRemovePrevNode(t,r)};function Ex(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ex(Object(r),!0).forEach(function(n){Fa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ex(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var yt={compare(e,t){var r=ee.compare(e.path,t.path);return r===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:r},isAfter(e,t){return yt.compare(e,t)===1},isBefore(e,t){return yt.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&ee.equals(e.path,t.path)},isPoint(e){return Ot(e)&&typeof e.offset=="number"&&ee.isPath(e.path)},transform(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e===null)return null;var{affinity:n="forward"}=r,{path:a,offset:s}=e;switch(t.type){case"insert_node":case"move_node":{a=ee.transform(a,t,r);break}case"insert_text":{ee.equals(t.path,a)&&(t.offset<s||t.offset===s&&n==="forward")&&(s+=t.text.length);break}case"merge_node":{ee.equals(t.path,a)&&(s+=t.position),a=ee.transform(a,t,r);break}case"remove_text":{ee.equals(t.path,a)&&t.offset<=s&&(s-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(ee.equals(t.path,a)||ee.isAncestor(t.path,a))return null;a=ee.transform(a,t,r);break}case"split_node":{if(ee.equals(t.path,a)){if(t.position===s&&n==null)return null;(t.position<s||t.position===s&&n==="forward")&&(s-=t.position,a=ee.transform(a,t,Dx(Dx({},r),{},{affinity:"forward"})))}else a=ee.transform(a,t,r);break}default:return e}return{path:a,offset:s}}},Cx=void 0,ar={setScrubber(e){Cx=e},stringify(e){return JSON.stringify(e,Cx)}},hM=["text"],vM=["anchor","focus","merge"];function Px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Px(Object(r),!0).forEach(function(n){Fa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ut={equals(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function a(s){var i=Rs(s,hM);return i}return uD(n?a(e):e,n?a(t):t)},isText(e){return Ot(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>ut.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var r in t)if(r!=="text"&&(!e.hasOwnProperty(r)||e[r]!==t[r]))return!1;return!0},decorations(e,t){var r=[{leaf:_r({},e)}];for(var n of t){var{anchor:a,focus:s,merge:i}=n,o=Rs(n,vM),[u,c]=$e.edges(n),l=[],f=0,d=u.offset,v=c.offset,h=i??Object.assign;for(var{leaf:g}of r){var{length:x}=g.text,y=f;if(f+=x,d<=y&&f<=v){h(g,o),l.push({leaf:g});continue}if(d!==v&&(d===f||v===y)||d>f||v<y||v===y&&y!==0){l.push({leaf:g});continue}var p=g,w=void 0,C=void 0;if(v<f){var P=v-y;C={leaf:_r(_r({},p),{},{text:p.text.slice(P)})},p=_r(_r({},p),{},{text:p.text.slice(0,P)})}if(d>y){var _=d-y;w={leaf:_r(_r({},p),{},{text:p.text.slice(0,_)})},p=_r(_r({},p),{},{text:p.text.slice(_)})}h(p,o),w&&l.push(w),l.push({leaf:p}),C&&l.push(C)}r=l}if(r.length>1){var R=0;for(var[E,A]of r.entries()){var S=R,B=S+A.leaf.text.length,k={start:S,end:B};E===0&&(k.isFirst=!0),E===r.length-1&&(k.isLast=!0),A.position=k,R=B}}return r}},mM=e=>e.selection?e.selection:e.children.length>0?dr.end(e,[]):[0],Ze;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(Ze||(Ze={}));Ze.L,Ze.L|Ze.V|Ze.LV|Ze.LVT,Ze.LV|Ze.V,Ze.V|Ze.T,Ze.LVT|Ze.T,Ze.T,Ze.Any,Ze.Extend|Ze.ZWJ,Ze.Any,Ze.SpacingMark,Ze.Prepend,Ze.Any,Ze.ZWJ,Ze.ExtPict,Ze.RI,Ze.RI;var gM={delete(e,t){e.delete(t)},insertFragment(e,t,r){e.insertFragment(t,r)},insertText(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};dr.withoutNormalizing(e,()=>{var{voids:n=!1}=r,{at:a=mM(e)}=r;if(ee.isPath(a)&&(a=dr.range(e,a)),$e.isRange(a))if($e.isCollapsed(a))a=a.anchor;else{var s=$e.end(a);if(!n&&dr.void(e,{at:s}))return;var i=$e.start(a),o=dr.pointRef(e,i),u=dr.pointRef(e,s);Ax.delete(e,{at:a,voids:n});var c=o.unref(),l=u.unref();a=c||l,Ax.setSelection(e,{anchor:a,focus:a})}if(!(!n&&dr.void(e,{at:a})||dr.elementReadOnly(e,{at:a}))){var{path:f,offset:d}=a;t.length>0&&e.apply({type:"insert_text",path:f,offset:d,text:t})}})}};function Ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ox(Object(r),!0).forEach(function(n){Fa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ox(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Ax=pi(pi(pi(pi({},sM),iM),oM),gM),hi=e=>{if(!e.api.isCollapsed())return null;const t=e.selection.anchor,r=e.api.range(t.path);if(!r)return null;const n=e.api.isStart(t,r)?"start":e.api.isEnd(t,r)?"end":null;if(!n)return null;const a=ge.parent(e,t.path)??null,s=(()=>{if(!a||!ve.isElement(a))return!1;const l=an(e,a.type)?.rules.selection?.affinity;return l==="hard"||l==="directional"})(),i=s?[a,fe.parent(t.path)]:[ge.get(e,t.path),t.path];if(n==="start"&&t.path.at(-1)===0&&!s)return[null,i];const o=n==="end"?ee.next(i[1]):ee.previous(i[1]),u=ge.get(e,o),c=u?[u,o]:null;return n==="end"?[i,c]:[c,i]},yM=(e,t)=>{const{marks:r,selection:n}=e;if(!n)return;const a=c=>r&&SE(ge.extractProps(c),r)&&Object.keys(r).length>1,[s,i]=t;if(!s||!i){const c=s||i;return!r||a(c[0])?c===s?"backward":"forward":void 0}const o=r&&(s&&a(s[0])?"backward":i&&a(i[0])?"forward":null),u=n.anchor.offset===0?"forward":"backward";return u==="backward"&&o==="forward"||Jr&&u==="forward"&&o!=="backward"?"forward":"backward"},Sx=(e,t,r)=>{const n=Object.keys(ge.extractProps(t));return(ve.isElement(t)?[t.type]:n).some(s=>an(e,s)?.rules.selection?.affinity===r)},Tf=(e,t,r)=>{const[n,a]=t;return n&&Sx(e,n[0],r)||a&&Sx(e,a[0],r)},_f=(e,t,r)=>{const n=u=>{e.marks=u,e.api.onChange()},a=u=>{e.tf.setSelection({anchor:u,focus:u})},[s,i]=t;if(r==="backward"){if(s===null){n({});return}const u=e.api.end(s[1]);if(u&&a(u),ve.isElement(s[0]))return;n(null);return}if(s===null){n(null);return}if(i===null){n({});return}const o=e.api.end(s[1]);a(o),!ve.isElement(i[0])&&n(ge.extractProps(i[0]))},bM=Ks({key:"affinity"}).overrideEditor(({editor:e,tf:{deleteBackward:t,insertText:r,move:n}})=>({transforms:{deleteBackward:a=>{(()=>{if(a==="character"&&e.api.isCollapsed()){const[i]=hi(e)??[null],o=i&&(Ge.isText(i[0])?i[0].text:ge.string(i[0]));t(a);const u=hi(e);if(u&&Tf(e,u,"directional")&&!Bx(u)){const c=o&&o.length>1?"backward":"forward";_f(e,u,c)}return!0}})()||t(a)},insertText(a,s){return(()=>{if(!e.selection||e.api.isExpanded())return;const o=e.selection.focus.path,u=ge.get(e,o);if(!u)return;const l=Object.keys(ge.extractProps(u)).filter(h=>an(e,h)?.rules.selection?.affinity==="outward");if(!l.length||!e.api.isEnd(e.selection.focus,o))return;const f=e.api.start(o,{next:!0}),d=[];let v=null;if(f){const h=f.path;v=ge.get(e,h)||null}for(const h of l){if(!u[h])continue;v?.[h]||d.push(h)}d.length>0&&e.tf.removeMarks(d)})(),r(a,s)},move:a=>{(()=>{const{distance:i=1,reverse:o=!1,unit:u="character"}=a||{};if(u==="character"&&i===1&&e.api.isCollapsed()){const c=hi(e);if(c&&Tf(e,c,"hard"))return c&&c[o?0:1]===null&&yM(e,c)===(o?"forward":"backward")?(_f(e,c,o?"backward":"forward"),!0):(n({...a,unit:"offset"}),!0);n(a);const l=hi(e);return l&&Tf(e,l,"directional")&&!Bx(l)&&_f(e,l,o?"forward":"backward"),!0}})()||n(a)}}})),Bx=e=>{const[t,r]=e;return t&&ve.isElement(t[0])||r&&ve.isElement(r[0])},xM=Ks({key:"debug",options:{isProduction:!0,logger:{error:(e,t,r)=>console.error(`${t?`[${t}] `:""}${e}`,r),info:(e,t,r)=>console.info(`${t?`[${t}] `:""}${e}`,r),log:(e,t,r)=>console.log(`${t?`[${t}] `:""}${e}`,r),warn:(e,t,r)=>console.warn(`${t?`[${t}] `:""}${e}`,r)},logLevel:"error",throwErrors:!0}}).extendEditorApi(({getOptions:e})=>{const t=(r,n,a,s)=>{};return{debug:{error:(r,n,a)=>t(),info:(r,n,a)=>t(),log:(r,n,a)=>t(),warn:(r,n,a)=>t()}}}),wM=(e,t,r)=>{const n=e.getOptions(ns),a=Ai.get(e)??!1;if(r){const s={...n,...FE(r,BE)};e.setOptions(ns,s)}Ai.set(e,!0),t(),Ai.set(e,a),e.setOptions(ns,n)},Ai=new WeakMap,ns=Ks({key:"dom",options:{scrollMode:"last",scrollOperations:{insert_node:!0,insert_text:!0},scrollOptions:{scrollMode:"if-needed"}}}).extendEditorApi(({editor:e})=>({isScrolling:()=>Ai.get(e)??!1})).extendEditorTransforms(({editor:e})=>({withScrolling:V(wM,e)})).overrideEditor(({api:e,editor:t,getOption:r,tf:{apply:n}})=>({transforms:{apply(a){if(e.isScrolling()){n(a);const s=r("scrollOperations");if(!s[a.type])return;const i=t.operations.filter(v=>!!s[v.type]);if(i.length===0)return;const u=r("scrollMode")==="first"?i[0]:i.at(-1);if(!u)return;const{offset:c,path:l}=u.path?u:{};if(!l)return;const f=r("scrollOptions"),d={offset:c??0,path:l};e.scrollIntoView(d,f);return}return n(a)}}})).overrideEditor(({editor:e,tf:{apply:t}})=>({transforms:{apply(r){if(r.type==="set_selection"){const{properties:n}=r;e.dom.prevSelection=n,t(r),e.dom.currentKeyboardEvent=null;return}t(r)}}})),Go=e=>e.nodeType===Node.ELEMENT_NODE,cD=e=>e.nodeType===Node.TEXT_NODE,EM=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","math","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","svg","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR"]),ih=e=>{if(!Go(e))return!1;const t=e,r=EM.has(t.tagName),n=t.style.display.split(" ")[0];return n===""?r:n.startsWith("inline")?!0:n==="inherit"&&t.parentElement?ih(t.parentElement):["contents","initial","none","revert","revert-layer","unset"].includes(n)?r:!1},kx=e=>Go(e)?!ih(e):!1,DM=(e,{shouldCollapseWhiteSpace:t=!0,trimEnd:r="collapse",trimStart:n="collapse",whiteSpaceIncludesNewlines:a=!0}={})=>(n==="all"&&(e=e.replace(/^\s+/,"")),r==="single-newline"&&(e=e.replace(/\n$/,"")),t&&(a?e=e.replaceAll(/\s+/g," "):(e=e.replaceAll(/[^\S\n\r]+/g," "),e=e.replaceAll(/^[^\S\n\r]+/gm,""),e=e.replaceAll(/[^\S\n\r]+$/gm,""))),e),CM=e=>{let t=e;for(;;){if(t.nextSibling)t=t.nextSibling;else{if(t=t.parentElement,t&&kx(t))return!0;t=t?.nextSibling||null}if(!t||kx(t))return!0;if((t.textContent||"").length>0)return!1}},PM=e=>{e.inlineFormattingContext?e.inlineFormattingContext.atStart=!1:e.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1}},Fx=e=>{e.inlineFormattingContext=null},OM=(e,t)=>{const r=e.textContent||"",n=r.trim()==="";(t.inlineFormattingContext||!n)&&PM(t);const{whiteSpaceRule:a}=t,s=a!=="normal"?"collapse":!t.inlineFormattingContext||t.inlineFormattingContext.atStart||t.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse",i=a==="normal"?"collapse":CM(e)?"single-newline":"collapse",o={normal:!0,pre:!1,"pre-line":!0}[a],c=DM(r||"",{shouldCollapseWhiteSpace:o,trimEnd:i,trimStart:s,whiteSpaceIncludesNewlines:a!=="pre-line"});t.inlineFormattingContext&&o&&(t.inlineFormattingContext.lastHasTrailingWhiteSpace=c.endsWith(" ")),e.textContent=c},AM=(e,t)=>{if(Go(e)){fD(e,t);return}if(cD(e)){OM(e,t);return}lD(e,t)},lD=(e,t)=>{const r=Array.from(e.childNodes);for(const n of r)AM(n,t)},SM=e=>{const t=e.style.whiteSpace;switch(t){case"break-spaces":case"pre":case"pre-wrap":return"pre";case"normal":case"nowrap":return"normal";case"pre-line":return"pre-line"}return e.tagName==="PRE"?"pre":t==="initial"?"normal":null},fD=(e,t)=>{const r=ih(e),n=t.whiteSpaceRule,a=SM(e);a&&(t.whiteSpaceRule=a),r||Fx(t),lD(e,t),r||Fx(t),t.whiteSpaceRule=n},BM=e=>{const t=e.cloneNode(!0);return fD(t,{inlineFormattingContext:null,whiteSpaceRule:"normal"}),t},Yo=(e,t,r=!1)=>Array.from(t.childNodes).flatMap(n=>n.nodeType===1&&!so(n)&&r?Yo(e,n,r):pD(e)(n)),kM=(e,t)=>{if(t.nodeName==="BODY")return Oa("fragment",{},Yo(e,t))},FM=e=>{if(e.nodeName==="BR")return`
`},TM=({element:e,type:t})=>{if(!M$(e,t)&&!tD(e))return;const r={};if(Object.entries(e.dataset).forEach(([n,a])=>{if(n.startsWith("slate")&&a&&!["slateInline","slateLeaf","slateNode","slateVoid"].includes(n)){const s=n.slice(5).charAt(0).toLowerCase()+n.slice(6);if(a===void 0)return;let i=a;a==="true"?i=!0:a==="false"?i=!1:Number.isNaN(Number(a))||(i=Number(a)),r[s]=i}}),Object.keys(r).length>0)return r},_M=({editor:e,element:t,plugin:r})=>{const n=r.parsers.html?.deserializer?.toNodeProps,s=r.parsers.html?.deserializer?.disableDefaultNodeProps??!1?{}:TM({...vt(e,r),element:t});if(!n)return s;const i=n({...vt(e,r),element:t})??{};return{...s,...i}},NM=e=>{let t=e.parsers?.html?.deserializer;const r=t?.rules??[],a=r.some(s=>s.validClassName?.includes(`slate-${e.key}`))?r:[{validClassName:`slate-${e.key}`,validNodeName:"*"},...r];return t||(t={rules:a}),t.rules=a,t},dD=(e,t,{deserializeLeaf:r,element:n})=>{const{node:{isElement:a,isLeaf:s}}=t,i=NM(t);if(!i)return;const{attributeNames:o,isElement:u,isLeaf:c,query:l,rules:f}=i;let{parse:d}=i;const v=u||a,h=c||s;if(!r&&!v||r&&!h||f&&!f.some(({validAttribute:C,validClassName:P,validNodeName:_="*",validStyle:R})=>{if(_){const E=Lt(_);if(E.length>0&&!E.includes(n.nodeName)&&_!=="*")return!1}if(P&&!n.classList.contains(P))return!1;if(R)for(const[E,A]of Object.entries(R)){if(!Lt(A).includes(n.style[E])&&A!=="*"||A==="*"&&!n.style[E])return;const B=t.inject.nodeProps?.defaultNodeValue;if(B&&B===n.style[E])return!1}if(C)if(typeof C=="string"){if(!n.getAttributeNames().includes(C))return!1}else for(const[E,A]of Object.entries(C)){const S=Lt(A),B=n.getAttribute(E);if(!Ve(B)||!S.includes(B))return!1}return!0})||l&&!l({...vt(e,t),element:n}))return;if(!d)if(v)d=({type:w})=>({type:w});else if(h)d=({type:w})=>({[w]:!0});else return;const g=so(n)?{}:d({...vt(e,t),element:n,node:{}})??{},x=_M({editor:e,element:n,plugin:t});let y={...g,...x};if(Object.keys(y).length===0)return;if(Q1(e,t).forEach(w=>{const C=w.parsers?.html?.deserializer?.parse?.({...vt(e,t),element:n,node:y});C&&!so(n)&&(y={...y,...C})}),o){const w={},C=n.getAttributeNames();for(const P of C)o.includes(P)&&(w[P]=n.getAttribute(P));Object.keys(w).length>0&&(y.attributes=w)}return{...i,node:y}},RM=(e,t)=>{let r;return[...e.meta.pluginList].reverse().some(n=>(r=dD(e,n,{element:t}),!!r)),r},jM=(e,t,r=!1)=>{const n=RM(e,t);if(n){const{node:a,withoutChildren:s}=n;let i=a.children??Yo(e,t,r);return(i.length===0||s||eD(t))&&(i=[{text:""}]),Oa("element",a,i)}},IM=(e,t)=>{let r={};return[...e.meta.pluginList].reverse().forEach(n=>{const a=dD(e,n,{deserializeLeaf:!0,element:t});a&&(r={...r,...a.node})}),r},$M=(e,t)=>{const r=IM(e,t);return Yo(e,t).reduce((n,a)=>{if(!a)return n;if(ve.isElement(a))Object.keys(r).length>0&&V$({node:a,query:{filter:([s])=>Ge.isText(s)},source:r}),n.push(a);else{const s={...r};Ge.isText(a)&&a.text&&Object.keys(s).forEach(i=>{s[i]&&a[i]&&(s[i]=a[i])}),n.push(Oa("text",s,a))}return n},[])},MM=e=>{if(cD(e))return e.parentElement?.dataset.platePreventDeserialization?"":e.textContent||""},pD=e=>t=>{const r=MM(t);if(r)return r;if(!Go(t))return null;const n=FM(t);if(n)return n;const a=kM(e,t);if(a)return a;const s=jM(e,t,so(t));return s||$M(e,t)},LM=(e,t)=>pD(e)(t),zM=e=>{const t=document.createElement("body");return t.innerHTML=e,t},qM=(e,{collapseWhiteSpace:t=!0,defaultElementPlugin:r,element:n})=>{typeof n=="string"&&(n=zM(n)),t&&(n=BM(n));const a=LM(e,n);return n3(e,{defaultElementPlugin:r,descendants:a})},UM=e=>new DOMParser().parseFromString(e,"text/html"),WM=ct({key:"html"}).extendApi(({editor:e})=>({deserialize:V(qM,e)})).extend({parser:{format:"text/html",deserialize:({api:e,data:t})=>{const r=UM(t);return e.html.deserialize({element:r.body})}}}),Tx=Ks({key:"length"}).overrideEditor(({editor:e,getOptions:t,tf:{apply:r}})=>({transforms:{apply(n){e.tf.withoutNormalizing(()=>{r(n);const a=t();if(a.maxLength){const s=e.api.string([]).length;if(s>a.maxLength){const i=s-a.maxLength;e.tf.delete({distance:i,reverse:!0,unit:"character"})}}})}}})),VM=({editor:e,getOptions:t,tf:{apply:r,insertNode:n,insertNodes:a}})=>{const s=()=>({[t().idKey??""]:t().idCreator()}),i=c=>{const{filter:l,filterText:f}=t();return l(c)&&(!f||c[0]?.type!==void 0)},o=c=>{const{idKey:l="",reuseId:f}=t();!f&&e.api.some({at:[],match:{[l]:c[l]}})&&delete c[l]},u=c=>{const{idKey:l=""}=t();if(Ve(c._id)){const f=c._id;delete c._id,e.api.some({at:[],match:{[l]:f}})||(c[l]=f)}};return{transforms:{apply(c){const{allow:l,disableInsertOverrides:f,exclude:d,idCreator:v,idKey:h="",reuseId:g}=t(),x={allow:l,exclude:d,filter:i};if(c.type==="insert_node"){const y=oa(c.node);return ks({apply:o,node:y,query:x,source:{}}),S$({node:y,path:c.path,query:x,source:s}),f||ks({apply:u,node:y,query:x,source:{}}),r({...c,node:y})}if(c.type==="split_node"){const y=c.properties;let p=c.properties[h];if(un([y,c.path],x))return(!g||p===void 0||e.api.some({at:[],match:{[h]:p}}))&&(p=v()),r({...c,properties:{...c.properties,[h]:p}});p&&delete c.properties[h]}return r(c)},insertNode(c){const{disableInsertOverrides:l,idKey:f=""}=t();!l&&c[f]&&(Object.isExtensible(c)||(c=oa(c)),c._id=c[f]),n(c)},insertNodes(c,l){const f=Lt(c).filter(h=>!!h);if(f.length===0)return;const{disableInsertOverrides:d,idKey:v=""}=t();a(f.map(h=>(!d&&h[v]&&(Object.isExtensible(h)||(h=oa(h)),h._id=h[v]),h)),l)}}}},HM=Ks({key:"nodeId",options:{filterInline:!0,filterText:!0,idKey:"id",normalizeInitialValue:!1,filter:()=>!0,idCreator:()=>_n(10)},normalizeInitialValue:({editor:e,getOptions:t})=>{const{allow:r,exclude:n,filter:a,filterInline:s,filterText:i,idKey:o,normalizeInitialValue:u}=t();if(!u){const l=e.children[0],f=e.children.at(-1);if(l?.id&&f?.id)return}const c=l=>{const[f,d]=l;if(!f[o]&&un([f,d],{allow:r,exclude:n,filter:v=>{const[h]=v;return i&&!ve.isElement(h)||s&&ve.isElement(h)&&!e.api.isBlock(h)?!1:a(v)}})){if(!e.api.node(d))return;e.tf.withoutSaving(()=>{e.tf.setNodes({[o]:t().idCreator()},{at:d})})}ve.isElement(f)&&f.children.forEach((v,h)=>{c([v,[...d,h]])})};e.children.forEach((l,f)=>{c([l,[f]])})}}).overrideEditor(VM),KM=e=>{e.meta.pluginCache.normalizeInitialValue.forEach(t=>{const r=e.getPlugin({key:t});qt(e.dom.readOnly,r,"normalizeInitialValue")||r.normalizeInitialValue?.({...vt(e,r),value:e.children})})},GM=async(e,{autoSelect:t,selection:r,shouldNormalizeEditor:n,value:a})=>{if(a!==null&&(typeof a=="string"?e.children=e.api.html.deserialize({element:a}):typeof a=="function"?e.children=await a(e):a&&(e.children=a),(!e.children||e.children?.length===0)&&(e.children=e.api.create.value())),r)e.selection=r;else if(t){const i=(t==="start"?"start":"end")==="start"?e.api.start([]):e.api.end([]);e.tf.select(i)}e.children.length>0&&KM(e),n&&e.tf.normalize({force:!0})},YM=(e,{match:t,reverse:r}={})=>{if(!e.selection||!e.api.isCollapsed())return;const n=e.api.block();if(!n)return;const s=e.api.above({at:n[1],match:Lw(e,(o,u)=>u.length===1||u.length>1&&!!o.type&&!i$(e,e.meta.pluginCache.node.isStrictSiblings).includes(o.type),{match:t})})?.[1]??n[1],i=r?s:fe.next(s);if(i)return e.tf.insertNodes(e.api.create.block(),{at:i,select:!0}),!0},JM=(e,{at:t}={})=>{const r=e.api.block({at:t});if(!r?.[0])return;const[n,a]=r;return e.tf.withoutNormalizing(()=>{const{id:s,type:i,...o}=ge.extractProps(n);Object.keys(o).forEach(c=>{e.tf.unsetNodes(c,{at:a})});const u=e.getType(Gs.key);n.type!==u&&e.tf.setNodes({type:u},{at:a})}),!0},ZM=(e,t)=>{let r=t;typeof t=="string"?r=e.api.html.deserialize({element:t}):(!t||t.length===0)&&(r=e.api.create.value()),e.tf.replaceNodes(r,{at:[],children:!0})},hD=ct({key:"slateExtension"}).extendEditorTransforms(({editor:e})=>({init:V(GM,e),insertExitBreak:V(YM,e),resetBlock:V(JM,e),setValue:V(ZM,e)})),XM=e=>t=>Ge.isText(t)||ve.isElement(t)&&e.api.isInline(t),QM=e=>()=>({children:[],type:e}),e3=(e,t)=>e.some((r,n,a)=>{const s=a[n-1];return n!==0?t(r)!==t(s):!1}),t3=(e,t,r)=>{const n=e3(e,t),{fragment:a}=e.reduce((s,i)=>{if(n&&t(i)){let o=s.precedingBlock;o||(o=r(),s.precedingBlock=o,s.fragment.push(o)),o.children.push(i)}else s.fragment.push(i),s.precedingBlock=null;return s},{fragment:[],precedingBlock:null});return a},r3=e=>e.length===0?[{text:""}]:e,vD=(e,t,r)=>(e=r3(e),e=t3(e,t,r),e=e.map(n=>ve.isElement(n)?{...n,children:vD(n.children,t,r)}:n),e),n3=(e,{defaultElementPlugin:t=Gs,descendants:r})=>{const n=XM(e),a=e.getType(t.key),s=QM(a);return vD(r,n,s)},a3=(e,t,{data:r,dataTransfer:n})=>t.every(a=>{const s=a.parser?.query;return!s||s({...vt(e,a),data:r,dataTransfer:n})}),s3=ct({key:"parser"}).overrideEditor(({editor:e,tf:{insertData:t}})=>({transforms:{insertData(r){[...e.meta.pluginList].reverse().some(a=>{const s=a.parser;if(!s)return!1;const i=Q1(e,a),{deserialize:o,format:u,mimeTypes:c}=s;if(!u)return!1;const l=Array.isArray(u)?u:[u],f=c||l.map(d=>d.includes("/")?d:`text/${d}`);for(const d of f){let v=r.getData(d);if(!v||!a3(e,i,{data:v,dataTransfer:r}))continue;v=O$(e,i,{data:v,dataTransfer:r});let h=o?.({...vt(e,a),data:v,dataTransfer:r});if(h?.length&&(h=A$(e,i,{data:v,dataTransfer:r,fragment:h}),h.length!==0))return P$(e,i,{data:v,dataTransfer:r,fragment:h}),!0}return!1})||t(r)}}})),i3=({affinity:e,maxLength:t,nodeId:r,plugins:n=[]})=>{let a=r,s=[xM,hD,ns,y$,C$,s3,t?Tx.configure({options:{maxLength:t}}):Tx,WM,m$,HM.configure({enabled:a!==!1,options:a===!1?void 0:a}),bM.configure({enabled:e}),Gs];const i=new Map(n.map(o=>[o.key,o]));return s=s.map(o=>{const u=i.get(o.key);if(u){const c=n.findIndex(l=>l.key===o.key);return c!==-1&&n.splice(c,1),u}return o}),s},o3=(e,{id:t,affinity:r=!0,autoSelect:n,maxLength:a,nodeId:s,plugins:i=[],readOnly:o=!1,rootPlugin:u,selection:c,shouldNormalizeEditor:l,skipInitialization:f,value:d,...v}={})=>{const h=e;h.id=t??h.id??_n(),h.meta.key=h.meta.key??_n(),h.meta.isFallback=!1,h.dom={composing:!1,currentKeyboardEvent:null,focused:!1,prevSelection:null,readOnly:o},h.getApi=()=>h.api,h.getTransforms=()=>h.transforms,h.getPlugin=p=>a$(h,p),h.getType=p=>s$(h,p),h.getInjectProps=p=>{const w=h.getPlugin(p).inject?.nodeProps??{};return w.nodeKey=w.nodeKey??h.getType(p.key),w.styleKey=w.styleKey??w.nodeKey,w},h.getOptionsStore=p=>h.getPlugin(p).optionsStore,h.getOptions=p=>h.getOptionsStore(p)?h.getOptionsStore(p).get("state"):h.getPlugin(p).options,h.getOption=(p,w,...C)=>{const P=h.getOptionsStore(p);if(!P)return h.getPlugin(p).options[w];if(!(w in P.get("state"))&&!(w in P.selectors)){h.api.debug.error(`editor.getOption: ${w} option is not defined in plugin ${p.key}.`,"OPTION_UNDEFINED");return}return P.get(w,...C)},h.setOption=(p,w,...C)=>{const P=h.getOptionsStore(p);if(P){if(!(w in P.get("state"))){h.api.debug.error(`editor.setOption: ${w} option is not defined in plugin ${p.key}.`,"OPTION_UNDEFINED");return}P.set(w,...C)}},h.setOptions=(p,w)=>{const C=h.getOptionsStore(p);C&&(typeof w=="object"?C.set("state",P=>{Object.assign(P,w)}):typeof w=="function"&&C.set("state",w))};const g=i3({affinity:r,maxLength:a,nodeId:s,plugins:i});let x=ct({key:"root",priority:1e4,...v,override:{...v.override,components:{...v.components,...v.override?.components}},plugins:[...g,...i]});u&&(x=u(x)),u$(h,[x]);const y=h.tf.normalizeNode;return h.tf.normalizeNode=(...p)=>{if(h.api.shouldNormalizeNode(p[0]))return y(...p)},h.normalizeNode=h.tf.normalizeNode,f||h.tf.init({autoSelect:n,selection:c,shouldNormalizeEditor:l,value:d}),h},u3=["configure","configurePlugin","extendEditorApi","extendSelectors","extendApi","extendEditorTransforms","extendTransforms","overrideEditor","extend","extendPlugin"];function Fe(e,t){const r={...e};return u3.forEach(a=>{const s=r[a];r[a]=(...i)=>{const o=s(...i);return Fe(o)}}),t?r.extend(t):r}function mD(e,t){return Fe(e,t)}var Jo=(e={})=>{const t=ct(e);return Fe(t)};function c3(e={}){return Jo(e)}function Ys(e,t){return vt(e,t)}function oh(e,t){return e.plugins[t.key]??Jo({key:t.key})}var l3=Fe(hD,{handlers:{onKeyDown:({editor:e,event:t})=>{t.persist(),e.dom.currentKeyboardEvent=t,dn.isMoveUpward(t)?e.tf.moveLine({reverse:!0})&&(t.preventDefault(),t.stopPropagation()):dn.isMoveDownward(t)?e.tf.moveLine({reverse:!1})&&(t.preventDefault(),t.stopPropagation()):dn.isTab(e,t)||dn.isUntab(e,t)?e.tf.tab({reverse:dn.isUntab(e,t)})&&(t.preventDefault(),t.stopPropagation()):dn.isSelectAll(t)?e.tf.selectAll()&&(t.preventDefault(),t.stopPropagation()):dn.isEscape(t)&&e.tf.escape()&&(t.preventDefault(),t.stopPropagation())}}}).extendEditorApi(({editor:e})=>({redecorate:()=>{e.api.debug.warn("The method editor.api.redecorate() has not been overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.","OVERRIDE_MISSING")}})).extendEditorTransforms(({editor:e,tf:{reset:t}})=>({reset(r){const n=e.api.isFocused();t(r),n&&e.tf.focus({edge:"startEditor"})}})).overrideEditor(({editor:e,tf:{normalizeNode:t}})=>({transforms:{normalizeNode(r,n){if(Ve(r[0]._memo)){e.tf.unsetNodes("_memo",{at:r[1]});return}t(r,n)}}})),Ga=Us({blur:null,focus:null,last:null},{mutative:!0,name:"event-editor"}),{useValue:kq}=Ga,f3="focus-editor-event",d3="blur-editor-event",p3=Jo({key:"eventEditor",handlers:{onBlur:({editor:e})=>{Ga.get("focus")===e.id&&Ga.set("focus",null),Ga.set("blur",e.id),document.dispatchEvent(new CustomEvent(d3,{detail:{id:e.id}}))},onFocus:({editor:e})=>{Ga.set("focus",e.id),document.dispatchEvent(new CustomEvent(f3,{detail:{id:e.id}}))}}}),h3=Fe(Gs,({editor:e,type:t})=>({shortcuts:{toggleParagraph:{keys:[[Pn.Mod,Pn.Alt,"0"],[Pn.Mod,Pn.Shift,"0"]],preventDefault:!0,handler:()=>{e.tf.toggleBlock(t)}}}})),v3=({editor:e})=>Hj(e),m3=Fe(ns,{key:"dom",extendEditor:v3}),g3=()=>[l3,m3,p3,h3],y3=(e,{plugins:t=[],...r}={})=>o3(e,{...r,plugins:[...g3(),...t]}),b3=({editor:e=qw(),...t}={})=>y3(e,t),x3=(e={})=>{const t=b3(e);return t.meta.isFallback=!0,t.apply=()=>{throw new Error("Cannot apply operations on the fallback editor. The fallback editor is used when a hook that depends on the Plate store was unable to locate a valid store. If you are using PlateController, use `useEditorMounted(id?: string)` or `!editor.meta.isFallback` to ensure that a valid Plate store is available before attempting to call operations on the editor.")},t},_x=["onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onDOMBeforeInput","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ta=({attributes:e,editor:t,plugin:r,props:n,readOnly:a})=>{let s={...n,...r?Ys(t,r):{api:t.api,editor:t,tf:t.transforms}};const{className:i}=n,o=L$({attributes:e,plugin:r,props:s});return s={...o,attributes:{...o.attributes,className:Qt(z$(r?.node.type),o.attributes?.className,i)||void 0}},s=N$(t,s,u=>t.api.findPath(u),a),s.attributes?.style&&Object.keys(s.attributes.style).length===0&&delete s.attributes.style,s},w3=e=>{let t=!1;return{...e,bubbles:e.bubbles,cancelable:e.cancelable,currentTarget:e.currentTarget,defaultPrevented:e.defaultPrevented,eventPhase:e.eventPhase,isTrusted:e.isTrusted,nativeEvent:e,target:e.target,timeStamp:e.timeStamp,type:e.type,isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>t,persist:()=>{throw new Error("persist is not implemented for synthetic events created using convertDomEventToSyntheticEvent")},preventDefault:()=>e.preventDefault(),stopPropagation:()=>{t=!0,e.stopPropagation()}}},E3=(e,t)=>{if(!t)return!1;const r=t(e);return r??e.isPropagationStopped()},D3=(e,{editableProps:t,handlerKey:r})=>{const n=t?.[r],a=e.meta.pluginList.filter(s=>s.handlers?.[r]);if(!(a.length===0&&!n))return s=>{const o=s instanceof Event?w3(s):s;return a.some(c=>{if(qt(e.dom.readOnly,c,"handlers"))return!1;const l=c.handlers[r],f=l({...Ys(e,c),event:o});return f??!1})?!0:E3(o,n)}},C3=(e,t)=>e.meta.pluginCache.handlers.onChange.some(r=>{const n=oh(e,{key:r});if(qt(e.dom.readOnly,n,"handlers"))return!1;const a=n.handlers.onChange,s=a({...Ys(e,n),value:t});return s??!1}),uh=(e,t)=>({...e.attributes,className:Qt(e.attributes.className,e.className)||void 0,ref:Jp(t,e.attributes.ref),style:{...e.attributes.style,...e.style}}),gD=F.forwardRef(function({as:t="div",children:r,insetProp:n,...a},s){const i=uh(a,s),o=V3(),u=F.useMemo(()=>o&&!!a.element.id&&!!a.editor.api.isBlock(a.element),[a.element,a.editor,o]),c=n??a.plugin?.rules.selection?.affinity==="directional";return F.createElement(F.Fragment,null,c&&F.createElement(co,null),F.createElement(t,{"data-slate-node":"element","data-slate-inline":i["data-slate-inline"],"data-block-id":u?a.element.id:void 0,...i,style:{position:"relative",...i?.style}},r,c&&F.createElement(co,null)))}),yD=F.forwardRef(({as:e="span",children:t,...r},n)=>{const a=uh(r,n);return F.createElement(e,{...a},t)}),co=()=>F.createElement("span",{style:{fontSize:0},contentEditable:!1},String.fromCodePoint(160)),bD=F.forwardRef(({as:e="span",children:t,inset:r,...n},a)=>{const s=uh(n,a);return r??n.plugin?.rules.selection?.affinity==="hard"?F.createElement(F.Fragment,null,F.createElement(co,null),F.createElement(e,{...s},t,F.createElement(co,null))):F.createElement(e,{...s},t)}),P3=(e,t)=>function(n){const{render:{leaf:a,node:s}}=t,{children:i,leaf:o}=n,u=Ur();if(qt(u,t,"render"))return i;if(o[t.node.type??t.key]){const c=a??s,l=c??bD,f=Ta({attributes:o.attributes,editor:e,plugin:t,props:n,readOnly:u}),d=c?{}:{as:t.render?.as};return F.createElement(l,{...d,...f},i)}return i},O3=(e,t)=>{const r=[],n=[];return e.meta.pluginList.forEach(a=>{a.node.isLeaf&&(a.node.isDecoration===!0||a.render.leaf)&&r.push(P3(e,a)),a.node.leafProps&&n.push(a)}),function({attributes:s,...i}){const o=Ur();if(r.forEach(c=>{const l=c(i);l!==void 0&&(i.children=l)}),n.forEach(c=>{if(i.leaf[c.node.type??c.key]){const l=typeof c.node.leafProps=="function"?c.node.leafProps(i):c.node.leafProps??{};l.className&&(l.className=Qt(i.className,l.className)),s={...s,...l}}}),t)return t({attributes:s,...i});const u=Ta({editor:e,props:{attributes:s,...i},readOnly:o});return F.createElement(bD,{...u},i.children)}},A3=(e,t)=>function(n){const{render:{node:a}}=t,{children:s,text:i}=n,o=Ur();if(qt(o,t,"render"))return s;if(i[t.node.type??t.key]){const u=a??yD,c=Ta({attributes:n.attributes,editor:e,plugin:t,props:n,readOnly:o}),l=a?{}:{as:t.render?.as};return F.createElement(u,{...l,...c},s)}return s},S3=(e,t)=>{const r=[],n=[];return e.meta.pluginList.forEach(a=>{a.node.isLeaf&&a.node.isDecoration===!1&&r.push(A3(e,a)),a.node.textProps&&n.push(a)}),function({attributes:s,...i}){const o=Ur();if(r.forEach(c=>{const l=c(i);l!==void 0&&(i.children=l)}),n.forEach(c=>{if(i.text[c.node.type??c.key]){const l=typeof c.node.textProps=="function"?c.node.textProps(i):c.node.textProps??{};l.className&&(l.className=Qt(i.className,l.className)),s={...s,...l}}}),t)return t({attributes:s,...i});const u=Ta({editor:e,props:{attributes:s,...i},readOnly:o});return F.createElement(yD,{...u},i.children)}},B3=({disabled:e,readOnly:t,...r}={})=>{const{id:n}=r,a=bt(n),s=or(n),i=At(s,"versionDecorate"),o=At(s,"decorate"),u=At(s,"renderLeaf"),c=At(s,"renderElement"),l=At(s,"renderText"),f=F.useMemo(()=>R$(a,o??r?.decorate),[r?.decorate,a,o]),d=F.useMemo(()=>{if(!(!i||!f))return y=>f(y)},[f,i]),v=F.useMemo(()=>M3(a,c??r?.renderElement),[r?.renderElement,a,c]),h=F.useMemo(()=>O3(a,u??r?.renderLeaf),[r?.renderLeaf,a,u]),g=F.useMemo(()=>S3(a,l??r?.renderText),[r?.renderText,a,l]),x=rx(()=>{const y={decorate:d,renderElement:v,renderLeaf:h,renderText:g};return _x.forEach(p=>{const w=D3(a,{editableProps:r,handlerKey:p});w&&(y[p]=w)}),y},[d,r,v,h,g]);return rx(()=>({...f2(r,[..._x,"renderElement","renderLeaf","renderText","decorate"]),...x,"aria-disabled":e,className:Qt("slate-editor","ignore-click-outside/toolbar",r.className),"data-readonly":t?"true":void 0,readOnly:t}),[r,x,t])},k3=e=>{const t=bt();return C2(()=>t.api.findPath(e),[t,e],(r,n)=>!!r&&!!n&&fe.equals(r,n))},F3=({id:e})=>{const t=bt(e),r=or(e),n=At(r,"onChange"),a=At(r,"onValueChange"),s=At(r,"onSelectionChange"),i=Bi("versionEditor",e),o=Bi("versionSelection",e),u=Bi("versionValue",e),c=F.useCallback(d=>{i(),C3(t,d)||n?.({editor:t,value:d})},[t,n,i]),l=F.useMemo(()=>d=>{u(),a?.({editor:t,value:d})},[t,a,u]),f=F.useMemo(()=>d=>{o(),s?.({editor:t,selection:d})},[t,s,o]);return F.useMemo(()=>({key:t.meta.key,editor:t,initialValue:t.children,value:t.children,onChange:c,onSelectionChange:f,onValueChange:l}),[t,c,f,l])},T3=e=>{const t=bt(),r=At(wD(e),"path");if(!r){t.api.debug.warn(`usePath(${e}) hook must be used inside the node component's context`,"USE_ELEMENT_CONTEXT");return}return r},_3="element",N3={element:null,entry:null,path:null},{ElementProvider:xD,elementStore:Fq,useElementStore:wD}=Hs(N3,{effect:R3,name:"element",suppressWarnings:!0});function R3(){const e=T3();return e&&fe.equals(e,[0])?F.createElement(j3,null):null}function j3(){const e=bt(),t=or(),r=Nj(),n=Ur();return e.dom.readOnly=n,e.dom.composing=r,F.useLayoutEffect(()=>{t.set("composing",r)},[r,t]),null}function I3({editor:e,plugin:t,...r}){const n=Xo(),a=Ur();if(qt(a,t,"render"))return null;const{children:s}=r,i=t.key,o=t.render?.node,u=o??gD,c=e.meta.pluginList.flatMap(h=>qt(a,h,"render")?[]:h.render?.aboveNodes??[]),l=e.meta.pluginList.flatMap(h=>qt(a,h,"render")?[]:h.render?.belowNodes??[]);r=Ta({attributes:n.attributes,editor:e,plugin:t,props:r,readOnly:a});let f=s;l.forEach(h=>{const g=h({...r,key:i});g&&(f=g({...r,children:f}))});const d=o?{}:{as:t.render?.as};let v=F.createElement(u,{...d,...r},f,F.createElement(ED,{...d,...r}));return c.forEach(h=>{const g=h({...r,key:i});g&&(v=g({...r,children:v}))}),v}function ED(e){const t=bt(),r=Ur();return F.createElement(F.Fragment,null,t.meta.pluginCache.render.belowRootNodes.map(n=>{const a=t.getPlugin({key:n});if(qt(r,a,"render"))return null;const s=a.render.belowRootNodes;return F.createElement(s,{key:n,...e})}))}var $3=(e,t)=>function(n){const{element:a,path:s}=n;if(a.type===t.node.type)return F.createElement(xD,{element:a,entry:[a,s],path:s,scope:t.key},F.createElement(I3,{editor:e,plugin:t,...n}))},M3=(e,t)=>function(n){let a;const s=Ur(),i=k3(n.element);if(e.meta.pluginCache.node.isElement.some(u=>(a=$3(e,oh(e,{key:u}))({...n,path:i}),!!a)),a)return a;if(t)return t({...n,path:i});const o=Ta({editor:e,props:{...n,path:i},readOnly:s});return F.createElement(xD,{element:o.element,entry:[o.element,i],path:i,scope:o.element.type??"default"},F.createElement(gD,{...o},n.children,F.createElement(ED,{...o})))},{PlateControllerProvider:Tq,plateControllerStore:Si,usePlateControllerStore:L3}=Hs({activeId:xr(null),editorStores:xr({}),primaryEditorIds:xr([])},{name:"plateController"}),as=e=>L3({scope:void 0,warnIfNoStore:!1}),z3=()=>!!as().store,q3=e=>{const t=F.useMemo(()=>xr(r=>{const n=r(Si.atom.editorStores),a=i=>i?n[i]??null:null;if(e)return a(e);const s=[r(Si.atom.activeId),...r(Si.atom.primaryEditorIds)];for(const i of s){const o=a(i);if(o)return o}return null}),[e]);return n2(as(),t)},DD=({id:e,composing:t=!1,containerRef:r={current:null},decorate:n=null,editor:a,isMounted:s=!1,primary:i=!0,readOnly:o=null,renderElement:u=null,renderLeaf:c=null,renderText:l=null,scrollRef:f={current:null},versionDecorate:d=1,versionEditor:v=1,versionSelection:h=1,versionValue:g=1,onChange:x=null,onSelectionChange:y=null,onValueChange:p=null,...w}={})=>Hs({composing:t,containerRef:r,decorate:n,editor:a,isMounted:s,primary:i,readOnly:o,renderElement:u,renderLeaf:c,renderText:l,scrollRef:f,versionDecorate:d,versionEditor:v,versionSelection:h,versionValue:g,onChange:x,onSelectionChange:y,onValueChange:p,...w},{name:"plate",suppressWarnings:!0,extend:C=>({trackedEditor:xr(P=>({editor:P(C.editor),version:P(C.versionEditor)})),trackedSelection:xr(P=>({selection:P(C.editor).selection,version:P(C.versionSelection)})),trackedValue:xr(P=>({value:P(C.editor).children,version:P(C.versionValue)}))})}),{PlateProvider:_q,plateStore:Nq,usePlateSet:Rq,usePlateState:jq,usePlateStore:U3,usePlateValue:Iq}=DD(),or=e=>{const t=U3({scope:e,warnIfNoStore:!1})??null,[r]=F.useState(!!t.store),n=r?t:q3(e),a=z3(),s=K.useMemo(DD,[]).usePlateStore();if(!n){if(a)return s;throw new Error("Plate hooks must be used inside a Plate or PlateController")}return n},W3=()=>At(or(),"editor").id,V3=e=>!!At(or(e),"isMounted"),H3=e=>!!At(or(e),"readOnly"),bt=e=>{const t=or(e),r=At(t,"editor")??x3();return r.store=t,r},K3=e=>or(e).useTrackedSelectionValue().selection,Bi=(e,t)=>{const r=F.useRef(1),n=or(t),a=On(n,"versionDecorate"),s=On(n,"versionSelection"),i=On(n,"versionValue"),o=On(n,"versionEditor");return F.useCallback(()=>{const u=r.current+1;switch(e){case"versionDecorate":{a(u);break}case"versionEditor":{o(u);break}case"versionSelection":{s(u);break}case"versionValue":{i(u);break}}r.current=u},[e,a,o,s,i])},G3=e=>{const t=Bi("versionDecorate",e);return F.useCallback(()=>{t()},[t])};function Zo(e,t){const r=bt(t);return F.useMemo(()=>({...Ys(r,e),store:r.store}),[r,e])}function CD(e,t,...r){const n=bt();return Y3(n,e,t,...r)}function Y3(e,t,r,...n){const a=e.getOptionsStore(t);if(a){if(!(r in a.get("state"))&&!(r in a.selectors)){e.api.debug.error(`usePluginOption: ${r} option is not defined in plugin ${t.key}`,"OPTION_UNDEFINED");return}return Zk(a,r,...n)}}var Xo=(e=_3)=>{const t=bt(),r=At(wD(e),"element");return r||(t.api.debug.warn(`useElement(${e}) hook must be used inside the node component's context`,"USE_ELEMENT_CONTEXT"),{})};function J3({id:e,editableRef:t}){const r=bt(e);return F.createElement(F.Fragment,null,Object.entries(r.meta.shortcuts).map(([n,a])=>!a||!Ve(a.keys)||!a.handler?null:F.createElement(Z3,{id:e,key:n,editableRef:t,hotkeyConfig:a})))}function Z3({id:e,editableRef:t,hotkeyConfig:r}){const n=bt(e),{keys:a,handler:s,...i}=r,o=Fd(a,(u,c)=>{s({editor:n,event:u,eventDetails:c})!==!1&&!Ve(i.preventDefault)&&u.preventDefault()},{enableOnContentEditable:!0,...i},[]);return K.useEffect(()=>{t.current&&o(t.current)},[o,t]),null}var X3=({id:e})=>{const t=bt(e),r=G3(e);return F.useEffect(()=>{t.api.redecorate=r},[t,r]),null};function Q3({id:e,plugin:t}){const r=bt(e);return t.useHooks?.(Ys(r,t)),null}function eL({id:e}){const t=or(e),r=At(t,"editor"),n=On(t,"isMounted");return F.useEffect(()=>(n(!0),()=>{n(!1)}),[n]),F.createElement(F.Fragment,null,r.meta.pluginCache.useHooks.map(a=>F.createElement(Q3,{id:e,key:a,plugin:oh(r,{key:a})})))}function tL(){globalThis.__PLATE_INSTANCES__=(globalThis.__PLATE_INSTANCES__||0)+1}tL();var rL=({id:e})=>{const t=W3(),r=e??t,n=F.useMemo(()=>r$(Si.atom.editorStores,l=>l.prop(r)),[r]),a=Af(as().setAtom(n),[n]),s=Af(On(as(),"primaryEditorIds")),i=Af(On(as(),"activeId")),o=or(r),u=At(o,"primary"),c=Uj();return F.useEffect(()=>(a(o??null),()=>{a(null),i(l=>l===r?null:l)}),[o,a,i,r]),F.useEffect(()=>{if(u)return s(l=>[...l,r]),()=>{s(l=>l.filter(f=>f!==r))}},[r,u,s]),F.useEffect(()=>{r&&c&&i(r)},[r,c,i]),null};function nL({id:e,children:t}){const r=F3({id:e}),n=bt(e);let a=F.createElement(Vj,{...r},t);return n.meta.pluginCache.render.aboveSlate.forEach(s=>{const o=n.getPlugin({key:s}).render.aboveSlate;a=F.createElement(o,null,a)}),a}var aL=F.forwardRef(({autoFocusOnEditable:e,readOnly:t,renderEditable:r,...n},a)=>{const{id:s}=n,i=bt(s),o=H3(),u=n.disabled?!0:t??o;if(i.dom.readOnly=u,!i)throw new Error("Editor not found. Please ensure that PlateContent is rendered below Plate.");const c=B3({...n,readOnly:u}),l=K.useRef(null),f=Jp(a,l),d=F.createElement($j,{ref:f,...c});let v=null,h=null;i.meta.pluginCache.render.beforeEditable.forEach(x=>{const y=i.getPlugin({key:x});if(qt(u,y,"render"))return;const p=y.render.beforeEditable;h=F.createElement(F.Fragment,null,h,F.createElement(p,{...c}))}),i.meta.pluginCache.render.afterEditable.forEach(x=>{const y=i.getPlugin({key:x});if(qt(u,y,"render"))return;const p=y.render.afterEditable;v=F.createElement(F.Fragment,null,v,F.createElement(p,{...c}))});let g=F.createElement(F.Fragment,null,r?r(d):d,F.createElement(X3,{id:s}),F.createElement(J3,{id:s,editableRef:l}),F.createElement(eL,{id:s}),F.createElement(rL,{id:s}));return i.meta.pluginCache.render.aboveEditable.forEach(x=>{const y=i.getPlugin({key:x});if(qt(u,y,"render"))return;const p=y.render.aboveEditable;g=F.createElement(p,null,g)}),F.createElement(nL,{id:s},F.createElement(sL,{id:s,disabled:n.disabled,readOnly:t,autoFocusOnEditable:e,editor:i}),h,g,v)});aL.displayName="PlateContent";function sL({id:e,autoFocusOnEditable:t,disabled:r,editor:n,readOnly:a}){const s=or(e);F.useLayoutEffect(()=>{if(r){s.setReadOnly(!0);return}Ve(a)&&s.setReadOnly(a)},[r,n.dom,a,s]);const i=F.useRef(a);return F.useEffect(()=>{t&&i.current&&!a&&n.tf.focus({edge:"endEditor"}),i.current=a},[t,n,a]),null}const iL=e=>dt({key:"analysed-content",options:{analysedContent:e}}),oL=e=>{const t=e.editor.plugins["analysed-content"],{analysedContent:r}=t.options,n=r.images[e.element.id];if(!n)return null;const{align:a="center",caption:s,width:i}=e.element;return Ee.jsxs(Ws,{...e,children:[Ee.jsx("figure",{className:`group relative ${a==="center"?"block self-center justify-self-center":"inline-block"}`,style:{maxWidth:i},children:Ee.jsxs("div",{className:"relative max-w-full min-w-[92px]",style:{textAlign:a},children:[Ee.jsx("img",{alt:e.attributes.alt,src:n.src}),s&&Ee.jsx("figcaption",{className:"mx-auto mt-2 h-[24px] max-w-full",children:ge.string(s[0])})]})}),e.children]})};var uL=we({key:U.blockquote,node:{isElement:!0},parsers:{html:{deserializer:{rules:[{validNodeName:"BLOCKQUOTE"}]}}},render:{as:"blockquote"},rules:{break:{default:"lineBreak",empty:"reset",emptyLineEnd:"deleteExit"},delete:{start:"reset"}}}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleBlock(t)}})),cL=Fe(uL),_a={isElement:!0},Na={break:{splitReset:!0},merge:{removeEmpty:!0}},PD=dt({key:"h1",node:_a,parsers:{html:{deserializer:{rules:[{validNodeName:"H1"}]}}},render:{as:"h1"},rules:Na}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleBlock(t)}})),OD=dt({key:"h2",node:_a,parsers:{html:{deserializer:{rules:[{validNodeName:"H2"}]}}},render:{as:"h2"},rules:Na}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleBlock(t)}})),AD=dt({key:"h3",node:_a,parsers:{html:{deserializer:{rules:[{validNodeName:"H3"}]}}},render:{as:"h3"},rules:Na}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleBlock(t)}})),SD=dt({key:"h4",node:_a,parsers:{html:{deserializer:{rules:[{validNodeName:"H4"}]}}},render:{as:"h4"},rules:Na}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleBlock(t)}})),BD=dt({key:"h5",node:_a,parsers:{html:{deserializer:{rules:[{validNodeName:"H5"}]}}},render:{as:"h5"},rules:Na}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleBlock(t)}})),kD=dt({key:"h6",node:_a,parsers:{html:{deserializer:{rules:[{validNodeName:"H6"}]}}},render:{as:"h6"},rules:Na}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleBlock(t)}})),lL=dt({key:"heading",options:{levels:[1,2,3,4,5,6]}}).extend(({plugin:e})=>{const{options:{levels:t}}=e,r={1:PD,2:OD,3:AD,4:SD,5:BD,6:kD};return{plugins:(Array.isArray(t)?t:Array.from({length:t||6},(s,i)=>i+1)).map(s=>r[s])}}),FD=Fe(lL);Fe(PD);Fe(OD);Fe(AD);Fe(SD);Fe(BD);Fe(kD);var fL=we({key:U.hr,node:{isElement:!0,isVoid:!0},parsers:{html:{deserializer:{rules:[{validNodeName:"HR"}]}}},render:{as:"hr"}}),TD=we({key:U.bold,node:{isLeaf:!0},parsers:{html:{deserializer:{rules:[{validNodeName:["STRONG","B"]},{validStyle:{fontWeight:["600","700","bold"]}}],query:({element:e})=>!Io(e,t=>t.style.fontWeight==="normal")}}},render:{as:"strong"}}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleMark(t)}})),_D=we({key:U.code,node:{isLeaf:!0},parsers:{html:{deserializer:{rules:[{validNodeName:["CODE"]},{validStyle:{fontFamily:"Consolas"}}],query({element:e}){return Rf(e,"P")?.style.fontFamily==="Consolas"?!1:!Rf(e,"PRE")}}}},render:{as:"code"},rules:{selection:{affinity:"hard"}}}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleMark(t)}})),ND=we({key:U.italic,node:{isLeaf:!0},parsers:{html:{deserializer:{rules:[{validNodeName:["EM","I"]},{validStyle:{fontStyle:"italic"}}],query:({element:e})=>!Io(e,t=>t.style.fontStyle==="normal")}}},render:{as:"em"}}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleMark(t)}})),RD=we({key:U.strikethrough,node:{isLeaf:!0},parsers:{html:{deserializer:{rules:[{validNodeName:["S","DEL","STRIKE"]},{validStyle:{textDecoration:"line-through"}}],query:({element:e})=>!Io(e,t=>t.style.textDecoration==="none")}}},render:{as:"s"},rules:{selection:{affinity:"directional"}}}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleMark(t)}})),jD=we({key:U.sub,node:{isLeaf:!0},parsers:{html:{deserializer:{rules:[{validNodeName:["SUB"]},{validStyle:{verticalAlign:"sub"}}]}}},render:{as:"sub"},rules:{selection:{affinity:"directional"}}}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleMark(t,{remove:e.getType(U.sup)})}})),ID=we({key:U.sup,node:{isLeaf:!0},parsers:{html:{deserializer:{rules:[{validNodeName:["SUP"]},{validStyle:{verticalAlign:"super"}}]}}},render:{as:"sup"},rules:{selection:{affinity:"directional"}}}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleMark(t,{remove:e.getType(U.sub)})}})),$D=we({key:U.underline,node:{isLeaf:!0},parsers:{html:{deserializer:{rules:[{validNodeName:["U"]},{validStyle:{textDecoration:["underline"]}}],query:({element:e})=>!Io(e,t=>t.style.textDecoration==="none")}}},render:{as:"u"}}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleMark(t)}})),dL=we({plugins:[TD,_D,ND,RD,jD,ID,$D]}),pL=we({key:U.highlight,node:{isLeaf:!0},parsers:{html:{deserializer:{rules:[{validNodeName:["MARK"]}]}}},render:{as:"mark"},rules:{selection:{affinity:"directional"}}}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleMark(t)}})),hL=we({key:U.kbd,node:{isLeaf:!0},parsers:{html:{deserializer:{rules:[{validNodeName:["KBD"]}]}}},render:{as:"kbd"},rules:{selection:{affinity:"hard"}}}).extendTransforms(({editor:e,type:t})=>({toggle:()=>{e.tf.toggleMark(t)}})),vL=Fe(fL);Jo({plugins:[cL,FD,vL]});var mL=Fe(TD,{shortcuts:{toggle:{keys:[[Pn.Mod,"b"]]}}}),gL=Fe(_D),yL=Fe(ND,{shortcuts:{toggle:{keys:[[Pn.Mod,"i"]]}}}),bL=Fe(RD),xL=Fe(jD),wL=Fe(ID),EL=Fe($D,{shortcuts:{toggle:{keys:[[Pn.Mod,"u"]]}}}),DL=Fe(dL,{plugins:[mL,gL,yL,bL,xL,wL,EL]});Fe(pL);Fe(hL);var ki={exports:{}},CL=ki.exports,Nx;function PL(){return Nx||(Nx=1,function(e,t){(function(r,n){e.exports=n()})(CL,function(){function r(m){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(D){return typeof D}:r=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},r(m)}var n=function(D){if(typeof D!="string")return{};D=D.split("+").join(" ");var O={},G=D.match(/(?:[?](?:[^=]+)=(?:[^&#]*)(?:[&](?:[^=]+)=(?:[^&#]*))*(?:[#].*)?)|(?:[#].*)/),he;if(G===null)return{};he=G[0].substr(1).split(/[&#=]/);for(var Ce=0;Ce<he.length;Ce+=2)O[decodeURIComponent(he[Ce])]=decodeURIComponent(he[Ce+1]||"");return O},a=function(D,O){if(r(D)!=="object")return"";var G="",he=0,Ce=Object.keys(D);if(Ce.length===0)return"";for(Ce.sort(),O||(G+="?"+Ce[0]+"="+D[Ce[0]],he+=1);he<Ce.length;he+=1)G+="&"+Ce[he]+"="+D[Ce[he]];return G};function s(m){var D=0,O={s:1,m:1*60,h:1*60*60,d:1*60*60*24,w:1*60*60*24*7},G;m=m.replace(/([smhdw])/g," $1 ").trim(),G=m.split(" ");for(var he=0;he<G.length;he+=2)D+=parseInt(G[he],10)*O[G[he+1]||"s"];return D}function i(m){for(var D=0,O=[1,1*60,1*60*60,1*60*60*24,1*60*60*24*7],G=m.split(":"),he=0;he<G.length;he++)D+=parseInt(G[he],10)*O[G.length-he-1];return D}var o=function(D){return typeof D>"u"?0:D.match(/^(\d+[smhdw]?)+$/)?s(D):D.match(/^(\d+:?)+$/)?i(D):0},u={getQueryParams:n,combineParams:a,getTime:o},c=u.getQueryParams;function l(){for(var m=0,D=["parseProvider","parse","bind","create"];m<D.length;m++){var O=D[m];this[O]=this[O].bind(this)}this.plugins={}}var f=l;l.prototype.parseProvider=function(m){var D=m.match(/(?:(?:https?:)?\/\/)?(?:[^.]+\.)?(\w+)\./i);return D?D[1]:void 0},l.prototype.parse=function(m){if(!(typeof m>"u")){var D=this.parseProvider(m),O,G=this.plugins[D];if(!(!D||!G||!G.parse))return O=G.parse.call(G,m,c(m)),O&&(O=d(O),O.provider=G.provider),O}},l.prototype.bind=function(m){if(this.plugins[m.provider]=m,m.alternatives)for(var D=0;D<m.alternatives.length;D+=1)this.plugins[m.alternatives[D]]=m},l.prototype.create=function(m){if(!(r(m)!=="object"||r(m.videoInfo)!=="object")){var D=m.videoInfo,O=m.params,G=this.plugins[D.provider];if(O=O==="internal"?D.params:O||{},G&&(m.format=m.format||G.defaultFormat,G.formats.hasOwnProperty(m.format)))return G.formats[m.format].apply(G,[D,Object.assign({},O)])}};function d(m){return m.params&&Object.keys(m.params).length===0&&delete m.params,m}var v=new f,h=v;function g(){this.provider="allocine",this.alternatives=[],this.defaultFormat="embed",this.formats={embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}g.prototype.parseUrl=function(m){var D=m.match(/(?:\/video\/player_gen_cmedia=)([A-Za-z0-9]+)/i);return D?D[1]:void 0},g.prototype.parse=function(m){var D={mediaType:this.mediaTypes.VIDEO,id:this.parseUrl(m)};return D.id?D:void 0},g.prototype.createEmbedUrl=function(m){if(!(!m.id||m.mediaType!==this.mediaTypes.VIDEO))return"https://player.allocine.fr/"+m.id+".html"},h.bind(new g);var x=u.combineParams;function y(){this.provider="canalplus",this.defaultFormat="embed",this.formats={embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}y.prototype.parseParameters=function(m){return delete m.vid,m},y.prototype.parse=function(m,D){var O=this,G={mediaType:this.mediaTypes.VIDEO,id:D.vid};if(G.params=O.parseParameters(D),!!G.id)return G},y.prototype.createEmbedUrl=function(m,D){if(!(!m.id||m.mediaType!==this.mediaTypes.VIDEO)){var O="http://player.canalplus.fr/embed/";return D.vid=m.id,O+=x(D),O}},h.bind(new y);var p=u.combineParams;function w(){this.provider="coub",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}w.prototype.parseUrl=function(m){var D=m.match(/(?:embed|view)\/([a-zA-Z\d]+)/i);return D?D[1]:void 0},w.prototype.parse=function(m,D){var O={mediaType:this.mediaTypes.VIDEO,params:D,id:this.parseUrl(m)};if(O.id)return O},w.prototype.createUrl=function(m,D,O){if(!(!D.id||D.mediaType!==this.mediaTypes.VIDEO)){var G=m+D.id;return G+=p(O),G}},w.prototype.createLongUrl=function(m,D){return this.createUrl("https://coub.com/view/",m,D)},w.prototype.createEmbedUrl=function(m,D){return this.createUrl("//coub.com/embed/",m,D)},h.bind(new w);var C=u.combineParams,P=u.getTime;function _(){this.provider="dailymotion",this.alternatives=["dai"],this.defaultFormat="long",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl,image:this.createImageUrl},this.mediaTypes={VIDEO:"video"}}_.prototype.parseParameters=function(m){return this.parseTime(m)},_.prototype.parseTime=function(m){return m.start&&(m.start=P(m.start)),m},_.prototype.parseUrl=function(m){var D=m.match(/(?:\/video|ly)\/([A-Za-z0-9]+)/i);return D?D[1]:void 0},_.prototype.parse=function(m,D){var O=this,G={mediaType:this.mediaTypes.VIDEO,params:O.parseParameters(D),id:O.parseUrl(m)};return G.id?G:void 0},_.prototype.createUrl=function(m,D,O){if(!(!D.id||D.mediaType!==this.mediaTypes.VIDEO))return m+D.id+C(O)},_.prototype.createShortUrl=function(m,D){return this.createUrl("https://dai.ly/",m,D)},_.prototype.createLongUrl=function(m,D){return this.createUrl("https://dailymotion.com/video/",m,D)},_.prototype.createEmbedUrl=function(m,D){return this.createUrl("https://www.dailymotion.com/embed/video/",m,D)},_.prototype.createImageUrl=function(m,D){return delete D.start,this.createUrl("https://www.dailymotion.com/thumbnail/video/",m,D)},h.bind(new _);var R=u.combineParams;function E(){this.provider="loom",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}E.prototype.parseUrl=function(m){var D=m.match(/(?:share|embed)\/([a-zA-Z\d]+)/i);return D?D[1]:void 0},E.prototype.parse=function(m,D){var O={mediaType:this.mediaTypes.VIDEO,params:D,id:this.parseUrl(m)};return O.id?O:void 0},E.prototype.createUrl=function(m,D,O){if(!(!D.id||D.mediaType!==this.mediaTypes.VIDEO)){var G=m+D.id;return G+=R(O),G}},E.prototype.createLongUrl=function(m,D){return this.createUrl("https://loom.com/share/",m,D)},E.prototype.createEmbedUrl=function(m,D){return this.createUrl("//loom.com/embed/",m,D)},h.bind(new E);var A=u.combineParams,S=u.getTime;function B(){this.provider="twitch",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",STREAM:"stream",CLIP:"clip"}}B.prototype.seperateId=function(m){return{pre:m[0],id:m.substr(1)}},B.prototype.parseChannel=function(m,D){var O=D.channel||D.utm_content||m.channel;return delete D.utm_content,delete D.channel,O},B.prototype.parseUrl=function(m,D,O){var G;return G=m.match(/(clips\.)?twitch\.tv\/(?:(?:videos\/(\d+))|(\w+(?:-[\w\d-]+)?)(?:\/clip\/(\w+))?)/i),G&&G[2]?D.id="v"+G[2]:O.video?(D.id=O.video,delete O.video):O.clip?(D.id=O.clip,D.isClip=!0,delete O.clip):G&&G[1]&&G[3]?(D.id=G[3],D.isClip=!0):G&&G[3]&&G[4]?(D.channel=G[3],D.id=G[4],D.isClip=!0):G&&G[3]&&(D.channel=G[3]),D},B.prototype.parseMediaType=function(m){var D;return m.id?m.isClip?(D=this.mediaTypes.CLIP,delete m.isClip):D=this.mediaTypes.VIDEO:m.channel&&(D=this.mediaTypes.STREAM),D},B.prototype.parseParameters=function(m){return m.t&&(m.start=S(m.t),delete m.t),m},B.prototype.parse=function(m,D){var O=this,G={};return G=O.parseUrl(m,G,D),G.channel=O.parseChannel(G,D),G.mediaType=O.parseMediaType(G),G.params=O.parseParameters(D),G.channel||G.id?G:void 0},B.prototype.createLongUrl=function(m,D){var O="";if(m.mediaType===this.mediaTypes.STREAM&&m.channel)O="https://twitch.tv/"+m.channel;else if(m.mediaType===this.mediaTypes.VIDEO&&m.id){var G=this.seperateId(m.id);O="https://twitch.tv/videos/"+G.id,D.start&&(D.t=D.start+"s",delete D.start)}else if(m.mediaType===this.mediaTypes.CLIP&&m.id)m.channel?O="https://www.twitch.tv/"+m.channel+"/clip/"+m.id:O="https://clips.twitch.tv/"+m.id;else return;return O+=A(D),O},B.prototype.createEmbedUrl=function(m,D){var O="https://player.twitch.tv/";if(m.mediaType===this.mediaTypes.STREAM&&m.channel)D.channel=m.channel;else if(m.mediaType===this.mediaTypes.VIDEO&&m.id)D.video=m.id,D.start&&(D.t=D.start+"s",delete D.start);else if(m.mediaType===this.mediaTypes.CLIP&&m.id)O="https://clips.twitch.tv/embed",D.clip=m.id;else return;return O+=A(D),O},h.bind(new B);var k=u.combineParams,T=u.getTime;function j(){this.provider="vimeo",this.alternatives=["vimeopro"],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}j.prototype.parseUrl=function(m){var D=m.match(/(?:\/showcase\/\d+)?(?:\/(?:channels\/[\w]+|(?:(?:album\/\d+|groups\/[\w]+)\/)?videos?))?\/(\d+)/i);return D?D[1]:void 0},j.prototype.parseHash=function(m){var D=m.match(/\/\d+\/(\w+)$/i);return D?D[1]:void 0},j.prototype.parseParameters=function(m){return m.t&&(m.start=T(m.t),delete m.t),m.h&&(m.hash=m.h,delete m.h),m},j.prototype.parse=function(m,D){var O={mediaType:this.mediaTypes.VIDEO,params:this.parseParameters(D),id:this.parseUrl(m)},G=this.parseHash(m,D);return G&&(O.params.hash=G),O.id?O:void 0},j.prototype.createUrl=function(m,D,O,G){if(!(!D.id||D.mediaType!==this.mediaTypes.VIDEO)){var he=m+D.id,Ce=O.start;return delete O.start,O.hash&&(G==="embed"?O.h=O.hash:G==="long"&&(he+="/"+O.hash),delete O.hash),he+=k(O),Ce&&(he+="#t="+Ce),he}},j.prototype.createLongUrl=function(m,D){return this.createUrl("https://vimeo.com/",m,D,"long")},j.prototype.createEmbedUrl=function(m,D){return this.createUrl("//player.vimeo.com/video/",m,D,"embed")},h.bind(new j);var L=u.combineParams,J=u.getTime;function I(){this.provider="wistia",this.alternatives=[],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl,embedjsonp:this.createEmbedJsonpUrl},this.mediaTypes={VIDEO:"video",EMBEDVIDEO:"embedvideo"}}I.prototype.parseUrl=function(m){var D=m.match(/(?:(?:medias|iframe)\/|wvideo=)([\w-]+)/);return D?D[1]:void 0},I.prototype.parseChannel=function(m){var D=m.match(/(?:(?:https?:)?\/\/)?([^.]*)\.wistia\./),O=D?D[1]:void 0;if(!(O==="fast"||O==="content"))return O},I.prototype.parseParameters=function(m,D){return m.wtime&&(m.start=J(m.wtime),delete m.wtime),m.wvideo===D.id&&delete m.wvideo,m},I.prototype.parseMediaType=function(m){return m.id&&m.channel?this.mediaTypes.VIDEO:m.id?(delete m.channel,this.mediaTypes.EMBEDVIDEO):void 0},I.prototype.parse=function(m,D){var O={id:this.parseUrl(m),channel:this.parseChannel(m)};if(O.params=this.parseParameters(D,O),O.mediaType=this.parseMediaType(O),!!O.id)return O},I.prototype.createUrl=function(m,D,O){return D.start&&(D.wtime=D.start,delete D.start),O+=L(D),O},I.prototype.createLongUrl=function(m,D){if(!(!m.id||m.mediaType!==this.mediaTypes.VIDEO)){var O="https://"+m.channel+".wistia.com/medias/"+m.id;return this.createUrl(m,D,O)}},I.prototype.createEmbedUrl=function(m,D){if(!(!m.id||!(m.mediaType===this.mediaTypes.VIDEO||m.mediaType===this.mediaTypes.EMBEDVIDEO))){var O="https://fast.wistia.com/embed/iframe/"+m.id;return this.createUrl(m,D,O)}},I.prototype.createEmbedJsonpUrl=function(m){if(!(!m.id||!(m.mediaType===this.mediaTypes.VIDEO||m.mediaType===this.mediaTypes.EMBEDVIDEO)))return"https://fast.wistia.com/embed/medias/"+m.id+".jsonp"},h.bind(new I);var Y=u.combineParams;function W(){this.provider="youku",this.defaultFormat="long",this.formats={embed:this.createEmbedUrl,long:this.createLongUrl,flash:this.createFlashUrl,static:this.createStaticUrl},this.mediaTypes={VIDEO:"video"}}W.prototype.parseUrl=function(m){var D=m.match(/(?:(?:embed|sid)\/|v_show\/id_|VideoIDS=)([a-zA-Z0-9]+)/);return D?D[1]:void 0},W.prototype.parseParameters=function(m){return m.VideoIDS&&delete m.VideoIDS,m},W.prototype.parse=function(m,D){var O=this,G={mediaType:this.mediaTypes.VIDEO,id:O.parseUrl(m),params:O.parseParameters(D)};if(G.id)return G},W.prototype.createUrl=function(m,D,O){if(!(!D.id||D.mediaType!==this.mediaTypes.VIDEO)){var G=m+D.id;return G+=Y(O),G}},W.prototype.createEmbedUrl=function(m,D){return this.createUrl("http://player.youku.com/embed/",m,D)},W.prototype.createLongUrl=function(m,D){return this.createUrl("http://v.youku.com/v_show/id_",m,D)},W.prototype.createStaticUrl=function(m,D){return this.createUrl("http://static.youku.com/v1.0.0638/v/swf/loader.swf?VideoIDS=",m,D)},W.prototype.createFlashUrl=function(m,D){if(!(!m.id||m.mediaType!==this.mediaTypes.VIDEO)){var O="http://player.youku.com/player.php/sid/"+m.id+"/v.swf";return O+=Y(D),O}},h.bind(new W);var Z=u.combineParams,ie=u.getTime;function le(){this.provider="youtube",this.alternatives=["youtu","ytimg"],this.defaultFormat="long",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl,shortImage:this.createShortImageUrl,longImage:this.createLongImageUrl},this.imageQualities={0:"0",1:"1",2:"2",3:"3",DEFAULT:"default",HQDEFAULT:"hqdefault",SDDEFAULT:"sddefault",MQDEFAULT:"mqdefault",MAXRESDEFAULT:"maxresdefault"},this.defaultImageQuality=this.imageQualities.HQDEFAULT,this.mediaTypes={VIDEO:"video",PLAYLIST:"playlist",SHARE:"share",CHANNEL:"channel"}}le.prototype.parseVideoUrl=function(m){var D=m.match(/(?:(?:v|vi|be|videos|embed)\/(?!videoseries)|(?:v|ci)=)([\w-]{11})/i);return D?D[1]:void 0},le.prototype.parseChannelUrl=function(m){var D=m.match(/\/channel\/([\w-]+)/);if(D)return{id:D[1],mediaType:this.mediaTypes.CHANNEL};if(D=m.match(/\/(?:c|user)\/([\w-]+)/),D)return{name:D[1],mediaType:this.mediaTypes.CHANNEL}},le.prototype.parseParameters=function(m,D){return(m.start||m.t)&&(m.start=ie(m.start||m.t),delete m.t),m.v===D.id&&delete m.v,m.list===D.id&&delete m.list,m},le.prototype.parseMediaType=function(m){if(m.params.list&&(m.list=m.params.list,delete m.params.list),m.id&&!m.params.ci)m.mediaType=this.mediaTypes.VIDEO;else if(m.list)delete m.id,m.mediaType=this.mediaTypes.PLAYLIST;else if(m.params.ci)delete m.params.ci,m.mediaType=this.mediaTypes.SHARE;else return;return m},le.prototype.parse=function(m,D){var O=this.parseChannelUrl(m);if(O)return O;var G={params:D,id:this.parseVideoUrl(m)};return G.params=this.parseParameters(D,G),G=this.parseMediaType(G),G},le.prototype.createShortUrl=function(m,D){if(!(!m.id||m.mediaType!==this.mediaTypes.VIDEO)){var O="https://youtu.be/"+m.id;return D.start&&(O+="#t="+D.start),O}},le.prototype.createLongUrl=function(m,D){var O="",G=D.start;if(delete D.start,m.mediaType===this.mediaTypes.CHANNEL)if(m.id)O+="https://www.youtube.com/channel/"+m.id;else if(m.name)O+="https://www.youtube.com/c/"+m.name;else return;else if(m.mediaType===this.mediaTypes.PLAYLIST&&m.list)D.feature="share",O+="https://www.youtube.com/playlist";else if(m.mediaType===this.mediaTypes.VIDEO&&m.id)D.v=m.id,O+="https://www.youtube.com/watch";else if(m.mediaType===this.mediaTypes.SHARE&&m.id)D.ci=m.id,O+="https://www.youtube.com/shared";else return;return m.list&&(D.list=m.list),O+=Z(D),m.mediaType!==this.mediaTypes.PLAYLIST&&G&&(O+="#t="+G),O},le.prototype.createEmbedUrl=function(m,D){var O="https://www.youtube.com/embed";if(m.mediaType===this.mediaTypes.PLAYLIST&&m.list)D.listType="playlist";else if(m.mediaType===this.mediaTypes.VIDEO&&m.id)O+="/"+m.id,D.loop==="1"&&(D.playlist=m.id);else return;return m.list&&(D.list=m.list),O+=Z(D),O},le.prototype.createImageUrl=function(m,D,O){if(!(!D.id||D.mediaType!==this.mediaTypes.VIDEO)){var G=m+D.id+"/",he=O.imageQuality||this.defaultImageQuality;return G+he+".jpg"}},le.prototype.createShortImageUrl=function(m,D){return this.createImageUrl("https://i.ytimg.com/vi/",m,D)},le.prototype.createLongImageUrl=function(m,D){return this.createImageUrl("https://img.youtube.com/vi/",m,D)},h.bind(new le);var oe=u.combineParams,me=u.getTime;function ue(){this.provider="soundcloud",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={TRACK:"track",PLAYLIST:"playlist",APITRACK:"apitrack",APIPLAYLIST:"apiplaylist"}}ue.prototype.parseUrl=function(m,D){var O=m.match(/(?:m\.)?soundcloud\.com\/(?:([\w-]+)\/(sets\/)?)([\w-]+)/i);return O&&(D.channel=O[1],O[1]==="playlists"||O[2]?D.list=O[3]:D.id=O[3]),D},ue.prototype.parseParameters=function(m){return m.t&&(m.start=me(m.t),delete m.t),m},ue.prototype.parseMediaType=function(m){return m.id&&(m.channel==="tracks"?(delete m.channel,delete m.params.url,m.mediaType=this.mediaTypes.APITRACK):m.mediaType=this.mediaTypes.TRACK),m.list&&(m.channel==="playlists"?(delete m.channel,delete m.params.url,m.mediaType=this.mediaTypes.APIPLAYLIST):m.mediaType=this.mediaTypes.PLAYLIST),m},ue.prototype.parse=function(m,D){var O={};if(O=this.parseUrl(m,O),O.params=this.parseParameters(D),O=this.parseMediaType(O),!(!O.id&&!O.list))return O},ue.prototype.createLongUrl=function(m,D){var O="",G=D.start;if(delete D.start,m.mediaType===this.mediaTypes.TRACK&&m.id&&m.channel)O="https://soundcloud.com/"+m.channel+"/"+m.id;else if(m.mediaType===this.mediaTypes.PLAYLIST&&m.list&&m.channel)O="https://soundcloud.com/"+m.channel+"/sets/"+m.list;else if(m.mediaType===this.mediaTypes.APITRACK&&m.id)O="https://api.soundcloud.com/tracks/"+m.id;else if(m.mediaType===this.mediaTypes.APIPLAYLIST&&m.list)O="https://api.soundcloud.com/playlists/"+m.list;else return;return O+=oe(D),G&&(O+="#t="+G),O},ue.prototype.createEmbedUrl=function(m,D){var O="https://w.soundcloud.com/player/";if(delete D.start,m.mediaType===this.mediaTypes.APITRACK&&m.id)D.url="https%3A//api.soundcloud.com/tracks/"+m.id;else if(m.mediaType===this.mediaTypes.APIPLAYLIST&&m.list)D.url="https%3A//api.soundcloud.com/playlists/"+m.list;else return;return O+=oe(D),O},h.bind(new ue);var ye=u.combineParams;function be(){this.provider="teachertube",this.alternatives=[],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",AUDIO:"audio",DOCUMENT:"document",CHANNEL:"channel",COLLECTION:"collection",GROUP:"group"}}be.prototype.parse=function(m,D){var O={};O.list=this.parsePlaylist(D),O.params=D;var G=m.match(/\/(audio|video|document|user\/channel|collection|group)\/(?:[\w-]+-)?(\w+)/);if(G)return O.mediaType=this.parseMediaType(G[1]),O.id=G[2],O},be.prototype.parsePlaylist=function(m){if(m["playlist-id"]){var D=m["playlist-id"];return delete m["playlist-id"],D}},be.prototype.parseMediaType=function(m){switch(m){case"audio":return this.mediaTypes.AUDIO;case"video":return this.mediaTypes.VIDEO;case"document":return this.mediaTypes.DOCUMENT;case"user/channel":return this.mediaTypes.CHANNEL;case"collection":return this.mediaTypes.COLLECTION;case"group":return this.mediaTypes.GROUP}},be.prototype.createLongUrl=function(m,D){if(m.id){var O="https://www.teachertube.com/";return m.list&&(D["playlist-id"]=m.list),m.mediaType===this.mediaTypes.CHANNEL?O+="user/channel/":O+=m.mediaType+"/",O+=m.id,O+=ye(D),O}},be.prototype.createEmbedUrl=function(m,D){if(m.id){var O="https://www.teachertube.com/embed/";if(m.mediaType===this.mediaTypes.VIDEO||m.mediaType===this.mediaTypes.AUDIO)O+=m.mediaType+"/"+m.id;else return;return O+=ye(D),O}},h.bind(new be);var Te=u.combineParams;function $(){this.provider="tiktok",this.defaultFormat="long",this.formats={long:this.createLongUrl},this.mediaTypes={VIDEO:"video"}}$.prototype.parse=function(m,D){var O={params:D,mediaType:this.mediaTypes.VIDEO},G=m.match(/@([^/]+)\/video\/(\d{19})/);if(G)return O.channel=G[1],O.id=G[2],O},$.prototype.createLongUrl=function(m,D){var O="";if(m.mediaType===this.mediaTypes.VIDEO&&m.id&&m.channel)O+="https://www.tiktok.com/@".concat(m.channel,"/video/").concat(m.id);else return;return O+=Te(D),O},h.bind(new $);var z=u.combineParams;function M(){this.provider="ted",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",PLAYLIST:"playlist"}}M.prototype.parseUrl=function(m,D){var O=m.match(/\/(talks|playlists\/(\d+))\/([\w-]+)/i),G=O?O[1]:void 0;return G&&(D.channel=G.split("/")[0],D.id=O[3],D.channel==="playlists"&&(D.list=O[2])),D},M.prototype.parseMediaType=function(m){return m.id&&m.channel==="playlists"&&(delete m.channel,m.mediaType=this.mediaTypes.PLAYLIST),m.id&&m.channel==="talks"&&(delete m.channel,m.mediaType=this.mediaTypes.VIDEO),m},M.prototype.parse=function(m,D){var O={params:D};if(O=this.parseUrl(m,O),O=this.parseMediaType(O),!!O.id)return O},M.prototype.createLongUrl=function(m,D){var O="";if(m.mediaType===this.mediaTypes.VIDEO&&m.id)O+="https://ted.com/talks/"+m.id;else if(m.mediaType===this.mediaTypes.PLAYLIST&&m.id)O+="https://ted.com/playlists/"+m.list+"/"+m.id;else return;return O+=z(D),O},M.prototype.createEmbedUrl=function(m,D){var O="https://embed.ted.com/";if(m.mediaType===this.mediaTypes.PLAYLIST&&m.id)O+="playlists/"+m.list+"/"+m.id;else if(m.mediaType===this.mediaTypes.VIDEO&&m.id)O+="talks/"+m.id;else return;return O+=z(D),O},h.bind(new M);var q=u.combineParams;function se(){this.provider="facebook",this.alternatives=[],this.defaultFormat="long",this.formats={long:this.createLongUrl,watch:this.createWatchUrl},this.mediaTypes={VIDEO:"video"}}se.prototype.parse=function(m,D){var O={params:D,mediaType:this.mediaTypes.VIDEO},G=m.match(/(?:\/(\d+))?\/videos(?:\/.*?)?\/(\d+)/i);if(G&&(G[1]&&(O.pageId=G[1]),O.id=G[2]),D.v&&!O.id&&(O.id=D.v,delete D.v,O.params=D),!!O.id)return O},se.prototype.createWatchUrl=function(m,D){var O="https://facebook.com/watch/";if(!(m.mediaType!==this.mediaTypes.VIDEO||!m.id))return D={v:m.id},O+=q(D),O},se.prototype.createLongUrl=function(m,D){var O="https://facebook.com/";if(m.pageId)O+=m.pageId;else return;if(m.mediaType===this.mediaTypes.VIDEO&&m.id)O+="/videos/"+m.id;else return;return O+=q(D),O},h.bind(new se);var ne=h;return ne})}(ki)),ki.exports}PL();var OL=we({key:U.audio,node:{isElement:!0,isVoid:!0}}),AL=we({key:U.file,node:{isElement:!0,isVoid:!0}}),SL=we({key:U.video,node:{dangerouslyAllowAttributes:["width","height"],isElement:!0,isVoid:!0}}),MD=(e,t,r={})=>{const a={children:[{text:""}],type:e.getType(U.img),url:t};e.tf.insertNodes(a,{nextBlock:!0,...r})},LD=(e,t,r={})=>{for(const n of t){const a=new FileReader,[s]=n.type.split("/");s==="image"&&(a.addEventListener("load",async()=>{if(!a.result)return;const i=e.getOptions(zD).uploadImage,o=i?await i(a.result):a.result;MD(e,o,r)}),a.readAsDataURL(n))}},BL=new Set(["3dv","ai","amf","art","art","ase","awg","blp","bmp","bw","bw","cd5","cdr","cgm","cit","cmx","cpt","cr2","cur","cut","dds","dib","djvu","dxf","e2d","ecw","egt","egt","emf","eps","exif","fs","gbr","gif","gpl","grf","hdp","icns","ico","iff","iff","int","int","inta","jfif","jng","jp2","jpeg","jpg","jps","jxr","lbm","lbm","liff","max","miff","mng","msp","nitf","nrrd","odg","ota","pam","pbm","pc1","pc2","pc3","pcf","pct","pcx","pcx","pdd","pdn","pgf","pgm","PI1","PI2","PI3","pict","png","pnm","pns","ppm","psb","psd","psp","px","pxm","pxr","qfx","ras","raw","rgb","rgb","rgba","rle","sct","sgi","sgi","sid","stl","sun","svg","sxd","tga","tga","tif","tiff","v2d","vnd","vrml","vtf","wdp","webp","wmf","x3d","xar","xbm","xcf","xpm"]),kL=e=>{if(!Vd(e))return!1;const t=new URL(e).pathname.split(".").pop();return BL.has(t)},FL=({editor:e,getOptions:t,tf:{insertData:r}})=>({transforms:{insertData(n){if(t().disableEmbedInsert)return r(n);const a=n.getData("text/plain");if(kL(a)){MD(e,a);return}r(n)}}}),TL=({editor:e,getOptions:t,plugin:r,tf:{insertData:n}})=>({transforms:{insertData(a){if(t().disableUploadInsert)return n(a);const s=a.getData("text/plain"),{files:i}=a;if(!s&&i&&i.length>0){const o=Tp(e,r);if(!a1(e,o,{data:s,dataTransfer:a}))return n(a);LD(e,i)}else return n(a)}}}),zD=dt({key:U.img,node:{dangerouslyAllowAttributes:["alt","width","height"],isElement:!0,isVoid:!0},parsers:{html:{deserializer:{rules:[{validNodeName:"IMG"}],parse:({element:e,type:t})=>({type:t,url:e.getAttribute("src")})}}}}).overrideEditor(TL).overrideEditor(FL).extendEditorTransforms(({editor:e})=>({insert:{imageFromFiles:V(LD,e)}})),_L=e=>{if(!e.startsWith("http")){const t=/src=".*?"/,r=/"([^"]*)"/,a=t.exec(e)?.[0]?.match(r)?.[1];a&&(e=a)}return e},NL=dt({key:U.mediaEmbed,node:{isElement:!0,isVoid:!0},options:{transformUrl:_L},parsers:{html:{deserializer:{rules:[{validNodeName:"IFRAME"}],parse:({element:e,type:t})=>{const r=e.getAttribute("src");if(r)return{type:t,url:r}}}}}}),Qo=(e,t,r)=>{e.tf.withoutNormalizing(()=>e.tf.insertNodes({children:[{text:""}],mediaType:t,type:e.getType(U.placeholder)},r))},RL=(e,t)=>Qo(e,U.img,t),jL=(e,t)=>Qo(e,U.video,t),IL=(e,t)=>Qo(e,U.audio,t),$L=(e,t)=>Qo(e,U.file,t),ML=dt({key:U.placeholder,node:{isElement:!0,isVoid:!0}}).extendEditorTransforms(({editor:e})=>({insert:{audioPlaceholder:V(IL,e),filePlaceholder:V($L,e),imagePlaceholder:V(RL,e),videoPlaceholder:V(jL,e)}})),LL=Fe(zD);Fe(NL);Fe(OL);Fe(AL);Fe(SL);var Qr=Us({boundingClientRect:{},currentPreview:null,isEditingScale:!1,openEditorId:null,previewList:[],scale:1,translate:{x:0,y:0}},{mutative:!0,name:"imagePreview"}).extendActions(({set:e})=>({close:()=>{e("currentPreview",null),e("previewList",[]),e("openEditorId",null),e("scale",1),e("translate",{x:0,y:0}),e("isEditingScale",!1)}})).extendSelectors(({get:e})=>({isOpen:t=>e("openEditorId")===t})),{useValue:Fi}=Qr,zL=e=>{const t=e.api.nodes({at:[],match:r=>r.type===U.img});return Array.from(t,r=>({id:r[0].id,url:r[0].url}))},qL=(e,t)=>{const{id:r,url:n}=t,a=zL(e);Qr.set("openEditorId",e.id),Qr.set("currentPreview",{id:r,url:n}),Qr.set("previewList",a)},UL=()=>{const e=Fi("scale"),t=K.useCallback(()=>{if(e>=2)return;const a=[0,.5,1,1.5,2].find(s=>e<s);a&&Qr.set("scale",a)},[e]),r=K.useCallback(()=>{if(e<=0)return;const a=[...[0,.5,1,1.5,2]].reverse().find(s=>e>s);a===1&&Qr.set("translate",{x:0,y:0}),a&&Qr.set("scale",a)},[e]);return{zoomIn:t,zoomOut:r}},WL=()=>{const e=Xo(),t=bt();return{props:{draggable:!0,src:e.url,onDoubleClickCapture:()=>{qL(t,e)}}}};Vn("img")({propsHook:WL});var VL=()=>{const e=Fi("currentPreview"),t=Fi("translate"),r=Fi("scale"),n=F.useRef(null),a=K.useMemo(()=>r<=1,[r]),{zoomIn:s,zoomOut:i}=UL();return K.useEffect(()=>{if(r<=1)return;const o=n.current?.getBoundingClientRect();o&&Qr.set("boundingClientRect",o)},[t.x,t.y,r]),{props:{draggable:!1,ref:n,src:e?.url,style:{cursor:a?"zoom-in":"zoom-out",transform:`scale(${r}) translate(${t.x+"px"}, ${t.y+"px"})`},onClick:o=>{o.stopPropagation(),a?s():i()}}}};Vn("img")({propsHook:VL});var{MediaProvider:$q,mediaStore:Mq,useMediaSet:Lq,useMediaStore:zq,useMediaValue:qq}=Hs({showCaption:!1},{name:"media"}),Ar=Us({isEditing:!1,url:""},{mutative:!0,name:"floatingMedia"}).extendActions(({set:e})=>({reset:()=>{e("url",""),e("isEditing",!1)}})),{useState:Uq,useValue:Wq}=Ar,HL=()=>{const e=Xo();return{props:{onClick:F.useCallback(()=>{Ar.set("url",e.url),Ar.set("isEditing",!0)},[e.url])}}};Vn("button")({propsHook:HL});var KL=(e,{element:t,plugin:r})=>{let n=Ar.get("url");if(n===t.url)return Ar.actions.reset(),!0;const{isUrl:a=Vd,transformUrl:s}=e.getOptions(r);if(a(n))return s&&(n=s(n)),e.tf.setNodes({url:n}),Ar.actions.reset(),e.tf.focus({at:e.selection}),!0},GL=({plugin:e})=>{const t=bt(),r=Xo();return Fd("enter",n=>{KL(t,{element:r,plugin:e})&&n.preventDefault()},{enableOnFormTags:["INPUT"]},[]),Fd("escape",()=>{Ar.get("isEditing")&&(Ar.actions.reset(),t.tf.focus({at:t.selection}))},{enableOnContentEditable:!0,enableOnFormTags:["INPUT"]},[]),{defaultValue:Ar.get("url")}},YL=({defaultValue:e})=>{const t=F.useCallback(r=>{Ar.set("url",r.target.value)},[]);return{props:{autoFocus:!0,defaultValue:e,onChange:t}}};Vn("input")({propsHook:YL,stateHook:GL});var en=(e,t)=>({code:e,data:t}),JL=e=>typeof e=="object"&&e!==null&&"code"in e&&"data"in e&&typeof e.data=="object"&&e.data!==null&&"files"in e.data&&Array.isArray(e.data.files),ZL={"application/andrew-inset":{extensions:["ez"],source:"iana"},"application/applixware":{extensions:["aw"],source:"apache"},"application/atom+xml":{extensions:["atom"],source:"iana"},"application/atomcat+xml":{extensions:["atomcat"],source:"iana"},"application/atomdeleted+xml":{extensions:["atomdeleted"],source:"iana"},"application/atomsvc+xml":{extensions:["atomsvc"],source:"iana"},"application/atsc-dwd+xml":{extensions:["dwd"],source:"iana"},"application/atsc-held+xml":{extensions:["held"],source:"iana"},"application/atsc-rsat+xml":{extensions:["rsat"],source:"iana"},"application/calendar+xml":{extensions:["xcs"],source:"iana"},"application/ccxml+xml":{extensions:["ccxml"],source:"iana"},"application/cdfx+xml":{extensions:["cdfx"],source:"iana"},"application/cdmi-capability":{extensions:["cdmia"],source:"iana"},"application/cdmi-container":{extensions:["cdmic"],source:"iana"},"application/cdmi-domain":{extensions:["cdmid"],source:"iana"},"application/cdmi-object":{extensions:["cdmio"],source:"iana"},"application/cdmi-queue":{extensions:["cdmiq"],source:"iana"},"application/cpl+xml":{extensions:["cpl"],source:"iana"},"application/cu-seeme":{extensions:["cu"],source:"apache"},"application/dash+xml":{extensions:["mpd"],source:"iana"},"application/dash-patch+xml":{extensions:["mpp"],source:"iana"},"application/davmount+xml":{extensions:["davmount"],source:"iana"},"application/dicom":{extensions:["dcm"],source:"iana"},"application/docbook+xml":{extensions:["dbk"],source:"apache"},"application/dssc+der":{extensions:["dssc"],source:"iana"},"application/dssc+xml":{extensions:["xdssc"],source:"iana"},"application/ecmascript":{extensions:["es","ecma"],source:"iana"},"application/emma+xml":{extensions:["emma"],source:"iana"},"application/emotionml+xml":{extensions:["emotionml"],source:"iana"},"application/epub+zip":{extensions:["epub"],source:"iana"},"application/exi":{extensions:["exi"],source:"iana"},"application/express":{extensions:["exp"],source:"iana"},"application/fdt+xml":{extensions:["fdt"],source:"iana"},"application/font-tdpfr":{extensions:["pfr"],source:"iana"},"application/geo+json":{extensions:["geojson"],source:"iana"},"application/gml+xml":{extensions:["gml"],source:"iana"},"application/gpx+xml":{extensions:["gpx"],source:"apache"},"application/gxf":{extensions:["gxf"],source:"apache"},"application/gzip":{extensions:["gz"],source:"iana"},"application/hyperstudio":{extensions:["stk"],source:"iana"},"application/inkml+xml":{extensions:["ink","inkml"],source:"iana"},"application/ipfix":{extensions:["ipfix"],source:"iana"},"application/its+xml":{extensions:["its"],source:"iana"},"application/java-archive":{extensions:["jar","war","ear"],source:"apache"},"application/java-serialized-object":{extensions:["ser"],source:"apache"},"application/java-vm":{extensions:["class"],source:"apache"},"application/javascript":{charset:"UTF-8",extensions:["js","mjs"],source:"iana"},"application/json":{charset:"UTF-8",extensions:["json","map"],source:"iana"},"application/jsonml+json":{extensions:["jsonml"],source:"apache"},"application/ld+json":{extensions:["jsonld"],source:"iana"},"application/lgr+xml":{extensions:["lgr"],source:"iana"},"application/lost+xml":{extensions:["lostxml"],source:"iana"},"application/mac-binhex40":{extensions:["hqx"],source:"iana"},"application/mac-compactpro":{extensions:["cpt"],source:"apache"},"application/mads+xml":{extensions:["mads"],source:"iana"},"application/manifest+json":{charset:"UTF-8",extensions:["webmanifest"],source:"iana"},"application/marc":{extensions:["mrc"],source:"iana"},"application/marcxml+xml":{extensions:["mrcx"],source:"iana"},"application/mathematica":{extensions:["ma","nb","mb"],source:"iana"},"application/mathml+xml":{extensions:["mathml"],source:"iana"},"application/mbox":{extensions:["mbox"],source:"iana"},"application/media-policy-dataset+xml":{extensions:["mpf"],source:"iana"},"application/mediaservercontrol+xml":{extensions:["mscml"],source:"iana"},"application/metalink4+xml":{extensions:["meta4"],source:"iana"},"application/metalink+xml":{extensions:["metalink"],source:"apache"},"application/mets+xml":{extensions:["mets"],source:"iana"},"application/mmt-aei+xml":{extensions:["maei"],source:"iana"},"application/mmt-usd+xml":{extensions:["musd"],source:"iana"},"application/mods+xml":{extensions:["mods"],source:"iana"},"application/mp4":{extensions:["mp4s","m4p"],source:"iana"},"application/mp21":{extensions:["m21","mp21"],source:"iana"},"application/msword":{extensions:["doc","dot"],source:"iana"},"application/mxf":{extensions:["mxf"],source:"iana"},"application/n-quads":{extensions:["nq"],source:"iana"},"application/n-triples":{extensions:["nt"],source:"iana"},"application/node":{extensions:["cjs"],source:"iana"},"application/octet-stream":{extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],source:"iana"},"application/oda":{extensions:["oda"],source:"iana"},"application/oebps-package+xml":{extensions:["opf"],source:"iana"},"application/ogg":{extensions:["ogx"],source:"iana"},"application/omdoc+xml":{extensions:["omdoc"],source:"apache"},"application/onenote":{extensions:["onetoc","onetoc2","onetmp","onepkg"],source:"apache"},"application/oxps":{extensions:["oxps"],source:"iana"},"application/p2p-overlay+xml":{extensions:["relo"],source:"iana"},"application/patch-ops-error+xml":{extensions:["xer"],source:"iana"},"application/pdf":{extensions:["pdf"],source:"iana"},"application/pgp-encrypted":{extensions:["pgp"],source:"iana"},"application/pgp-keys":{extensions:["asc"],source:"iana"},"application/pgp-signature":{extensions:["asc","sig"],source:"iana"},"application/pics-rules":{extensions:["prf"],source:"apache"},"application/pkcs7-mime":{extensions:["p7m","p7c"],source:"iana"},"application/pkcs7-signature":{extensions:["p7s"],source:"iana"},"application/pkcs8":{extensions:["p8"],source:"iana"},"application/pkcs10":{extensions:["p10"],source:"iana"},"application/pkix-attr-cert":{extensions:["ac"],source:"iana"},"application/pkix-cert":{extensions:["cer"],source:"iana"},"application/pkix-crl":{extensions:["crl"],source:"iana"},"application/pkix-pkipath":{extensions:["pkipath"],source:"iana"},"application/pkixcmp":{extensions:["pki"],source:"iana"},"application/pls+xml":{extensions:["pls"],source:"iana"},"application/postscript":{extensions:["ai","eps","ps"],source:"iana"},"application/provenance+xml":{extensions:["provx"],source:"iana"},"application/prs.cww":{extensions:["cww"],source:"iana"},"application/pskc+xml":{extensions:["pskcxml"],source:"iana"},"application/rdf+xml":{extensions:["rdf","owl"],source:"iana"},"application/reginfo+xml":{extensions:["rif"],source:"iana"},"application/relax-ng-compact-syntax":{extensions:["rnc"],source:"iana"},"application/resource-lists+xml":{extensions:["rl"],source:"iana"},"application/resource-lists-diff+xml":{extensions:["rld"],source:"iana"},"application/rls-services+xml":{extensions:["rs"],source:"iana"},"application/route-apd+xml":{extensions:["rapd"],source:"iana"},"application/route-s-tsid+xml":{extensions:["sls"],source:"iana"},"application/route-usd+xml":{extensions:["rusd"],source:"iana"},"application/rpki-ghostbusters":{extensions:["gbr"],source:"iana"},"application/rpki-manifest":{extensions:["mft"],source:"iana"},"application/rpki-roa":{extensions:["roa"],source:"iana"},"application/rsd+xml":{extensions:["rsd"],source:"apache"},"application/rss+xml":{extensions:["rss"],source:"apache"},"application/rtf":{extensions:["rtf"],source:"iana"},"application/sbml+xml":{extensions:["sbml"],source:"iana"},"application/scvp-cv-request":{extensions:["scq"],source:"iana"},"application/scvp-cv-response":{extensions:["scs"],source:"iana"},"application/scvp-vp-request":{extensions:["spq"],source:"iana"},"application/scvp-vp-response":{extensions:["spp"],source:"iana"},"application/sdp":{extensions:["sdp"],source:"iana"},"application/senml+xml":{extensions:["senmlx"],source:"iana"},"application/sensml+xml":{extensions:["sensmlx"],source:"iana"},"application/set-payment-initiation":{extensions:["setpay"],source:"iana"},"application/set-registration-initiation":{extensions:["setreg"],source:"iana"},"application/shf+xml":{extensions:["shf"],source:"iana"},"application/sieve":{extensions:["siv","sieve"],source:"iana"},"application/smil+xml":{extensions:["smi","smil"],source:"iana"},"application/sparql-query":{extensions:["rq"],source:"iana"},"application/sparql-results+xml":{extensions:["srx"],source:"iana"},"application/srgs":{extensions:["gram"],source:"iana"},"application/srgs+xml":{extensions:["grxml"],source:"iana"},"application/sru+xml":{extensions:["sru"],source:"iana"},"application/ssdl+xml":{extensions:["ssdl"],source:"apache"},"application/ssml+xml":{extensions:["ssml"],source:"iana"},"application/swid+xml":{extensions:["swidtag"],source:"iana"},"application/tei+xml":{extensions:["tei","teicorpus"],source:"iana"},"application/thraud+xml":{extensions:["tfi"],source:"iana"},"application/timestamped-data":{extensions:["tsd"],source:"iana"},"application/trig":{extensions:["trig"],source:"iana"},"application/ttml+xml":{extensions:["ttml"],source:"iana"},"application/urc-ressheet+xml":{extensions:["rsheet"],source:"iana"},"application/urc-targetdesc+xml":{extensions:["td"],source:"iana"},"application/vnd.3gpp2.tcap":{extensions:["tcap"],source:"iana"},"application/vnd.3gpp.pic-bw-large":{extensions:["plb"],source:"iana"},"application/vnd.3gpp.pic-bw-small":{extensions:["psb"],source:"iana"},"application/vnd.3gpp.pic-bw-var":{extensions:["pvb"],source:"iana"},"application/vnd.3m.post-it-notes":{extensions:["pwn"],source:"iana"},"application/vnd.1000minds.decision-model+xml":{extensions:["1km"],source:"iana"},"application/vnd.accpac.simply.aso":{extensions:["aso"],source:"iana"},"application/vnd.accpac.simply.imp":{extensions:["imp"],source:"iana"},"application/vnd.acucobol":{extensions:["acu"],source:"iana"},"application/vnd.acucorp":{extensions:["atc","acutc"],source:"iana"},"application/vnd.adobe.air-application-installer-package+zip":{extensions:["air"],source:"apache"},"application/vnd.adobe.formscentral.fcdt":{extensions:["fcdt"],source:"iana"},"application/vnd.adobe.fxp":{extensions:["fxp","fxpl"],source:"iana"},"application/vnd.adobe.xdp+xml":{extensions:["xdp"],source:"iana"},"application/vnd.adobe.xfdf":{extensions:["xfdf"],source:"iana"},"application/vnd.age":{extensions:["age"],source:"iana"},"application/vnd.ahead.space":{extensions:["ahead"],source:"iana"},"application/vnd.airzip.filesecure.azf":{extensions:["azf"],source:"iana"},"application/vnd.airzip.filesecure.azs":{extensions:["azs"],source:"iana"},"application/vnd.amazon.ebook":{extensions:["azw"],source:"apache"},"application/vnd.americandynamics.acc":{extensions:["acc"],source:"iana"},"application/vnd.amiga.ami":{extensions:["ami"],source:"iana"},"application/vnd.android.package-archive":{extensions:["apk"],source:"apache"},"application/vnd.anser-web-certificate-issue-initiation":{extensions:["cii"],source:"iana"},"application/vnd.anser-web-funds-transfer-initiation":{extensions:["fti"],source:"apache"},"application/vnd.antix.game-component":{extensions:["atx"],source:"iana"},"application/vnd.apple.installer+xml":{extensions:["mpkg"],source:"iana"},"application/vnd.apple.keynote":{extensions:["key"],source:"iana"},"application/vnd.apple.mpegurl":{extensions:["m3u8"],source:"iana"},"application/vnd.apple.numbers":{extensions:["numbers"],source:"iana"},"application/vnd.apple.pages":{extensions:["pages"],source:"iana"},"application/vnd.aristanetworks.swi":{extensions:["swi"],source:"iana"},"application/vnd.astraea-software.iota":{extensions:["iota"],source:"iana"},"application/vnd.audiograph":{extensions:["aep"],source:"iana"},"application/vnd.balsamiq.bmml+xml":{extensions:["bmml"],source:"iana"},"application/vnd.blueice.multipass":{extensions:["mpm"],source:"iana"},"application/vnd.bmi":{extensions:["bmi"],source:"iana"},"application/vnd.businessobjects":{extensions:["rep"],source:"iana"},"application/vnd.chemdraw+xml":{extensions:["cdxml"],source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{extensions:["mmd"],source:"iana"},"application/vnd.cinderella":{extensions:["cdy"],source:"iana"},"application/vnd.citationstyles.style+xml":{extensions:["csl"],source:"iana"},"application/vnd.claymore":{extensions:["cla"],source:"iana"},"application/vnd.cloanto.rp9":{extensions:["rp9"],source:"iana"},"application/vnd.clonk.c4group":{extensions:["c4g","c4d","c4f","c4p","c4u"],source:"iana"},"application/vnd.cluetrust.cartomobile-config":{extensions:["c11amc"],source:"iana"},"application/vnd.cluetrust.cartomobile-config-pkg":{extensions:["c11amz"],source:"iana"},"application/vnd.commonspace":{extensions:["csp"],source:"iana"},"application/vnd.contact.cmsg":{extensions:["cdbcmsg"],source:"iana"},"application/vnd.cosmocaller":{extensions:["cmc"],source:"iana"},"application/vnd.crick.clicker":{extensions:["clkx"],source:"iana"},"application/vnd.crick.clicker.keyboard":{extensions:["clkk"],source:"iana"},"application/vnd.crick.clicker.palette":{extensions:["clkp"],source:"iana"},"application/vnd.crick.clicker.template":{extensions:["clkt"],source:"iana"},"application/vnd.crick.clicker.wordbank":{extensions:["clkw"],source:"iana"},"application/vnd.criticaltools.wbs+xml":{extensions:["wbs"],source:"iana"},"application/vnd.ctc-posml":{extensions:["pml"],source:"iana"},"application/vnd.cups-ppd":{extensions:["ppd"],source:"iana"},"application/vnd.curl.car":{extensions:["car"],source:"apache"},"application/vnd.curl.pcurl":{extensions:["pcurl"],source:"apache"},"application/vnd.dart":{extensions:["dart"],source:"iana"},"application/vnd.data-vision.rdz":{extensions:["rdz"],source:"iana"},"application/vnd.dbf":{extensions:["dbf"],source:"iana"},"application/vnd.dece.data":{extensions:["uvf","uvvf","uvd","uvvd"],source:"iana"},"application/vnd.dece.ttml+xml":{extensions:["uvt","uvvt"],source:"iana"},"application/vnd.dece.unspecified":{extensions:["uvx","uvvx"],source:"iana"},"application/vnd.dece.zip":{extensions:["uvz","uvvz"],source:"iana"},"application/vnd.denovo.fcselayout-link":{extensions:["fe_launch"],source:"iana"},"application/vnd.dna":{extensions:["dna"],source:"iana"},"application/vnd.dolby.mlp":{extensions:["mlp"],source:"apache"},"application/vnd.dpgraph":{extensions:["dpg"],source:"iana"},"application/vnd.dreamfactory":{extensions:["dfac"],source:"iana"},"application/vnd.ds-keypoint":{extensions:["kpxx"],source:"apache"},"application/vnd.dvb.ait":{extensions:["ait"],source:"iana"},"application/vnd.dvb.service":{extensions:["svc"],source:"iana"},"application/vnd.dynageo":{extensions:["geo"],source:"iana"},"application/vnd.ecowin.chart":{extensions:["mag"],source:"iana"},"application/vnd.enliven":{extensions:["nml"],source:"iana"},"application/vnd.epson.esf":{extensions:["esf"],source:"iana"},"application/vnd.epson.msf":{extensions:["msf"],source:"iana"},"application/vnd.epson.quickanime":{extensions:["qam"],source:"iana"},"application/vnd.epson.salt":{extensions:["slt"],source:"iana"},"application/vnd.epson.ssf":{extensions:["ssf"],source:"iana"},"application/vnd.eszigno3+xml":{extensions:["es3","et3"],source:"iana"},"application/vnd.ezpix-album":{extensions:["ez2"],source:"iana"},"application/vnd.ezpix-package":{extensions:["ez3"],source:"iana"},"application/vnd.fdf":{extensions:["fdf"],source:"iana"},"application/vnd.fdsn.mseed":{extensions:["mseed"],source:"iana"},"application/vnd.fdsn.seed":{extensions:["seed","dataless"],source:"iana"},"application/vnd.flographit":{extensions:["gph"],source:"iana"},"application/vnd.fluxtime.clip":{extensions:["ftc"],source:"iana"},"application/vnd.framemaker":{extensions:["fm","frame","maker","book"],source:"iana"},"application/vnd.frogans.fnc":{extensions:["fnc"],source:"iana"},"application/vnd.frogans.ltf":{extensions:["ltf"],source:"iana"},"application/vnd.fsc.weblaunch":{extensions:["fsc"],source:"iana"},"application/vnd.fujitsu.oasys":{extensions:["oas"],source:"iana"},"application/vnd.fujitsu.oasys2":{extensions:["oa2"],source:"iana"},"application/vnd.fujitsu.oasys3":{extensions:["oa3"],source:"iana"},"application/vnd.fujitsu.oasysgp":{extensions:["fg5"],source:"iana"},"application/vnd.fujitsu.oasysprs":{extensions:["bh2"],source:"iana"},"application/vnd.fujixerox.ddd":{extensions:["ddd"],source:"iana"},"application/vnd.fujixerox.docuworks":{extensions:["xdw"],source:"iana"},"application/vnd.fujixerox.docuworks.binder":{extensions:["xbd"],source:"iana"},"application/vnd.fuzzysheet":{extensions:["fzs"],source:"iana"},"application/vnd.genomatix.tuxedo":{extensions:["txd"],source:"iana"},"application/vnd.geogebra.file":{extensions:["ggb"],source:"iana"},"application/vnd.geogebra.tool":{extensions:["ggt"],source:"iana"},"application/vnd.geometry-explorer":{extensions:["gex","gre"],source:"iana"},"application/vnd.geonext":{extensions:["gxt"],source:"iana"},"application/vnd.geoplan":{extensions:["g2w"],source:"iana"},"application/vnd.geospace":{extensions:["g3w"],source:"iana"},"application/vnd.gmx":{extensions:["gmx"],source:"iana"},"application/vnd.google-earth.kml+xml":{extensions:["kml"],source:"iana"},"application/vnd.google-earth.kmz":{extensions:["kmz"],source:"iana"},"application/vnd.grafeq":{extensions:["gqf","gqs"],source:"iana"},"application/vnd.groove-account":{extensions:["gac"],source:"iana"},"application/vnd.groove-help":{extensions:["ghf"],source:"iana"},"application/vnd.groove-identity-message":{extensions:["gim"],source:"iana"},"application/vnd.groove-injector":{extensions:["grv"],source:"iana"},"application/vnd.groove-tool-message":{extensions:["gtm"],source:"iana"},"application/vnd.groove-tool-template":{extensions:["tpl"],source:"iana"},"application/vnd.groove-vcard":{extensions:["vcg"],source:"iana"},"application/vnd.hal+xml":{extensions:["hal"],source:"iana"},"application/vnd.handheld-entertainment+xml":{extensions:["zmm"],source:"iana"},"application/vnd.hbci":{extensions:["hbci"],source:"iana"},"application/vnd.hhe.lesson-player":{extensions:["les"],source:"iana"},"application/vnd.hp-hpgl":{extensions:["hpgl"],source:"iana"},"application/vnd.hp-hpid":{extensions:["hpid"],source:"iana"},"application/vnd.hp-hps":{extensions:["hps"],source:"iana"},"application/vnd.hp-jlyt":{extensions:["jlt"],source:"iana"},"application/vnd.hp-pcl":{extensions:["pcl"],source:"iana"},"application/vnd.hp-pclxl":{extensions:["pclxl"],source:"iana"},"application/vnd.hydrostatix.sof-data":{extensions:["sfd-hdstx"],source:"iana"},"application/vnd.ibm.minipay":{extensions:["mpy"],source:"iana"},"application/vnd.ibm.modcap":{extensions:["afp","listafp","list3820"],source:"iana"},"application/vnd.ibm.rights-management":{extensions:["irm"],source:"iana"},"application/vnd.ibm.secure-container":{extensions:["sc"],source:"iana"},"application/vnd.iccprofile":{extensions:["icc","icm"],source:"iana"},"application/vnd.igloader":{extensions:["igl"],source:"iana"},"application/vnd.immervision-ivp":{extensions:["ivp"],source:"iana"},"application/vnd.immervision-ivu":{extensions:["ivu"],source:"iana"},"application/vnd.insors.igm":{extensions:["igm"],source:"iana"},"application/vnd.intercon.formnet":{extensions:["xpw","xpx"],source:"iana"},"application/vnd.intergeo":{extensions:["i2g"],source:"iana"},"application/vnd.intu.qbo":{extensions:["qbo"],source:"iana"},"application/vnd.intu.qfx":{extensions:["qfx"],source:"iana"},"application/vnd.ipunplugged.rcprofile":{extensions:["rcprofile"],source:"iana"},"application/vnd.irepository.package+xml":{extensions:["irp"],source:"iana"},"application/vnd.is-xpr":{extensions:["xpr"],source:"iana"},"application/vnd.isac.fcs":{extensions:["fcs"],source:"iana"},"application/vnd.jam":{extensions:["jam"],source:"iana"},"application/vnd.jcp.javame.midlet-rms":{extensions:["rms"],source:"iana"},"application/vnd.jisp":{extensions:["jisp"],source:"iana"},"application/vnd.joost.joda-archive":{extensions:["joda"],source:"iana"},"application/vnd.kahootz":{extensions:["ktz","ktr"],source:"iana"},"application/vnd.kde.karbon":{extensions:["karbon"],source:"iana"},"application/vnd.kde.kchart":{extensions:["chrt"],source:"iana"},"application/vnd.kde.kformula":{extensions:["kfo"],source:"iana"},"application/vnd.kde.kivio":{extensions:["flw"],source:"iana"},"application/vnd.kde.kontour":{extensions:["kon"],source:"iana"},"application/vnd.kde.kpresenter":{extensions:["kpr","kpt"],source:"iana"},"application/vnd.kde.kspread":{extensions:["ksp"],source:"iana"},"application/vnd.kde.kword":{extensions:["kwd","kwt"],source:"iana"},"application/vnd.kenameaapp":{extensions:["htke"],source:"iana"},"application/vnd.kidspiration":{extensions:["kia"],source:"iana"},"application/vnd.kinar":{extensions:["kne","knp"],source:"iana"},"application/vnd.koan":{extensions:["skp","skd","skt","skm"],source:"iana"},"application/vnd.kodak-descriptor":{extensions:["sse"],source:"iana"},"application/vnd.las.las+xml":{extensions:["lasxml"],source:"iana"},"application/vnd.llamagraphics.life-balance.desktop":{extensions:["lbd"],source:"iana"},"application/vnd.llamagraphics.life-balance.exchange+xml":{extensions:["lbe"],source:"iana"},"application/vnd.lotus-1-2-3":{extensions:["123"],source:"iana"},"application/vnd.lotus-approach":{extensions:["apr"],source:"iana"},"application/vnd.lotus-freelance":{extensions:["pre"],source:"iana"},"application/vnd.lotus-notes":{extensions:["nsf"],source:"iana"},"application/vnd.lotus-organizer":{extensions:["org"],source:"iana"},"application/vnd.lotus-screencam":{extensions:["scm"],source:"iana"},"application/vnd.lotus-wordpro":{extensions:["lwp"],source:"iana"},"application/vnd.macports.portpkg":{extensions:["portpkg"],source:"iana"},"application/vnd.mapbox-vector-tile":{extensions:["mvt"],source:"iana"},"application/vnd.mcd":{extensions:["mcd"],source:"iana"},"application/vnd.medcalcdata":{extensions:["mc1"],source:"iana"},"application/vnd.mediastation.cdkey":{extensions:["cdkey"],source:"iana"},"application/vnd.mfer":{extensions:["mwf"],source:"iana"},"application/vnd.mfmp":{extensions:["mfm"],source:"iana"},"application/vnd.micrografx.flo":{extensions:["flo"],source:"iana"},"application/vnd.micrografx.igx":{extensions:["igx"],source:"iana"},"application/vnd.mif":{extensions:["mif"],source:"iana"},"application/vnd.mobius.daf":{extensions:["daf"],source:"iana"},"application/vnd.mobius.dis":{extensions:["dis"],source:"iana"},"application/vnd.mobius.mbk":{extensions:["mbk"],source:"iana"},"application/vnd.mobius.mqy":{extensions:["mqy"],source:"iana"},"application/vnd.mobius.msl":{extensions:["msl"],source:"iana"},"application/vnd.mobius.plc":{extensions:["plc"],source:"iana"},"application/vnd.mobius.txf":{extensions:["txf"],source:"iana"},"application/vnd.mophun.application":{extensions:["mpn"],source:"iana"},"application/vnd.mophun.certificate":{extensions:["mpc"],source:"iana"},"application/vnd.mozilla.xul+xml":{extensions:["xul"],source:"iana"},"application/vnd.ms-artgalry":{extensions:["cil"],source:"iana"},"application/vnd.ms-cab-compressed":{extensions:["cab"],source:"iana"},"application/vnd.ms-excel":{extensions:["xls","xlm","xla","xlc","xlt","xlw"],source:"iana"},"application/vnd.ms-excel.addin.macroenabled.12":{extensions:["xlam"],source:"iana"},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{extensions:["xlsb"],source:"iana"},"application/vnd.ms-excel.sheet.macroenabled.12":{extensions:["xlsm"],source:"iana"},"application/vnd.ms-excel.template.macroenabled.12":{extensions:["xltm"],source:"iana"},"application/vnd.ms-fontobject":{extensions:["eot"],source:"iana"},"application/vnd.ms-htmlhelp":{extensions:["chm"],source:"iana"},"application/vnd.ms-ims":{extensions:["ims"],source:"iana"},"application/vnd.ms-lrm":{extensions:["lrm"],source:"iana"},"application/vnd.ms-officetheme":{extensions:["thmx"],source:"iana"},"application/vnd.ms-pki.seccat":{extensions:["cat"],source:"apache"},"application/vnd.ms-pki.stl":{extensions:["stl"],source:"apache"},"application/vnd.ms-powerpoint":{extensions:["ppt","pps","pot"],source:"iana"},"application/vnd.ms-powerpoint.addin.macroenabled.12":{extensions:["ppam"],source:"iana"},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{extensions:["pptm"],source:"iana"},"application/vnd.ms-powerpoint.slide.macroenabled.12":{extensions:["sldm"],source:"iana"},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{extensions:["ppsm"],source:"iana"},"application/vnd.ms-powerpoint.template.macroenabled.12":{extensions:["potm"],source:"iana"},"application/vnd.ms-project":{extensions:["mpp","mpt"],source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{extensions:["docm"],source:"iana"},"application/vnd.ms-word.template.macroenabled.12":{extensions:["dotm"],source:"iana"},"application/vnd.ms-works":{extensions:["wps","wks","wcm","wdb"],source:"iana"},"application/vnd.ms-wpl":{extensions:["wpl"],source:"iana"},"application/vnd.ms-xpsdocument":{extensions:["xps"],source:"iana"},"application/vnd.mseq":{extensions:["mseq"],source:"iana"},"application/vnd.musician":{extensions:["mus"],source:"iana"},"application/vnd.muvee.style":{extensions:["msty"],source:"iana"},"application/vnd.mynfc":{extensions:["taglet"],source:"iana"},"application/vnd.neurolanguage.nlu":{extensions:["nlu"],source:"iana"},"application/vnd.nitf":{extensions:["ntf","nitf"],source:"iana"},"application/vnd.noblenet-directory":{extensions:["nnd"],source:"iana"},"application/vnd.noblenet-sealer":{extensions:["nns"],source:"iana"},"application/vnd.noblenet-web":{extensions:["nnw"],source:"iana"},"application/vnd.nokia.n-gage.ac+xml":{extensions:["ac"],source:"iana"},"application/vnd.nokia.n-gage.data":{extensions:["ngdat"],source:"iana"},"application/vnd.nokia.n-gage.symbian.install":{extensions:["n-gage"],source:"iana"},"application/vnd.nokia.radio-preset":{extensions:["rpst"],source:"iana"},"application/vnd.nokia.radio-presets":{extensions:["rpss"],source:"iana"},"application/vnd.novadigm.edm":{extensions:["edm"],source:"iana"},"application/vnd.novadigm.edx":{extensions:["edx"],source:"iana"},"application/vnd.novadigm.ext":{extensions:["ext"],source:"iana"},"application/vnd.oasis.opendocument.chart":{extensions:["odc"],source:"iana"},"application/vnd.oasis.opendocument.chart-template":{extensions:["otc"],source:"iana"},"application/vnd.oasis.opendocument.database":{extensions:["odb"],source:"iana"},"application/vnd.oasis.opendocument.formula":{extensions:["odf"],source:"iana"},"application/vnd.oasis.opendocument.formula-template":{extensions:["odft"],source:"iana"},"application/vnd.oasis.opendocument.graphics":{extensions:["odg"],source:"iana"},"application/vnd.oasis.opendocument.graphics-template":{extensions:["otg"],source:"iana"},"application/vnd.oasis.opendocument.image":{extensions:["odi"],source:"iana"},"application/vnd.oasis.opendocument.image-template":{extensions:["oti"],source:"iana"},"application/vnd.oasis.opendocument.presentation":{extensions:["odp"],source:"iana"},"application/vnd.oasis.opendocument.presentation-template":{extensions:["otp"],source:"iana"},"application/vnd.oasis.opendocument.spreadsheet":{extensions:["ods"],source:"iana"},"application/vnd.oasis.opendocument.spreadsheet-template":{extensions:["ots"],source:"iana"},"application/vnd.oasis.opendocument.text":{extensions:["odt"],source:"iana"},"application/vnd.oasis.opendocument.text-master":{extensions:["odm"],source:"iana"},"application/vnd.oasis.opendocument.text-template":{extensions:["ott"],source:"iana"},"application/vnd.oasis.opendocument.text-web":{extensions:["oth"],source:"iana"},"application/vnd.olpc-sugar":{extensions:["xo"],source:"iana"},"application/vnd.oma.dd2+xml":{extensions:["dd2"],source:"iana"},"application/vnd.openblox.game+xml":{extensions:["obgx"],source:"iana"},"application/vnd.openofficeorg.extension":{extensions:["oxt"],source:"apache"},"application/vnd.openstreetmap.data+xml":{extensions:["osm"],source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{extensions:["pptx"],source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slide":{extensions:["sldx"],source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{extensions:["ppsx"],source:"iana"},"application/vnd.openxmlformats-officedocument.presentationml.template":{extensions:["potx"],source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{extensions:["xlsx"],source:"iana"},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{extensions:["xltx"],source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{extensions:["docx"],source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{extensions:["dotx"],source:"iana"},"application/vnd.osgeo.mapguide.package":{extensions:["mgp"],source:"iana"},"application/vnd.osgi.dp":{extensions:["dp"],source:"iana"},"application/vnd.osgi.subsystem":{extensions:["esa"],source:"iana"},"application/vnd.palm":{extensions:["pdb","pqa","oprc"],source:"iana"},"application/vnd.pawaafile":{extensions:["paw"],source:"iana"},"application/vnd.pg.format":{extensions:["str"],source:"iana"},"application/vnd.pg.osasli":{extensions:["ei6"],source:"iana"},"application/vnd.picsel":{extensions:["efif"],source:"iana"},"application/vnd.pmi.widget":{extensions:["wg"],source:"iana"},"application/vnd.pocketlearn":{extensions:["plf"],source:"iana"},"application/vnd.powerbuilder6":{extensions:["pbd"],source:"iana"},"application/vnd.previewsystems.box":{extensions:["box"],source:"iana"},"application/vnd.proteus.magazine":{extensions:["mgz"],source:"iana"},"application/vnd.publishare-delta-tree":{extensions:["qps"],source:"iana"},"application/vnd.pvi.ptid1":{extensions:["ptid"],source:"iana"},"application/vnd.quark.quarkxpress":{extensions:["qxd","qxt","qwd","qwt","qxl","qxb"],source:"iana"},"application/vnd.rar":{extensions:["rar"],source:"iana"},"application/vnd.realvnc.bed":{extensions:["bed"],source:"iana"},"application/vnd.recordare.musicxml":{extensions:["mxl"],source:"iana"},"application/vnd.recordare.musicxml+xml":{extensions:["musicxml"],source:"iana"},"application/vnd.rig.cryptonote":{extensions:["cryptonote"],source:"iana"},"application/vnd.rim.cod":{extensions:["cod"],source:"apache"},"application/vnd.rn-realmedia":{extensions:["rm"],source:"apache"},"application/vnd.rn-realmedia-vbr":{extensions:["rmvb"],source:"apache"},"application/vnd.route66.link66+xml":{extensions:["link66"],source:"iana"},"application/vnd.sailingtracker.track":{extensions:["st"],source:"iana"},"application/vnd.seemail":{extensions:["see"],source:"iana"},"application/vnd.sema":{extensions:["sema"],source:"iana"},"application/vnd.semd":{extensions:["semd"],source:"iana"},"application/vnd.semf":{extensions:["semf"],source:"iana"},"application/vnd.shana.informed.formdata":{extensions:["ifm"],source:"iana"},"application/vnd.shana.informed.formtemplate":{extensions:["itp"],source:"iana"},"application/vnd.shana.informed.interchange":{extensions:["iif"],source:"iana"},"application/vnd.shana.informed.package":{extensions:["ipk"],source:"iana"},"application/vnd.simtech-mindmapper":{extensions:["twd","twds"],source:"iana"},"application/vnd.smaf":{extensions:["mmf"],source:"iana"},"application/vnd.smart.teacher":{extensions:["teacher"],source:"iana"},"application/vnd.software602.filler.form+xml":{extensions:["fo"],source:"iana"},"application/vnd.solent.sdkm+xml":{extensions:["sdkm","sdkd"],source:"iana"},"application/vnd.spotfire.dxp":{extensions:["dxp"],source:"iana"},"application/vnd.spotfire.sfs":{extensions:["sfs"],source:"iana"},"application/vnd.stardivision.calc":{extensions:["sdc"],source:"apache"},"application/vnd.stardivision.draw":{extensions:["sda"],source:"apache"},"application/vnd.stardivision.impress":{extensions:["sdd"],source:"apache"},"application/vnd.stardivision.math":{extensions:["smf"],source:"apache"},"application/vnd.stardivision.writer":{extensions:["sdw","vor"],source:"apache"},"application/vnd.stardivision.writer-global":{extensions:["sgl"],source:"apache"},"application/vnd.stepmania.package":{extensions:["smzip"],source:"iana"},"application/vnd.stepmania.stepchart":{extensions:["sm"],source:"iana"},"application/vnd.sun.wadl+xml":{extensions:["wadl"],source:"iana"},"application/vnd.sun.xml.calc":{extensions:["sxc"],source:"apache"},"application/vnd.sun.xml.calc.template":{extensions:["stc"],source:"apache"},"application/vnd.sun.xml.draw":{extensions:["sxd"],source:"apache"},"application/vnd.sun.xml.draw.template":{extensions:["std"],source:"apache"},"application/vnd.sun.xml.impress":{extensions:["sxi"],source:"apache"},"application/vnd.sun.xml.impress.template":{extensions:["sti"],source:"apache"},"application/vnd.sun.xml.math":{extensions:["sxm"],source:"apache"},"application/vnd.sun.xml.writer":{extensions:["sxw"],source:"apache"},"application/vnd.sun.xml.writer.global":{extensions:["sxg"],source:"apache"},"application/vnd.sun.xml.writer.template":{extensions:["stw"],source:"apache"},"application/vnd.sus-calendar":{extensions:["sus","susp"],source:"iana"},"application/vnd.svd":{extensions:["svd"],source:"iana"},"application/vnd.symbian.install":{extensions:["sis","sisx"],source:"apache"},"application/vnd.syncml+xml":{charset:"UTF-8",extensions:["xsm"],source:"iana"},"application/vnd.syncml.dm+wbxml":{charset:"UTF-8",extensions:["bdm"],source:"iana"},"application/vnd.syncml.dm+xml":{charset:"UTF-8",extensions:["xdm"],source:"iana"},"application/vnd.syncml.dmddf+xml":{charset:"UTF-8",extensions:["ddf"],source:"iana"},"application/vnd.tao.intent-module-archive":{extensions:["tao"],source:"iana"},"application/vnd.tcpdump.pcap":{extensions:["pcap","cap","dmp"],source:"iana"},"application/vnd.tmobile-livetv":{extensions:["tmo"],source:"iana"},"application/vnd.trid.tpt":{extensions:["tpt"],source:"iana"},"application/vnd.triscape.mxs":{extensions:["mxs"],source:"iana"},"application/vnd.trueapp":{extensions:["tra"],source:"iana"},"application/vnd.ufdl":{extensions:["ufd","ufdl"],source:"iana"},"application/vnd.uiq.theme":{extensions:["utz"],source:"iana"},"application/vnd.umajin":{extensions:["umj"],source:"iana"},"application/vnd.unity":{extensions:["unityweb"],source:"iana"},"application/vnd.uoml+xml":{extensions:["uoml"],source:"iana"},"application/vnd.vcx":{extensions:["vcx"],source:"iana"},"application/vnd.visio":{extensions:["vsd","vst","vss","vsw"],source:"iana"},"application/vnd.visionary":{extensions:["vis"],source:"iana"},"application/vnd.vsf":{extensions:["vsf"],source:"iana"},"application/vnd.wap.wbxml":{charset:"UTF-8",extensions:["wbxml"],source:"iana"},"application/vnd.wap.wmlc":{extensions:["wmlc"],source:"iana"},"application/vnd.wap.wmlscriptc":{extensions:["wmlsc"],source:"iana"},"application/vnd.webturbo":{extensions:["wtb"],source:"iana"},"application/vnd.wolfram.player":{extensions:["nbp"],source:"iana"},"application/vnd.wordperfect":{extensions:["wpd"],source:"iana"},"application/vnd.wqd":{extensions:["wqd"],source:"iana"},"application/vnd.wt.stf":{extensions:["stf"],source:"iana"},"application/vnd.xara":{extensions:["xar"],source:"iana"},"application/vnd.xfdl":{extensions:["xfdl"],source:"iana"},"application/vnd.yamaha.hv-dic":{extensions:["hvd"],source:"iana"},"application/vnd.yamaha.hv-script":{extensions:["hvs"],source:"iana"},"application/vnd.yamaha.hv-voice":{extensions:["hvp"],source:"iana"},"application/vnd.yamaha.openscoreformat":{extensions:["osf"],source:"iana"},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{extensions:["osfpvg"],source:"iana"},"application/vnd.yamaha.smaf-audio":{extensions:["saf"],source:"iana"},"application/vnd.yamaha.smaf-phrase":{extensions:["spf"],source:"iana"},"application/vnd.yellowriver-custom-menu":{extensions:["cmp"],source:"iana"},"application/vnd.zul":{extensions:["zir","zirz"],source:"iana"},"application/vnd.zzazz.deck+xml":{extensions:["zaz"],source:"iana"},"application/voicexml+xml":{extensions:["vxml"],source:"iana"},"application/wasm":{extensions:["wasm"],source:"iana"},"application/watcherinfo+xml":{extensions:["wif"],source:"iana"},"application/widget":{extensions:["wgt"],source:"iana"},"application/winhlp":{extensions:["hlp"],source:"apache"},"application/wsdl+xml":{extensions:["wsdl"],source:"iana"},"application/wspolicy+xml":{extensions:["wspolicy"],source:"iana"},"application/x-7z-compressed":{extensions:["7z"],source:"apache"},"application/x-abiword":{extensions:["abw"],source:"apache"},"application/x-ace-compressed":{extensions:["ace"],source:"apache"},"application/x-apple-diskimage":{extensions:["dmg"],source:"apache"},"application/x-authorware-bin":{extensions:["aab","x32","u32","vox"],source:"apache"},"application/x-authorware-map":{extensions:["aam"],source:"apache"},"application/x-authorware-seg":{extensions:["aas"],source:"apache"},"application/x-bcpio":{extensions:["bcpio"],source:"apache"},"application/x-bittorrent":{extensions:["torrent"],source:"apache"},"application/x-blorb":{extensions:["blb","blorb"],source:"apache"},"application/x-bzip":{extensions:["bz"],source:"apache"},"application/x-bzip2":{extensions:["bz2","boz"],source:"apache"},"application/x-cbr":{extensions:["cbr","cba","cbt","cbz","cb7"],source:"apache"},"application/x-cdlink":{extensions:["vcd"],source:"apache"},"application/x-cfs-compressed":{extensions:["cfs"],source:"apache"},"application/x-chat":{extensions:["chat"],source:"apache"},"application/x-chess-pgn":{extensions:["pgn"],source:"apache"},"application/x-cocoa":{extensions:["cco"],source:"nginx"},"application/x-conference":{extensions:["nsc"],source:"apache"},"application/x-cpio":{extensions:["cpio"],source:"apache"},"application/x-csh":{extensions:["csh"],source:"apache"},"application/x-debian-package":{extensions:["deb","udeb"],source:"apache"},"application/x-dgc-compressed":{extensions:["dgc"],source:"apache"},"application/x-director":{extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],source:"apache"},"application/x-doom":{extensions:["wad"],source:"apache"},"application/x-dtbncx+xml":{extensions:["ncx"],source:"apache"},"application/x-dtbook+xml":{extensions:["dtb"],source:"apache"},"application/x-dtbresource+xml":{extensions:["res"],source:"apache"},"application/x-dvi":{extensions:["dvi"],source:"apache"},"application/x-envoy":{extensions:["evy"],source:"apache"},"application/x-eva":{extensions:["eva"],source:"apache"},"application/x-font-bdf":{extensions:["bdf"],source:"apache"},"application/x-font-ghostscript":{extensions:["gsf"],source:"apache"},"application/x-font-linux-psf":{extensions:["psf"],source:"apache"},"application/x-font-pcf":{extensions:["pcf"],source:"apache"},"application/x-font-snf":{extensions:["snf"],source:"apache"},"application/x-font-type1":{extensions:["pfa","pfb","pfm","afm"],source:"apache"},"application/x-freearc":{extensions:["arc"],source:"apache"},"application/x-futuresplash":{extensions:["spl"],source:"apache"},"application/x-gca-compressed":{extensions:["gca"],source:"apache"},"application/x-glulx":{extensions:["ulx"],source:"apache"},"application/x-gnumeric":{extensions:["gnumeric"],source:"apache"},"application/x-gramps-xml":{extensions:["gramps"],source:"apache"},"application/x-gtar":{extensions:["gtar"],source:"apache"},"application/x-hdf":{extensions:["hdf"],source:"apache"},"application/x-install-instructions":{extensions:["install"],source:"apache"},"application/x-iso9660-image":{extensions:["iso"],source:"apache"},"application/x-java-archive-diff":{extensions:["jardiff"],source:"nginx"},"application/x-java-jnlp-file":{extensions:["jnlp"],source:"apache"},"application/x-latex":{extensions:["latex"],source:"apache"},"application/x-lzh-compressed":{extensions:["lzh","lha"],source:"apache"},"application/x-makeself":{extensions:["run"],source:"nginx"},"application/x-mie":{extensions:["mie"],source:"apache"},"application/x-mobipocket-ebook":{extensions:["prc","mobi"],source:"apache"},"application/x-ms-application":{extensions:["application"],source:"apache"},"application/x-ms-shortcut":{extensions:["lnk"],source:"apache"},"application/x-ms-wmd":{extensions:["wmd"],source:"apache"},"application/x-ms-wmz":{extensions:["wmz"],source:"apache"},"application/x-ms-xbap":{extensions:["xbap"],source:"apache"},"application/x-msaccess":{extensions:["mdb"],source:"apache"},"application/x-msbinder":{extensions:["obd"],source:"apache"},"application/x-mscardfile":{extensions:["crd"],source:"apache"},"application/x-msclip":{extensions:["clp"],source:"apache"},"application/x-msdownload":{extensions:["exe","dll","com","bat","msi"],source:"apache"},"application/x-msmediaview":{extensions:["mvb","m13","m14"],source:"apache"},"application/x-msmetafile":{extensions:["wmf","wmz","emf","emz"],source:"apache"},"application/x-msmoney":{extensions:["mny"],source:"apache"},"application/x-mspublisher":{extensions:["pub"],source:"apache"},"application/x-msschedule":{extensions:["scd"],source:"apache"},"application/x-msterminal":{extensions:["trm"],source:"apache"},"application/x-mswrite":{extensions:["wri"],source:"apache"},"application/x-netcdf":{extensions:["nc","cdf"],source:"apache"},"application/x-nzb":{extensions:["nzb"],source:"apache"},"application/x-perl":{extensions:["pl","pm"],source:"nginx"},"application/x-pilot":{extensions:["prc","pdb"],source:"nginx"},"application/x-pkcs7-certificates":{extensions:["p7b","spc"],source:"apache"},"application/x-pkcs7-certreqresp":{extensions:["p7r"],source:"apache"},"application/x-pkcs12":{extensions:["p12","pfx"],source:"apache"},"application/x-rar-compressed":{extensions:["rar"],source:"apache"},"application/x-redhat-package-manager":{extensions:["rpm"],source:"nginx"},"application/x-research-info-systems":{extensions:["ris"],source:"apache"},"application/x-sea":{extensions:["sea"],source:"nginx"},"application/x-sh":{extensions:["sh"],source:"apache"},"application/x-shar":{extensions:["shar"],source:"apache"},"application/x-shockwave-flash":{extensions:["swf"],source:"apache"},"application/x-silverlight-app":{extensions:["xap"],source:"apache"},"application/x-sql":{extensions:["sql"],source:"apache"},"application/x-stuffit":{extensions:["sit"],source:"apache"},"application/x-stuffitx":{extensions:["sitx"],source:"apache"},"application/x-subrip":{extensions:["srt"],source:"apache"},"application/x-sv4cpio":{extensions:["sv4cpio"],source:"apache"},"application/x-sv4crc":{extensions:["sv4crc"],source:"apache"},"application/x-t3vm-image":{extensions:["t3"],source:"apache"},"application/x-tads":{extensions:["gam"],source:"apache"},"application/x-tar":{extensions:["tar"],source:"apache"},"application/x-tcl":{extensions:["tcl","tk"],source:"apache"},"application/x-tex":{extensions:["tex"],source:"apache"},"application/x-tex-tfm":{extensions:["tfm"],source:"apache"},"application/x-texinfo":{extensions:["texinfo","texi"],source:"apache"},"application/x-tgif":{extensions:["obj"],source:"apache"},"application/x-ustar":{extensions:["ustar"],source:"apache"},"application/x-wais-source":{extensions:["src"],source:"apache"},"application/x-x509-ca-cert":{extensions:["der","crt","pem"],source:"iana"},"application/x-xfig":{extensions:["fig"],source:"apache"},"application/x-xliff+xml":{extensions:["xlf"],source:"apache"},"application/x-xpinstall":{extensions:["xpi"],source:"apache"},"application/x-xz":{extensions:["xz"],source:"apache"},"application/x-zmachine":{extensions:["z1","z2","z3","z4","z5","z6","z7","z8"],source:"apache"},"application/xaml+xml":{extensions:["xaml"],source:"apache"},"application/xcap-att+xml":{extensions:["xav"],source:"iana"},"application/xcap-caps+xml":{extensions:["xca"],source:"iana"},"application/xcap-diff+xml":{extensions:["xdf"],source:"iana"},"application/xcap-el+xml":{extensions:["xel"],source:"iana"},"application/xcap-ns+xml":{extensions:["xns"],source:"iana"},"application/xenc+xml":{extensions:["xenc"],source:"iana"},"application/xhtml+xml":{extensions:["xhtml","xht"],source:"iana"},"application/xliff+xml":{extensions:["xlf"],source:"iana"},"application/xml":{extensions:["xml","xsl","xsd","rng"],source:"iana"},"application/xml-dtd":{extensions:["dtd"],source:"iana"},"application/xop+xml":{extensions:["xop"],source:"iana"},"application/xproc+xml":{extensions:["xpl"],source:"apache"},"application/xslt+xml":{extensions:["xsl","xslt"],source:"iana"},"application/xspf+xml":{extensions:["xspf"],source:"apache"},"application/xv+xml":{extensions:["mxml","xhvml","xvml","xvm"],source:"iana"},"application/yaml":{extensions:["yaml","yml"],source:"iana"},"application/yang":{extensions:["yang"],source:"iana"},"application/yin+xml":{extensions:["yin"],source:"iana"},"application/zip":{extensions:["zip"],source:"iana"}},XL={"audio/3gpp":{extensions:["3gpp"],source:"iana"},"audio/adpcm":{extensions:["adp"],source:"apache"},"audio/amr":{extensions:["amr"],source:"iana"},"audio/basic":{extensions:["au","snd"],source:"iana"},"audio/midi":{extensions:["mid","midi","kar","rmi"],source:"apache"},"audio/mobile-xmf":{extensions:["mxmf"],source:"iana"},"audio/mp4":{extensions:["m4a","mp4a"],source:"iana"},"audio/mpeg":{extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"],source:"iana"},"audio/ogg":{extensions:["oga","ogg","spx","opus"],source:"iana"},"audio/s3m":{extensions:["s3m"],source:"apache"},"audio/silk":{extensions:["sil"],source:"apache"},"audio/vnd.dece.audio":{extensions:["uva","uvva"],source:"iana"},"audio/vnd.digital-winds":{extensions:["eol"],source:"iana"},"audio/vnd.dra":{extensions:["dra"],source:"iana"},"audio/vnd.dts":{extensions:["dts"],source:"iana"},"audio/vnd.dts.hd":{extensions:["dtshd"],source:"iana"},"audio/vnd.lucent.voice":{extensions:["lvp"],source:"iana"},"audio/vnd.ms-playready.media.pya":{extensions:["pya"],source:"iana"},"audio/vnd.nuera.ecelp4800":{extensions:["ecelp4800"],source:"iana"},"audio/vnd.nuera.ecelp7470":{extensions:["ecelp7470"],source:"iana"},"audio/vnd.nuera.ecelp9600":{extensions:["ecelp9600"],source:"iana"},"audio/vnd.rip":{extensions:["rip"],source:"iana"},"audio/webm":{extensions:["weba"],source:"apache"},"audio/x-aac":{extensions:["aac"],source:"apache"},"audio/x-aiff":{extensions:["aif","aiff","aifc"],source:"apache"},"audio/x-caf":{extensions:["caf"],source:"apache"},"audio/x-flac":{extensions:["flac"],source:"apache"},"audio/x-gsm":{extensions:["gsm"],source:"apache"},"audio/x-m4a":{extensions:["m4a"],source:"nginx"},"audio/x-matroska":{extensions:["mka"],source:"apache"},"audio/x-mpegurl":{extensions:["m3u"],source:"apache"},"audio/x-ms-wax":{extensions:["wax"],source:"apache"},"audio/x-ms-wma":{extensions:["wma"],source:"apache"},"audio/x-pn-realaudio":{extensions:["ram","ra"],source:"apache"},"audio/x-pn-realaudio-plugin":{extensions:["rmp"],source:"apache"},"audio/x-realaudio":{extensions:["ra"],source:"nginx"},"audio/x-wav":{extensions:["wav"],source:"apache"},"audio/xm":{extensions:["xm"],source:"apache"}},QL={"image/aces":{extensions:["exr"],source:"iana"},"image/avci":{extensions:["avci"],source:"iana"},"image/avcs":{extensions:["avcs"],source:"iana"},"image/avif":{extensions:["avif"],source:"iana"},"image/bmp":{extensions:["bmp"],source:"iana"},"image/cgm":{extensions:["cgm"],source:"iana"},"image/dicom-rle":{extensions:["drle"],source:"iana"},"image/emf":{extensions:["emf"],source:"iana"},"image/fits":{extensions:["fits"],source:"iana"},"image/g3fax":{extensions:["g3"],source:"iana"},"image/gif":{extensions:["gif"],source:"iana"},"image/heic":{extensions:["heic"],source:"iana"},"image/heic-sequence":{extensions:["heics"],source:"iana"},"image/heif":{extensions:["heif"],source:"iana"},"image/heif-sequence":{extensions:["heifs"],source:"iana"},"image/hej2k":{extensions:["hej2"],source:"iana"},"image/hsj2":{extensions:["hsj2"],source:"iana"},"image/ief":{extensions:["ief"],source:"iana"},"image/jls":{extensions:["jls"],source:"iana"},"image/jp2":{extensions:["jp2","jpg2"],source:"iana"},"image/jpeg":{extensions:["jpeg","jpg","jpe","jfif","pjpeg","pjp"],source:"iana"},"image/jph":{extensions:["jph"],source:"iana"},"image/jphc":{extensions:["jhc"],source:"iana"},"image/jpm":{extensions:["jpm"],source:"iana"},"image/jpx":{extensions:["jpx","jpf"],source:"iana"},"image/jxr":{extensions:["jxr"],source:"iana"},"image/jxra":{extensions:["jxra"],source:"iana"},"image/jxrs":{extensions:["jxrs"],source:"iana"},"image/jxs":{extensions:["jxs"],source:"iana"},"image/jxsc":{extensions:["jxsc"],source:"iana"},"image/jxsi":{extensions:["jxsi"],source:"iana"},"image/jxss":{extensions:["jxss"],source:"iana"},"image/ktx":{extensions:["ktx"],source:"iana"},"image/ktx2":{extensions:["ktx2"],source:"iana"},"image/png":{extensions:["png"],source:"iana"},"image/prs.btif":{extensions:["btif"],source:"iana"},"image/prs.pti":{extensions:["pti"],source:"iana"},"image/sgi":{extensions:["sgi"],source:"apache"},"image/svg+xml":{extensions:["svg","svgz"],source:"iana"},"image/t38":{extensions:["t38"],source:"iana"},"image/tiff":{extensions:["tif","tiff"],source:"iana"},"image/tiff-fx":{extensions:["tfx"],source:"iana"},"image/vnd.adobe.photoshop":{extensions:["psd"],source:"iana"},"image/vnd.airzip.accelerator.azv":{extensions:["azv"],source:"iana"},"image/vnd.dece.graphic":{extensions:["uvi","uvvi","uvg","uvvg"],source:"iana"},"image/vnd.djvu":{extensions:["djvu","djv"],source:"iana"},"image/vnd.dvb.subtitle":{extensions:["sub"],source:"iana"},"image/vnd.dwg":{extensions:["dwg"],source:"iana"},"image/vnd.dxf":{extensions:["dxf"],source:"iana"},"image/vnd.fastbidsheet":{extensions:["fbs"],source:"iana"},"image/vnd.fpx":{extensions:["fpx"],source:"iana"},"image/vnd.fst":{extensions:["fst"],source:"iana"},"image/vnd.fujixerox.edmics-mmr":{extensions:["mmr"],source:"iana"},"image/vnd.fujixerox.edmics-rlc":{extensions:["rlc"],source:"iana"},"image/vnd.microsoft.icon":{extensions:["ico"],source:"iana"},"image/vnd.ms-modi":{extensions:["mdi"],source:"iana"},"image/vnd.ms-photo":{extensions:["wdp"],source:"apache"},"image/vnd.net-fpx":{extensions:["npx"],source:"iana"},"image/vnd.pco.b16":{extensions:["b16"],source:"iana"},"image/vnd.tencent.tap":{extensions:["tap"],source:"iana"},"image/vnd.valve.source.texture":{extensions:["vtf"],source:"iana"},"image/vnd.wap.wbmp":{extensions:["wbmp"],source:"iana"},"image/vnd.xiff":{extensions:["xif"],source:"iana"},"image/vnd.zbrush.pcx":{extensions:["pcx"],source:"iana"},"image/webp":{extensions:["webp"],source:"apache"},"image/wmf":{extensions:["wmf"],source:"iana"},"image/x-3ds":{extensions:["3ds"],source:"apache"},"image/x-cmu-raster":{extensions:["ras"],source:"apache"},"image/x-cmx":{extensions:["cmx"],source:"apache"},"image/x-freehand":{extensions:["fh","fhc","fh4","fh5","fh7"],source:"apache"},"image/x-icon":{extensions:["ico"],source:"apache"},"image/x-jng":{extensions:["jng"],source:"nginx"},"image/x-mrsid-image":{extensions:["sid"],source:"apache"},"image/x-ms-bmp":{extensions:["bmp"],source:"nginx"},"image/x-pcx":{extensions:["pcx"],source:"apache"},"image/x-pict":{extensions:["pic","pct"],source:"apache"},"image/x-portable-anymap":{extensions:["pnm"],source:"apache"},"image/x-portable-bitmap":{extensions:["pbm"],source:"apache"},"image/x-portable-graymap":{extensions:["pgm"],source:"apache"},"image/x-portable-pixmap":{extensions:["ppm"],source:"apache"},"image/x-rgb":{extensions:["rgb"],source:"apache"},"image/x-tga":{extensions:["tga"],source:"apache"},"image/x-xbitmap":{extensions:["xbm"],source:"apache"},"image/x-xpixmap":{extensions:["xpm"],source:"apache"},"image/x-xwindowdump":{extensions:["xwd"],source:"apache"}},ez={"chemical/x-cdx":{extensions:["cdx"],source:"apache"},"chemical/x-cif":{extensions:["cif"],source:"apache"},"chemical/x-cmdf":{extensions:["cmdf"],source:"apache"},"chemical/x-cml":{extensions:["cml"],source:"apache"},"chemical/x-csml":{extensions:["csml"],source:"apache"},"chemical/x-xyz":{extensions:["xyz"],source:"apache"},"font/collection":{extensions:["ttc"],source:"iana"},"font/otf":{extensions:["otf"],source:"iana"},"font/ttf":{extensions:["ttf"],source:"iana"},"font/woff":{extensions:["woff"],source:"iana"},"font/woff2":{extensions:["woff2"],source:"iana"},"message/disposition-notification":{extensions:["disposition-notification"],source:"iana"},"message/global":{extensions:["u8msg"],source:"iana"},"message/global-delivery-status":{extensions:["u8dsn"],source:"iana"},"message/global-disposition-notification":{extensions:["u8mdn"],source:"iana"},"message/global-headers":{extensions:["u8hdr"],source:"iana"},"message/rfc822":{extensions:["eml","mime"],source:"iana"},"message/vnd.wfa.wsc":{extensions:["wsc"],source:"iana"},"model/3mf":{extensions:["3mf"],source:"iana"},"model/gltf+json":{extensions:["gltf"],source:"iana"},"model/gltf-binary":{extensions:["glb"],source:"iana"},"model/iges":{extensions:["igs","iges"],source:"iana"},"model/mesh":{extensions:["msh","mesh","silo"],source:"iana"},"model/mtl":{extensions:["mtl"],source:"iana"},"model/obj":{extensions:["obj"],source:"iana"},"model/step":{extensions:[".p21",".stp",".step",".stpnc",".210"],source:"iana"},"model/step+xml":{extensions:["stpx"],source:"iana"},"model/step+zip":{extensions:["stpz"],source:"iana"},"model/step-xml+zip":{extensions:["stpxz"],source:"iana"},"model/stl":{extensions:["stl"],source:"iana"},"model/vnd.collada+xml":{extensions:["dae"],source:"iana"},"model/vnd.dwf":{extensions:["dwf"],source:"iana"},"model/vnd.gdl":{extensions:["gdl"],source:"iana"},"model/vnd.gtw":{extensions:["gtw"],source:"iana"},"model/vnd.mts":{extensions:["mts"],source:"iana"},"model/vnd.opengex":{extensions:["ogex"],source:"iana"},"model/vnd.parasolid.transmit.binary":{extensions:["x_b"],source:"iana"},"model/vnd.parasolid.transmit.text":{extensions:["x_t"],source:"iana"},"model/vnd.sap.vds":{extensions:["vds"],source:"iana"},"model/vnd.usdz+zip":{extensions:["usdz"],source:"iana"},"model/vnd.valve.source.compiled-map":{extensions:["bsp"],source:"iana"},"model/vnd.vtu":{extensions:["vtu"],source:"iana"},"model/vrml":{extensions:["wrl","vrml"],source:"iana"},"model/x3d+binary":{extensions:["x3db","x3dbz"],source:"apache"},"model/x3d+fastinfoset":{extensions:["x3db"],source:"iana"},"model/x3d+vrml":{extensions:["x3dv","x3dvz"],source:"apache"},"model/x3d+xml":{extensions:["x3d","x3dz"],source:"iana"},"model/x3d-vrml":{extensions:["x3dv"],source:"iana"},"x-conference/x-cooltalk":{extensions:["ice"],source:"apache"}},tz={"video/3gpp":{extensions:["3gp","3gpp"],source:"iana"},"video/3gpp2":{extensions:["3g2"],source:"iana"},"video/h261":{extensions:["h261"],source:"iana"},"video/h263":{extensions:["h263"],source:"iana"},"video/h264":{extensions:["h264"],source:"iana"},"video/iso.segment":{extensions:["m4s"],source:"iana"},"video/jpeg":{extensions:["jpgv"],source:"iana"},"video/jpm":{extensions:["jpm","jpgm"],source:"apache"},"video/mj2":{extensions:["mj2","mjp2"],source:"iana"},"video/mp2t":{extensions:["ts"],source:"iana"},"video/mp4":{extensions:["mp4","mp4v","mpg4"],source:"iana"},"video/mpeg":{extensions:["mpeg","mpg","mpe","m1v","m2v"],source:"iana"},"video/ogg":{extensions:["ogv"],source:"iana"},"video/quicktime":{extensions:["qt","mov"],source:"iana"},"video/vnd.dece.hd":{extensions:["uvh","uvvh"],source:"iana"},"video/vnd.dece.mobile":{extensions:["uvm","uvvm"],source:"iana"},"video/vnd.dece.pd":{extensions:["uvp","uvvp"],source:"iana"},"video/vnd.dece.sd":{extensions:["uvs","uvvs"],source:"iana"},"video/vnd.dece.video":{extensions:["uvv","uvvv"],source:"iana"},"video/vnd.dvb.file":{extensions:["dvb"],source:"iana"},"video/vnd.fvt":{extensions:["fvt"],source:"iana"},"video/vnd.mpegurl":{extensions:["mxu","m4u"],source:"iana"},"video/vnd.ms-playready.media.pyv":{extensions:["pyv"],source:"iana"},"video/vnd.uvvu.mp4":{extensions:["uvu","uvvu"],source:"iana"},"video/vnd.vivo":{extensions:["viv"],source:"iana"},"video/webm":{extensions:["webm"],source:"apache"},"video/x-f4v":{extensions:["f4v"],source:"apache"},"video/x-fli":{extensions:["fli"],source:"apache"},"video/x-flv":{extensions:["flv"],source:"apache"},"video/x-m4v":{extensions:["m4v"],source:"apache"},"video/x-matroska":{extensions:["mkv","mk3d","mks"],source:"apache"},"video/x-mng":{extensions:["mng"],source:"apache"},"video/x-ms-asf":{extensions:["asf","asx"],source:"apache"},"video/x-ms-vob":{extensions:["vob"],source:"apache"},"video/x-ms-wm":{extensions:["wm"],source:"apache"},"video/x-ms-wmv":{extensions:["wmv"],source:"apache"},"video/x-ms-wmx":{extensions:["wmx"],source:"apache"},"video/x-ms-wvx":{extensions:["wvx"],source:"apache"},"video/x-msvideo":{extensions:["avi"],source:"apache"},"video/x-sgi-movie":{extensions:["movie"],source:"apache"},"video/x-smv":{extensions:["smv"],source:"apache"}},rz={"text/cache-manifest":{extensions:["appcache","manifest"],source:"iana"},"text/calendar":{extensions:["ics","ifb"],source:"iana"},"text/css":{charset:"UTF-8",extensions:["css"],source:"iana"},"text/csv":{extensions:["csv"],source:"iana"},"text/html":{extensions:["html","htm","shtml"],source:"iana"},"text/markdown":{extensions:["markdown","md"],source:"iana"},"text/mathml":{extensions:["mml"],source:"nginx"},"text/n3":{charset:"UTF-8",extensions:["n3"],source:"iana"},"text/plain":{extensions:["txt","text","conf","def","list","log","in","ini"],source:"iana"},"text/prs.lines.tag":{extensions:["dsc"],source:"iana"},"text/richtext":{extensions:["rtx"],source:"iana"},"text/rtf":{extensions:["rtf"],source:"iana"},"text/sgml":{extensions:["sgml","sgm"],source:"iana"},"text/shex":{extensions:["shex"],source:"iana"},"text/spdx":{extensions:["spdx"],source:"iana"},"text/tab-separated-values":{extensions:["tsv"],source:"iana"},"text/troff":{extensions:["t","tr","roff","man","me","ms"],source:"iana"},"text/turtle":{charset:"UTF-8",extensions:["ttl"],source:"iana"},"text/uri-list":{extensions:["uri","uris","urls"],source:"iana"},"text/vcard":{extensions:["vcard"],source:"iana"},"text/vnd.curl":{extensions:["curl"],source:"iana"},"text/vnd.curl.dcurl":{extensions:["dcurl"],source:"apache"},"text/vnd.curl.mcurl":{extensions:["mcurl"],source:"apache"},"text/vnd.curl.scurl":{extensions:["scurl"],source:"apache"},"text/vnd.dvb.subtitle":{extensions:["sub"],source:"iana"},"text/vnd.familysearch.gedcom":{extensions:["ged"],source:"iana"},"text/vnd.fly":{extensions:["fly"],source:"iana"},"text/vnd.fmi.flexstor":{extensions:["flx"],source:"iana"},"text/vnd.graphviz":{extensions:["gv"],source:"iana"},"text/vnd.in3d.3dml":{extensions:["3dml"],source:"iana"},"text/vnd.in3d.spot":{extensions:["spot"],source:"iana"},"text/vnd.sun.j2me.app-descriptor":{charset:"UTF-8",extensions:["jad"],source:"iana"},"text/vnd.wap.wml":{extensions:["wml"],source:"iana"},"text/vnd.wap.wmlscript":{extensions:["wmls"],source:"iana"},"text/vtt":{charset:"UTF-8",extensions:["vtt"],source:"iana"},"text/x-asm":{extensions:["s","asm"],source:"apache"},"text/x-c":{extensions:["c","cc","cxx","cpp","h","hh","dic"],source:"apache"},"text/x-component":{extensions:["htc"],source:"nginx"},"text/x-fortran":{extensions:["f","for","f77","f90"],source:"apache"},"text/x-java-source":{extensions:["java"],source:"apache"},"text/x-nfo":{extensions:["nfo"],source:"apache"},"text/x-opml":{extensions:["opml"],source:"apache"},"text/x-pascal":{extensions:["p","pas"],source:"apache"},"text/x-setext":{extensions:["etx"],source:"apache"},"text/x-sfv":{extensions:["sfv"],source:"apache"},"text/x-uuencode":{extensions:["uu"],source:"apache"},"text/x-vcalendar":{extensions:["vcs"],source:"apache"},"text/x-vcard":{extensions:["vcf"],source:"apache"},"text/xml":{extensions:["xml"],source:"iana"}},nz={...ZL,...XL,...QL,...rz,...tz,...ez};function az(e){if(!e||typeof e!="string")return!1;const t=uz("x."+e).toLowerCase().slice(1);return t&&iz()[t]||!1}var sz={},Rx={};function iz(){return oz(sz,Rx),Rx}var Nf=nz,jx=!1;function oz(e,t){if(jx)return;jx=!0;const r=["nginx","apache",void 0,"iana"];Object.keys(Nf).forEach(n=>{const a=Nf[n],s=a.extensions;if(s?.length){e[n]=s;for(const i of s){if(t[i]){const o=r.indexOf(Nf[t[i]].source),u=r.indexOf(a.source);if(t[i]!=="application/octet-stream"&&(o>u||o===u&&t[i].startsWith("application/")))continue}t[i]=n}}})}function uz(e){const t=e.lastIndexOf(".");return t===-1?"":e.slice(Math.max(0,t))}var qD=(e,t)=>{const r=e.type||az(e.name);if(!r){if(t.includes("blob"))return"blob";throw en(400,{allowedTypes:t,files:[e]})}if(t.some(a=>a.includes("/"))&&t.includes(r))return r;const n=r.toLowerCase()==="application/pdf"?"pdf":r.split("/")[0];if(!t.includes(n)){if(t.includes("blob"))return"blob";throw en(400,{allowedTypes:t,files:[e]})}return n},cz=(e,t)=>{const r=qD(e,Object.keys(t));return t[r].mediaType},Ld=new WeakMap,lz=(e,t)=>{const r=UD(e);Ld.set(e,!0),t(),Ld.set(e,r)},UD=e=>Ld.get(e)??!1,fz=(e,t)=>{const r={audio:[],blob:[],image:[],pdf:[],text:[],video:[]};for(const n of e){const a=qD(n,Object.keys(t));r[a].push(n)}return r},Ix=["B","KB","MB","GB"],dz=(e,t)=>{const n=new RegExp(`^(\\d+)(\\.\\d+)?\\s*(${Ix.join("|")})$`,"i").exec(e);if(!n)throw en(403,{files:[t]});const a=Number.parseFloat(n[1]),s=n[3].toUpperCase(),i=a*Math.pow(1024,Ix.indexOf(s));return Math.floor(i)},pz=(e,t,r)=>{const{maxFileCount:n=1/0,maxFileSize:a,minFileCount:s=1}=t;if(e.length<s)throw en(405,{files:e,fileType:r,minFileCount:s});if(e.length>n)throw en(402,{files:e,fileType:r,maxFileCount:n});for(const i of e){const o=dz(a,i);if(i.size>o)throw en(413,{files:[i],fileType:r,maxFileSize:a})}return!0},hz=(e,t)=>{const r=fz(e,t),n=Object.keys(r);for(const a of n){const s=t[a],i=r[a];i.length!==0&&pz(i,s,a)}},vz=(e,t,r)=>{const n=e.getApi(Hr),a=e.getOption(Hr,"uploadConfig"),s=e.getOption(Hr,"multiple");try{hz(t,a)}catch(f){if(!JL(f))throw f;return e.setOption(Hr,"error",f)}if(!s&&t.length>1)return e.setOption(Hr,"error",en(402,{files:Array.from(t),fileType:null,maxFileCount:1}));const i=e.getOption(Hr,"maxFileCount")??3;if(t.length>i)return e.setOption(Hr,"error",en(402,{files:Array.from(t),fileType:null,maxFileCount:i}));let o;const{at:u,nextBlock:c=!0,...l}=r??{};Array.from(t).forEach((f,d)=>{d===0?u&&(o=u):o=o?fe.next(o):void 0;const v=_n();n.placeholder.addUploadingFile(v,f);const h=()=>{e.tf.insertNodes({id:v,children:[{text:""}],mediaType:cz(f,a),type:e.getType(U.placeholder)},{at:o,nextBlock:c,...l})};e.getOption(Hr,"disableEmptyPlaceholder")?e.tf.withoutMerging(()=>{lz(e,h)}):e.tf.withoutNormalizing(h)})},Hr=mD(ML,{options:{disableEmptyPlaceholder:!1,disableFileDrop:!1,error:null,maxFileCount:5,multiple:!0,uploadConfig:{audio:{maxFileCount:1,maxFileSize:"8MB",mediaType:U.audio,minFileCount:1},blob:{maxFileCount:1,maxFileSize:"8MB",mediaType:U.file,minFileCount:1},image:{maxFileCount:3,maxFileSize:"4MB",mediaType:U.img,minFileCount:1},pdf:{maxFileCount:1,maxFileSize:"4MB",mediaType:U.file,minFileCount:1},text:{maxFileCount:1,maxFileSize:"64KB",mediaType:U.file,minFileCount:1},video:{maxFileCount:1,maxFileSize:"16MB",mediaType:U.video,minFileCount:1}},uploadingFiles:{}}}).overrideEditor(({editor:e,tf:{writeHistory:t}})=>({transforms:{writeHistory(r,n){if(UD(e)){const a={...n,[U.placeholder]:!0};t(r,a);return}return t(r,n)}}})).extendEditorTransforms(({editor:e})=>({insert:{media:V(vz,e)}})).extendApi(({getOption:e,setOption:t})=>({addUploadingFile:(r,n)=>{const a=e("uploadingFiles");t("uploadingFiles",{...a,[r]:n})},getUploadingFile:r=>e("uploadingFiles")[r],removeUploadingFile:r=>{const n=e("uploadingFiles");delete n[r],t("uploadingFiles",n)}})).extend(({getOption:e})=>({handlers:{onDrop:({editor:t,event:r,tf:n})=>{if(!e("disableFileDrop"))return;const{files:a}=r.dataTransfer;return a.length===0||(r.preventDefault(),r.stopPropagation(),!t.api.findEventRange(r))?!1:(n.insert.media(a),!0)},onPaste:({editor:t,event:r,tf:n})=>{const{files:a,types:s}=r.clipboardData;if(a.length>0&&!s.includes("text/html")){r.preventDefault(),r.stopPropagation();let o=!1;const u=t.api.block({highest:!0});if(u){const[c,l]=u;ge.string(c).length===0&&(t.tf.removeNodes({at:l}),n.insert.media(a,{at:l,nextBlock:!1}),o=!0)}return o||n.insert.media(a,{nextBlock:!1}),!0}return!1}}})),{PlaceholderProvider:Vq,placeholderStore:Hq,usePlaceholderSet:Kq,usePlaceholderState:Gq,usePlaceholderStore:Yq,usePlaceholderValue:Jq}=Hs({isUploading:!1,progresses:{},size:null,updatedFiles:[]},{name:"placeholder"}),mz=({editor:e,tf:{normalizeNode:t,selectAll:r},type:n})=>({transforms:{normalizeNode([a,s]){if(ve.isElement(a)&&a.type===e.getType(U.columnGroup)){const i=a;if(!i.children.some(o=>ve.isElement(o)&&o.type===n)){e.tf.removeNodes({at:s});return}if(i.children.length<2){e.tf.withoutNormalizing(()=>{e.tf.unwrapNodes({at:s}),e.tf.unwrapNodes({at:s})});return}e.tf.withoutNormalizing(()=>{const o=i.children.length;let u=i.children.map(l=>{const f=Number.parseFloat(l.width);return Number.isNaN(f)?0:f});const c=u.reduce((l,f)=>l+f,0);if(c!==100){const f=(100-c)/o;u=u.map(d=>d+f),u.forEach((d,v)=>{const h=s.concat([v]);e.tf.setNodes({width:`${d}%`},{at:h})})}})}if(ve.isElement(a)&&a.type===n&&a.children.length===0){e.tf.removeNodes({at:s});return}return t([a,s])},selectAll:()=>(()=>{const s=e.selection;if(!s)return;const i=e.api.above({match:{type:n}});if(!i)return;let o=i[1];if(e.api.isStart(e.api.start(s),o)&&e.api.isEnd(e.api.end(s),o)&&(o=fe.parent(o)),o.length!==0)return e.tf.select(o),!0})()?!0:r()}}),WD=we({key:U.column,node:{isContainer:!0,isElement:!0,isStrictSiblings:!0}}).overrideEditor(mz),gz=we({key:U.columnGroup,node:{isContainer:!0,isElement:!0},plugins:[WD]}),VD=Fe(WD),yz=Fe(gz,{plugins:[VD]});const bz=(e,t)=>{if(t)return"text-base mb-1";switch(e){case"h1":return"text-3xl text-brown my-12";case"h2":return"text-2xl text-brown my-10";case"h3":return"text-xl text-brown my-8";case"h4":return"text-lg text-brown my-6";case"h5":return"text-base text-brown my-4";case"h6":return"text-sm text-brown my-2";default:return"text-base"}},ta=e=>{const{element:t,attributes:r,children:n}=e,s=e.editor.plugins.classNameOverride.options.classNameOverride[t.type],i=t.type,o=(t.children||[]).some(u=>u.fontSize||u.fontFamily);return Ee.jsx(i,{...r,className:`${bz(t.type,o)}  ${d1(t.align)} ${s}`,children:n})};var xz=(e,{children:t,target:r,text:n="",url:a})=>{const s=e.getType(U.link);return{children:t??[{text:n}],target:r,type:s,url:a}},wz=e=>{try{return e!==decodeURIComponent(e)?e:encodeURI(e)}catch(t){if(t instanceof URIError)return e;throw t}},ch=(e,t)=>{const{allowedSchemes:r,dangerouslySkipSanitization:n,defaultLinkAttributes:a}=e.getOptions({key:U.link}),s={...a},i=n?t.url:Hx(t.url,{allowedSchemes:r})||void 0;return i!==void 0&&(s.href=i),"target"in t&&t.target!==void 0&&(s.target=t.target),s},Ez=e=>{try{return decodeURI(e)}catch(t){if(t instanceof URIError)return e;throw t}},HD=(e,t)=>{const{allowedSchemes:r,dangerouslySkipSanitization:n,isUrl:a}=e.getOptions(KD);return t.startsWith("/")||t.startsWith("#")?!0:!(a&&!a(t)||!n&&!Hx(t,{allowedSchemes:r,permitInvalid:!0}))},Dz=(e,t,r)=>{e.tf.insertNodes([xz(e,t)],r)},lo=(e,t)=>e.tf.withoutNormalizing(()=>{if(t?.split){if(e.api.above({at:e.selection?.anchor,match:{type:e.getType(U.link)}}))return e.tf.splitNodes({at:e.selection?.anchor,match:a=>ve.isElement(a)&&a.type===e.getType(U.link)}),lo(e,{at:e.selection?.anchor}),!0;if(e.api.above({at:e.selection?.focus,match:{type:e.getType(U.link)}}))return e.tf.splitNodes({at:e.selection?.focus,match:a=>ve.isElement(a)&&a.type===e.getType(U.link)}),lo(e,{at:e.selection?.focus}),!0}e.tf.unwrapNodes({match:{type:e.getType(U.link)},...t})}),$x=(e,{text:t})=>{const r=e.api.above({match:{type:e.getType(U.link)}});if(r){const[n,a]=r;if(t?.length&&t!==e.api.string(a)){const s=n.children[0];e.tf.replaceNodes({...s,text:t},{at:a,children:!0,select:!0})}}},Cz=(e,{target:t,url:r,...n})=>{e.tf.wrapNodes({children:[],target:t,type:e.getType(U.link),url:r},{split:!0,...n})},Mx=(e,{insertNodesOptions:t,insertTextInLink:r,skipValidation:n=!1,target:a,text:s,url:i})=>{const o=e.selection;if(!o)return;const u=e.api.above({at:o,match:{type:e.getType(U.link)}});if(r&&u)return e.tf.insertText(i),!0;if(!n&&!HD(e,i))return;if(Ve(s)&&s.length===0&&(s=i),u)return(i!==u[0]?.url||a!==u[0]?.target)&&e.tf.setNodes({target:a,url:i},{at:u[1]}),$x(e,{text:s}),!0;const c=e.api.node({at:o,match:{type:e.getType(U.link)}}),[l,f]=c??[];let d=!1;if(f&&s?.length){const x=e.api.string(f);s!==x&&(d=!0)}if(Me.isExpanded(o))return u?lo(e,{at:u[1]}):lo(e,{split:!0}),Cz(e,{target:a,url:i}),$x(e,{text:s}),!0;d&&e.tf.removeNodes({at:f});const v=ge.extractProps(l??{}),h=e.selection?.focus.path;if(!h)return;const g=ge.leaf(e,h);return s?.length||(s=i),Dz(e,{...v,children:[{...g,text:s}],target:a,url:i},t),!0},Pz=({editor:e,getOptions:t,tf:{insertBreak:r,insertData:n,insertText:a,normalizeNode:s},type:i})=>{const o=()=>{const{getUrlHref:u,isUrl:c,rangeBeforeOptions:l}=t();e.tf.withoutNormalizing(()=>{const f=e.selection;let d=e.api.range("before",f,{before:l});if(d||(d=e.api.range("start",e.selection)),!d||e.api.some({at:d,match:{type:i}}))return;let h=e.api.string(d);h=u?.(h)??h,c(h)&&(e.tf.select(d),Mx(e,{url:h}),e.tf.collapse({edge:"end"}))})};return{transforms:{insertBreak(){if(!e.api.isCollapsed())return r();o(),r()},insertData(u){const{getUrlHref:c,keepSelectedTextOnPaste:l}=t(),f=u.getData("text/plain"),d=c?.(f);if(f){const v=d||f;if(Mx(e,{insertTextInLink:!0,text:l?void 0:v,url:v}))return}n(u)},insertText(u,c){u===" "&&e.api.isCollapsed()&&o(),a(u,c)},normalizeNode([u,c]){if(u.type===i){const l=e.selection;if(l&&e.api.isCollapsed()&&e.api.isEnd(l.focus,c)&&!e.api.start(c,{next:!0})){const d=fe.next(c);e.tf.insertNodes({text:""},{at:d}),e.tf.select(d)}}s([u,c])}}}},KD=dt({key:U.link,node:{dangerouslyAllowAttributes:["target"],isElement:!0,isInline:!0,props:({editor:e,element:t})=>ch(e,t)},options:{allowedSchemes:["http","https","mailto","tel"],dangerouslySkipSanitization:!1,defaultLinkAttributes:{},isUrl:Vd,keepSelectedTextOnPaste:!0,rangeBeforeOptions:{afterMatch:!0,matchBlockStart:!0,matchString:" ",skipInvalid:!0}},parsers:{html:{deserializer:{rules:[{validNodeName:"A"}],parse:({editor:e,element:t,type:r})=>{const n=t.getAttribute("href");if(n&&HD(e,n))return{target:t.getAttribute("target")||"_blank",type:r,url:n}}}}},rules:{normalize:{removeEmpty:!0},selection:{affinity:"directional"}}}).overrideEditor(Pz),Un=mD(KD,{options:{isEditing:!1,mode:"",mouseDown:!1,newTab:!1,openEditorId:null,text:"",triggerFloatingLinkHotkeys:"meta+k, ctrl+k",updated:!1,url:""}}).extendEditorApi(({editor:e})=>({link:{getAttributes:V(ch,e)}})).extendEditorApi(({setOptions:e})=>({floatingLink:{hide:()=>{e({isEditing:!1,mode:"",mouseDown:!1,newTab:!1,openEditorId:null,text:"",updated:!1,url:""})},reset:()=>{e({isEditing:!1,mode:"",mouseDown:!1,newTab:!1,text:"",updated:!1,url:""})},show:(t,r)=>{e({isEditing:!1,mode:t,openEditorId:r})}}})).extendSelectors(({getOptions:e})=>({isOpen:t=>e().openEditorId===t})),Oz=()=>{const{getOptions:e}=Zo(Un),t=CD(Un,"updated"),r=F.useRef(null),[n,a]=F.useState(e().newTab);return F.useEffect(()=>{r.current&&t&&setTimeout(()=>{r.current?.focus()},0)},[t]),{checked:n,ref:r,setChecked:a}},Az=({checked:e,ref:t,setChecked:r})=>{const{setOption:n}=Zo(Un),a=F.useCallback(s=>{r(s.target.checked),n("newTab",s.target.checked)},[n,r]);return{props:{checked:e,type:"checkbox",onChange:a},ref:t}};Vn("input")({propsHook:Az,stateHook:Oz});var Sz=()=>{const{getOptions:e}=Zo(Un),t=CD(Un,"updated"),r=F.useRef(null),n=F.useRef(!1);return F.useEffect(()=>{r.current&&t&&setTimeout(()=>{const a=r.current;if(!a||n.current)return;n.current=!0;const s=e().url;a.focus(),a.value=s?Ez(s):""},0)},[e,t]),{ref:r}},Bz=e=>{const{getOptions:t,setOption:r}=Zo(Un),n=F.useCallback(a=>{const s=wz(a.target.value);r("url",s)},[r]);return{props:{defaultValue:t().url,onChange:n},ref:e.ref}};Vn("input")({propsHook:Bz,stateHook:Sz});var kz=()=>{const e=bt(),t=K3(),r=F.useMemo(()=>e.api.node({match:{type:e.getType(U.link)}}),[e,t]);if(!r)return{};const[n]=r;return{element:n}},Fz=({element:e})=>{const t=bt();return e?{props:{...ch(t,e),"aria-label":"Open link in a new tab",target:"_blank",onMouseOver:n=>{n.stopPropagation()}}}:{props:{}}};Vn("a")({propsHook:Fz,stateHook:kz});const Tz=e=>{const{element:t,attributes:r,children:n}=e,a=t.url||t.href||"",i=t.linkType==="callToAction"?"text-white bg-brown hover:bg-turquoise px-8 py-4 rounded-md transition-colors inline-block my-8":"text-brown hover:underline";return Ee.jsx("a",{...r,href:a,className:i,children:n})};var eu=(e,{getNodesOptions:t,offset:r=1,setNodesProps:n,unsetNodesProps:a=[]})=>{const{nodeKey:s}=e.getInjectProps(jz),i=e.api.nodes({block:!0,mode:"lowest",...t}),o=Array.from(i);e.tf.withoutNormalizing(()=>{o.forEach(([u,c])=>{const f=(u[s]??0)+r,d=n?.({indent:f})??{};f<=0?e.tf.unsetNodes([s,...a],{at:c}):e.tf.setNodes({[s]:f,...d},{at:c})})})},_z=(e,t)=>{eu(e,{offset:1,...t})},Nz=(e,t)=>{eu(e,{offset:-1,...t})},Rz=({editor:e,getOptions:t,plugin:r,tf:{normalizeNode:n,tab:a}})=>({transforms:{normalizeNode([s,i]){const{indentMax:o}=t(),u=s,{type:c}=u,l=ms(e,r);if(c){if(l(u,i)){if(o&&u.indent&&u.indent>o){e.tf.setNodes({indent:o},{at:i});return}}else if(u.indent){e.tf.unsetNodes("indent",{at:i});return}}return n([s,i])},tab:s=>(()=>{const o=ms(e,r),u=e.api.block();if(!u)return;const[c,l]=u;if(o(c,l))return s.reverse?Nz(e):_z(e),!0})()?!0:a(s)}}),jz=dt({key:U.indent,inject:{isBlock:!0,nodeProps:{nodeKey:"indent",styleKey:"marginLeft",transformNodeValue:({getOptions:e,nodeValue:t})=>{const{offset:r,unit:n}=e();return t*r+n}},targetPlugins:[U.p]},options:{offset:24,unit:"px"}}).overrideEditor(Rz),Iz=["disc","circle","square","disclosure-open","disclosure-closed"],GD=(e,[t,r],{breakOnEqIndentNeqListStyleType:n=!0,breakOnListRestart:a=!1,breakOnLowerIndent:s=!0,breakQuery:i,eqIndent:o=!0,getNextEntry:u,getPreviousEntry:c,query:l})=>{if(!c&&!u)return;const f=u??c;let d=f([t,r]);for(;;){if(!d)return;const[v,h]=d,g=t[U.indent],x=v[U.indent];if(i?.(v,t)||!Ve(x)||a&&(c&&t[U.listRestart]||u&&v[U.listRestart])||s&&x<g||n&&x===g&&v[U.listType]!==t[U.listType])return;let y=!l||l(v,t);if(y&&(y=!o||x===g,y))return[v,h];d=f(d)}},$z=(e,t,r)=>GD(e,t,{getNextEntry:([,n])=>{const a=fe.next(n),s=ge.get(e,a);if(s)return[s,a]},...r,getPreviousEntry:void 0}),YD=(e,t,r)=>GD(e,t,{getPreviousEntry:([,n])=>{const a=fe.previous(n);if(!a)return;const s=ge.get(e,a);if(s)return[s,a]},...r,getNextEntry:void 0});function JD(e){return!!e.listStyleType&&!Iz.includes(e.listStyleType)}var Mz=(e,[t,r])=>{if(!Ve(t[U.indent])&&(t[U.listType]||t[U.listStart]))return e.tf.unsetNodes([U.listType,U.listStart],{at:r}),!0},Lz=(e,t)=>{const[r]=e,[n]=t??[null],a=r[U.listRestart]??null,s=r[U.listRestartPolite]??null;return a||(s&&!n?s:n?(n[U.listStart]??1)+1:1)},ZD=(e,t,r)=>e.tf.withoutNormalizing(()=>{const[n,a]=t,s=n[U.listType],i=n[U.listStart];if(!s)return;const o=YD(e,t,r),u=Lz(t,o);return Ve(i)&&u===1?(e.tf.unsetNodes(U.listStart,{at:a}),!0):i!==u&&u>1?(e.tf.setNodes({[U.listStart]:u},{at:a}),!0):!1}),zz=({editor:e,tf:{insertBreak:t}})=>({transforms:{insertBreak(){const r=e.api.above();if(!r)return t();const[n,a]=r;if(!Ve(n[U.listType])||n[U.listType]!==U.listTodo||e.api.isExpanded()||!e.api.isEnd(e.selection?.focus,a))return t();e.tf.withoutNormalizing(()=>{t();const s=e.api.above();s&&e.tf.setNodes({checked:!1},{at:s[1]})})}}}),qz=(e,t={})=>{eu(e,{offset:-1,unsetNodesProps:[U.listType,U.listChecked],...t})},Uz=({editor:e,getOptions:t,tf:{normalizeNode:r}})=>({transforms:{normalizeNode([n,a]){if(!e.tf.withoutNormalizing(()=>{if(Mz(e,[n,a])||ZD(e,[n,a],t().getSiblingListOptions))return!0}))return r([n,a])}}}),Wz=e=>{const{editor:t,getOptions:r,tf:{apply:n,resetBlock:a}}=e;return{transforms:{resetBlock(s){if(t.api.block(s)?.[0]?.[U.listType]){qz(t);return}return a(s)},...Uz(e).transforms,...zz(e).transforms,apply(s){const{getSiblingListOptions:i}=r();if(s.type==="insert_node"){const c=s.node[U.listType];if(c&&["lower-roman","upper-roman"].includes(c)){const l=YD(t,[s.node,s.path],{breakOnEqIndentNeqListStyleType:!1,eqIndent:!1,...i});if(l){const f=l[0][U.listType];f==="lower-alpha"&&c==="lower-roman"?s.node[U.listType]="lower-alpha":f==="upper-alpha"&&c==="upper-roman"&&(s.node[U.listType]="upper-alpha")}}}s.type==="split_node"&&s.properties[U.listType]&&(s.properties[U.listRestart]=void 0,s.properties[U.listRestartPolite]=void 0),n(s);const o=[];switch(s.type){case"insert_node":case"remove_node":case"set_node":{o.push(s.path);break}case"merge_node":{o.push(fe.previous(s.path));break}case"move_node":{o.push(s.path,s.newPath);break}case"split_node":{o.push(s.path,fe.next(s.path));break}}const u=c=>U.listType in c;o.forEach(c=>{let l=t.api.node(c);if(l)for(u(l[0])||(l=t.api.node(fe.next(c)));l&&u(l[0])&&!ZD(t,l,i);)l=$z(t,l,{...i,breakOnEqIndentNeqListStyleType:!1,breakOnLowerIndent:!1,eqIndent:!1})})}}}};dt({key:U.list,inject:{plugins:{[U.html]:{parser:{transformData:({data:e})=>{const t=new DOMParser().parseFromString(e,"text/html"),{body:r}=t;return $p(r,n=>{if(n.tagName==="LI"){const{childNodes:a}=n,s=[];return a.forEach(i=>{Zi(i)?s.push(...i.childNodes):s.push(i)}),n.replaceChildren(...s),!1}return!0}),r1(r.innerHTML)}}}}},options:{getListStyleType:e=>e.style.listStyleType},parsers:{html:{deserializer:{isElement:!0,rules:[{validNodeName:"LI"}],parse:({editor:e,element:t,getOptions:r})=>({indent:Number(t.getAttribute("aria-level")),listStyleType:r().getListStyleType?.(t),type:e.getType(U.p)})}}},render:{belowNodes:e=>{if(e.element.listStyleType)return t=>F.createElement(Vz,{...t})}},rules:{break:{empty:"reset",splitReset:!1},delete:{start:"reset"},merge:{removeEmpty:!1},match:({node:e})=>Ve(e[U.listType])}}).overrideEditor(Wz);function Vz(e){const{listStart:t,listStyleType:r}=e.element,n=JD(e.element)?"ol":"ul";return F.createElement(n,{style:{listStyleType:r,margin:0,padding:0,position:"relative"},start:t},F.createElement("li",null,e.children))}const Hz=e=>{if(e.element.listStyleType)return t=>Ee.jsx(Kz,{...t})};function Kz(e){const{listStart:t,listStyleType:r}=e.element,n=JD(e.element)?"ol":"ul";return Ee.jsx(n,{className:"mb-4 pl-4 p-0",style:{listStyleType:r},start:t,children:Ee.jsx("li",{children:e.children})})}var Gz=["disc","circle","square","disclosure-open","disclosure-closed"],XD=(e,[t,r],{breakOnEqIndentNeqListStyleType:n=!0,breakOnListRestart:a=!1,breakOnLowerIndent:s=!0,breakQuery:i,eqIndent:o=!0,getNextEntry:u,getPreviousEntry:c,query:l})=>{if(!c&&!u)return;const f=u??c;let d=f([t,r]);for(;;){if(!d)return;const[v,h]=d,g=t[U.indent],x=v[U.indent];if(i?.(v,t)||!Ve(x)||a&&(c&&t[U.listRestart]||u&&v[U.listRestart])||s&&x<g||n&&x===g&&v[U.listType]!==t[U.listType])return;let y=!l||l(v,t);if(y&&(y=!o||x===g,y))return[v,h];d=f(d)}},Yz=(e,t,r)=>XD(e,t,{getNextEntry:([,n])=>{const a=fe.next(n),s=ge.get(e,a);if(s)return[s,a]},...r,getPreviousEntry:void 0}),QD=(e,t,r)=>XD(e,t,{getPreviousEntry:([,n])=>{const a=fe.previous(n);if(!a)return;const s=ge.get(e,a);if(s)return[s,a]},...r,getNextEntry:void 0});function Jz(e){return!!e.listStyleType&&!Gz.includes(e.listStyleType)}var Zz=(e,[t,r])=>{if(!Ve(t[U.indent])&&(t[U.listType]||t[U.listStart]))return e.tf.unsetNodes([U.listType,U.listStart],{at:r}),!0},Xz=(e,t)=>{const[r]=e,[n]=t??[null],a=r[U.listRestart]??null,s=r[U.listRestartPolite]??null;return a||(s&&!n?s:n?(n[U.listStart]??1)+1:1)},eC=(e,t,r)=>e.tf.withoutNormalizing(()=>{const[n,a]=t,s=n[U.listType],i=n[U.listStart];if(!s)return;const o=QD(e,t,r),u=Xz(t,o);return Ve(i)&&u===1?(e.tf.unsetNodes(U.listStart,{at:a}),!0):i!==u&&u>1?(e.tf.setNodes({[U.listStart]:u},{at:a}),!0):!1}),Qz=({editor:e,tf:{insertBreak:t}})=>({transforms:{insertBreak(){const r=e.api.above();if(!r)return t();const[n,a]=r;if(!Ve(n[U.listType])||n[U.listType]!==U.listTodo||e.api.isExpanded()||!e.api.isEnd(e.selection?.focus,a))return t();e.tf.withoutNormalizing(()=>{t();const s=e.api.above();s&&e.tf.setNodes({checked:!1},{at:s[1]})})}}}),eq=(e,t={})=>{eu(e,{offset:-1,unsetNodesProps:[U.listType,U.listChecked],...t})},tq=({editor:e,getOptions:t,tf:{normalizeNode:r}})=>({transforms:{normalizeNode([n,a]){if(!e.tf.withoutNormalizing(()=>{if(Zz(e,[n,a])||eC(e,[n,a],t().getSiblingListOptions))return!0}))return r([n,a])}}}),rq=e=>{const{editor:t,getOptions:r,tf:{apply:n,resetBlock:a}}=e;return{transforms:{resetBlock(s){if(t.api.block(s)?.[0]?.[U.listType]){eq(t);return}return a(s)},...tq(e).transforms,...Qz(e).transforms,apply(s){const{getSiblingListOptions:i}=r();if(s.type==="insert_node"){const c=s.node[U.listType];if(c&&["lower-roman","upper-roman"].includes(c)){const l=QD(t,[s.node,s.path],{breakOnEqIndentNeqListStyleType:!1,eqIndent:!1,...i});if(l){const f=l[0][U.listType];f==="lower-alpha"&&c==="lower-roman"?s.node[U.listType]="lower-alpha":f==="upper-alpha"&&c==="upper-roman"&&(s.node[U.listType]="upper-alpha")}}}s.type==="split_node"&&s.properties[U.listType]&&(s.properties[U.listRestart]=void 0,s.properties[U.listRestartPolite]=void 0),n(s);const o=[];switch(s.type){case"insert_node":case"remove_node":case"set_node":{o.push(s.path);break}case"merge_node":{o.push(fe.previous(s.path));break}case"move_node":{o.push(s.path,s.newPath);break}case"split_node":{o.push(s.path,fe.next(s.path));break}}const u=c=>U.listType in c;o.forEach(c=>{let l=t.api.node(c);if(l)for(u(l[0])||(l=t.api.node(fe.next(c)));l&&u(l[0])&&!eC(t,l,i);)l=Yz(t,l,{...i,breakOnEqIndentNeqListStyleType:!1,breakOnLowerIndent:!1,eqIndent:!1})})}}}},nq=dt({key:U.list,inject:{plugins:{[U.html]:{parser:{transformData:({data:e})=>{const t=new DOMParser().parseFromString(e,"text/html"),{body:r}=t;return $p(r,n=>{if(n.tagName==="LI"){const{childNodes:a}=n,s=[];return a.forEach(i=>{Zi(i)?s.push(...i.childNodes):s.push(i)}),n.replaceChildren(...s),!1}return!0}),r1(r.innerHTML)}}}}},options:{getListStyleType:e=>e.style.listStyleType},parsers:{html:{deserializer:{isElement:!0,rules:[{validNodeName:"LI"}],parse:({editor:e,element:t,getOptions:r})=>({indent:Number(t.getAttribute("aria-level")),listStyleType:r().getListStyleType?.(t),type:e.getType(U.p)})}}},render:{belowNodes:e=>{if(e.element.listStyleType)return t=>F.createElement(aq,{...t})}},rules:{break:{empty:"reset",splitReset:!1},delete:{start:"reset"},merge:{removeEmpty:!1},match:({node:e})=>Ve(e[U.listType])}}).overrideEditor(rq);function aq(e){const{listStart:t,listStyleType:r}=e.element,n=Jz(e.element)?"ol":"ul";return F.createElement(n,{style:{listStyleType:r,margin:0,padding:0,position:"relative"},start:t},F.createElement("li",null,e.children))}var sq=Fe(nq),tC=(e,{getNodesOptions:t,offset:r=1,setNodesProps:n,unsetNodesProps:a=[]})=>{const{nodeKey:s}=e.getInjectProps(rC),i=e.api.nodes({block:!0,mode:"lowest",...t}),o=Array.from(i);e.tf.withoutNormalizing(()=>{o.forEach(([u,c])=>{const f=(u[s]??0)+r,d=n?.({indent:f})??{};f<=0?e.tf.unsetNodes([s,...a],{at:c}):e.tf.setNodes({[s]:f,...d},{at:c})})})},iq=(e,t)=>{tC(e,{offset:1,...t})},oq=(e,t)=>{tC(e,{offset:-1,...t})},uq=({editor:e,getOptions:t,plugin:r,tf:{normalizeNode:n,tab:a}})=>({transforms:{normalizeNode([s,i]){const{indentMax:o}=t(),u=s,{type:c}=u,l=ms(e,r);if(c){if(l(u,i)){if(o&&u.indent&&u.indent>o){e.tf.setNodes({indent:o},{at:i});return}}else if(u.indent){e.tf.unsetNodes("indent",{at:i});return}}return n([s,i])},tab:s=>(()=>{const o=ms(e,r),u=e.api.block();if(!u)return;const[c,l]=u;if(o(c,l))return s.reverse?oq(e):iq(e),!0})()?!0:a(s)}}),rC=dt({key:U.indent,inject:{isBlock:!0,nodeProps:{nodeKey:"indent",styleKey:"marginLeft",transformNodeValue:({getOptions:e,nodeValue:t})=>{const{offset:r,unit:n}=e();return t*r+n}},targetPlugins:[U.p]},options:{offset:24,unit:"px"}}).overrideEditor(uq),cq=Fe(rC);function lq(e){const{width:t}=e.element,r=t?`w-[${t}] sm:w-full`:"w-full";return Ee.jsx("div",{className:`group/column relative ${r}`,children:Ee.jsx(Ws,{className:"h-full group-first/column:pl-0 group-last/column:pr-0",...e,children:Ee.jsx("div",{className:"relative h-full border border-transparent p-1.5",children:e.children})})})}function fq(e){return Ee.jsx(Ws,{...e,children:Ee.jsx("div",{className:"flex size-full flex-col sm:flex-row",children:e.children})})}const dq=c3({key:"pricing",node:{isElement:!0,type:"pricing",isVoid:!0}}),pq=({isOpen:e,onClose:t,content:r})=>Ee.jsxs(ru,{open:e,onClose:t,className:"relative z-50",children:[Ee.jsx("div",{className:"fixed inset-0 bg-turquoise/50"}),Ee.jsx("div",{className:"fixed inset-0 w-screen overflow-y-auto",children:Ee.jsx("div",{className:"flex h-full items-center justify-center p-4",children:Ee.jsxs(ru.Panel,{className:"bg-white rounded-sm shadow-lg h-full max-w-3xl w-full pt-6 flex flex-col",children:[Ee.jsx(ru.Title,{className:"text-xl text-brown text-center pb-4 border-b-turquoise border-b-1 shadow-[0_2px_2px_0_rgba(0,0,0,0.25)]",children:r.name}),Ee.jsx("div",{className:"pt-4 pb-0 flex flex-col flex-1 justify-between overflow-auto p-4",children:Ee.jsx(nC,{value:r.description})}),Ee.jsx("a",{className:"text-xl py-4 text-center bg-turquoise rounded-b-sm text-white w-full self-center",target:"_blank",rel:"noopener noreferrer",href:r.bookingUrl,children:"Prendre rendez-vous"})]})})})]}),hq=({item:e})=>{const[t,r]=K.useState(!1),n=()=>{r(!0)},a=()=>{r(!1)};return Ee.jsxs(Ee.Fragment,{children:[Ee.jsxs("div",{className:"pt-4 pb-0 flex flex-col h-full justify-between cursor-pointer bg-brown/10",onClick:n,children:[Ee.jsx("h3",{className:"px-4 pb-4",children:e.name}),Ee.jsx("div",{className:"flex-1 overflow-auto px-4",children:Ee.jsx(nC,{value:e.shortDescription})}),Ee.jsx("div",{className:"text-xl py-4 text-center bg-turquoise text-white w-full self-center",children:e.price===0?"Offert":`${e.price.toFixed(0)} €`})]}),Ee.jsx(pq,{isOpen:t,onClose:a,content:e})]})},vq=({element:{documentId:e},editor:t})=>{const r=t.plugins["analysed-content"],{analysedContent:n}=r.options,a=n.pricing[e];return a?Ee.jsxs("div",{children:[Ee.jsx("h2",{className:"text-2xl text-brown my-10",children:a.name}),Ee.jsx("div",{className:"flex w-full",children:Ee.jsx(fC,{slidesPerView:1,spaceBetween:20,modules:[vC],pagination:{clickable:!0},className:"h-120 w-full",breakpoints:{"@0.00":{slidesPerView:1},"@0.6":{slidesPerView:2},"@0.75":{slidesPerView:3},"@1.00":{slidesPerView:3},"@1.50":{slidesPerView:4}},children:a.items.map((s,i)=>Ee.jsx(dC,{className:"pricing-item rounded-sm shadow-gray-100 pb-8",children:Ee.jsx(hq,{item:s})},i))})})]}):null},nC=function({value:e,classNameOverride:t}){const r=ON({value:e.content,plugins:[iL(e),we({key:"classNameOverride",options:{classNameOverride:t}}),DL,LL,VD,yz,FD,Un,cq.configure({inject:{targetPlugins:[...U.heading,U.p,U.blockquote,U.codeBlock]}}),sq.configure({inject:{targetPlugins:[...U.heading,U.p,U.blockquote,U.codeBlock]},render:{belowNodes:Hz}}),dq],components:{[U.p]:nR,[U.img]:oL,[U.h1]:ta,[U.h2]:ta,[U.h3]:ta,[U.h4]:ta,[U.h5]:ta,[U.h6]:ta,[U.a]:Tz,[U.columnGroup]:fq,[U.column]:lq,pricing:vq}});return Ee.jsx("div",{className:"px-4 sm:px-0",children:Ee.jsx(YT,{editor:r})})};export{nC as Static};
